export PATH=/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/meejain/.rvm/bin

Library/CloudStorage/OneDrive-Adobe/Quarterly_BPA_Analysis-Basic/Q4\'22-BestPracticesAnalyzer2.1.34

=====================================================

chrome://flags/#enable-force-dark

=================================================

oot@ampnz-prod3-dispatcher1apsoutheast2:~ source /etc/sysconfig/httpd;/sbin/httpd -t -D DUMP_CONFIG | grep "DocumentRoot"
-bash: ENV_TYPE: command not found
AH00112: Warning: DocumentRoot [/mnt/var/www/html/yourjourney] does not exist
DocumentRoot "/var/www/html"
  DocumentRoot /mnt/var/www/author
  DocumentRoot /mnt/var/www/html/publish
  DocumentRoot /mnt/var/www/author
  DocumentRoot "/mnt/var/www/html/publish"
  DocumentRoot "/mnt/var/www/html/yourjourney"
  DocumentRoot /mnt/var/www/default

  caleb 

  ==========================================================

  Derek grub.conf steps - - - - > 



  grub.conf - 

  The rpm is there but the boot loader didn't grab the new version.

  rpm -qa | grep kernel-3.

Remove any unneeded rmp's (cannot remove current version)
  yum remove kernel-3.xxx

Set the default grub order to 1
   vim /etc/default/grub

Rebuild grub2 config
   grub2-mkconfig -o /boot/grub2/grub.cfg

Restart VM
   init 6

Set default grub back to 0 amd rebuild grub2 config as above

Restart VM
   init 6

remove old kernel version!!


==============================================================

https://www.woodhouseclothing.com/en-gb/emporio-armani-all-over-black-orange-print-jacket-aw206h1bn71nlnzf617.html

armani

Product code: aw206h1bn71nlnzf617

==============================

https://wiki.corp.adobe.com/display/MSTeam/AMSSEC1_24%3A+Remove+TLS+1.0+and+TLS1.1

weak cipher - bogdan, vipul 

===========================================================================


2023 Patch Schedule
• Q1 - Feb
o Non-Prod 
 Feb1st
o Prod 
 Feb 8th / Feb 20th 
• Q2 - May
o Non-Prod
 May 3rd
o Prod 
 May 10th / May 22nd 
• Q3 – August 
o Non-Prod 
 Aug 2nd
o Prod
 Aug 9th / Aug 21st
• Q4 – November 
o Non-Prod 
 Nov 1st
o Prod 
 Nov 8th / Nov 20th



SNOW Field – Budget Cycle Month (OTHER)
2nd Wednesday (PST)
  2nd Wednesday | 2:00am - 5:00am – Jan
  2nd Wednesday | 10:00am - 1:00pm - March
  2nd Wednesday | 9:00pm - 12:00am – Feb
3rd Monday (PST)
  3rd Monday | 5:00am - 8:00am – Oct
  3rd Monday | 12:00am – 3:00am – Nov
  3rd Monday | 1:00pm - 4:00pm - Dec

=================================================

exact s3 / blob data - 

nohup sudo -u crx java -Xmx4g -Djline.terminal=jline.UnsupportedTerminal -jar oak-run-1.22.7.jar console /mnt/crx/author/crx-quickstart/repository/segmentstore ":load https://raw.githubusercontent.com/chetanmeh/oak-console-scripts/master/src/main/groovy/repostats/oakRepoStats.groovy" &


======================================================

mediassist claim - 

https://portal.mediassist.in/DomiCategoryClaimSubmission_UHCP.aspx

https://adobe.mediassist.in/IndexAdobe.aspx

=====================================================

https://adobems.service-now.com/nav_to.do?uri=%2Fsys_report_template.do%3Fjvar_report_id%3D0f55e7231bd00154290f1179b04bcbc1


========================================

thoughtworks - 

I6-yQ18YfV?8Ddw6K@6s#~i[      old




wvawxGyGAngt4-eqcL@dZa@j      new

By Dan - nagios change password - change AEM admin password

https://wiki.corp.adobe.com/display/~jyeh/Change+password

Use "Change CQ Admin Password" topology action, or 
Manual steps
Update admin password in AEM
Update admin password on MSC (Save Passwords action)
Update root and nagios password of CQ_Admin on AEM instances
sudo su - nagios
pass edit CQ_Admin
sudo -i
pass edit CQ_Admin

========================================================

cloudmanager - symlinks on windows 

https://github.com/git-for-windows/git/wiki/Symbolic-Links

git bash

https://www.albinsblog.com/2020/12/aem-dispatcher-configurations-symlinks.html#.Y45A-OxBxb9


=======================================================

salt-call state.sls states.linux.uvscancronremoval 

av uv scan removal

=================================================

"Pinned by Tim Bonnett
Tim Bonnett
  9:08 PM
Production Maintenance Window Decrypt
2nd Wednesday
·     2nd Wednesday | 2:00am - 5:00am - Jan
·     2nd Wednesday | 9:00pm - 12:00am - Feb
·     2nd Wednesday | 10:00am - 1:00pm - March
3rd Monday
·     3rd Monday | 5:00am - 8:00am – Oct
·     3rd Monday | 12:00am – 3:00am – Nov
·     3rd Monday | 1:00pm - 4:00pm - Dec"

==================================================

Dump on dispatchers - Caleb

source /etc/sysconfig/httpd;/sbin/httpd -t -D DUMP_CONFIG | grep -v "#" | less

===================================================

blue green deployment by zach - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Blue-Green+One+Pager

================================================

Caleb Recording on dispatchers - 

https://adobe-my.sharepoint.com/personal/meejain_adobe_com/_layouts/15/stream.aspx?id=%2Fpersonal%2Fmeejain%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FChanges%20to%20the%20flush%20configs%20%26%20clarity%20on%20AMSSEC1%5F69%20RPM%2D20221103%5F000342%2DMeeting%20Recording%2Emp4&ga=1

=================================================

PRB0516030 - here is the ticket for the service user / api token by Tim - BPA Automation 

=====================================================

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=AEM+Fails+to+Restart+with+AuthenticationSupport+service+missing

Authentication service missing errors by jaideep costi 

AEM Fails to Restart with AuthenticationSupport service missing

=======================================================

Introduction to CS – 
https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/migration/moving-to-aem-as-a-cloud-service/introduction.html?lang=en


git@git.corp.adobe.com:Pyramid/amsbasictools.git

https://adobems.service-now.com/u_cloud_manager_adoption_list.do

In case of ALB –
 
index IN ("ams_aws_elb_access","aws_elb_access") alb="gga-prod1" sourcetype="aws:alb:accesslogs" | stats count by request | sort -count
 
In case of ELB –
 
index IN ("ams_aws_elb_access","aws_elb_access") elb="gga-prod1" sourcetype="aws:elb:accesslogs" | stats count by request | sort -count


AzureDiagnostics
| where TimeGenerated > ago(1h)
| where ResourceProvider == "MICROSOFT.NETWORK" and Category == "ApplicationGatewayAccessLog"
| summarize count() by httpStatus_d, clientIP_s, Resource, requestUri_s
| project httpStatus_d, clientIP_s, Resource, requestUri_s, count_
| order by count_
 
AzureDiagnostics
|where TimeGenerated > ago(1h)
| where requestUri_s contains "passwd"
| summarize count() by clientIP_s,requestUri_s,httpStatus_d
| order by count_ 
 
AzureDiagnostics
|where TimeGenerated > ago(1h)
| where requestUri_s contains "win.ini"
| summarize count() by clientIP_s,requestUri_s,httpStatus_d
| order by count_ 

=================================================================================
Needs  to be checked - 

https://support.console.aws.amazon.com/support/home?#/case/?caseId=10722738571&displayId=10722738571&language=en

https://aws.amazon.com/blogs/mt/org-aggregator-delegated-admin/

(For tracking any resource)

=========================================================================================

Franklin learning - 

Franklin Discovery call schedule for Gap (Basic)

Hello Team CST Consultants Inc.
 
Thank you again for showing interest to the Franklin VIP Program that we’ll schedule with Adobe Franklin Engineers. 
 
Please let us know the below information so that Franklin Team will be more aware about your expectations & challenges & accordingly present that pitch – 
• Available time frames along with Time Zone for next few weeks / upcoming month. 
• What kind of Project type that you’ll be interested to migrate over to Franklin –– (Existing AEM or Commerce URL - Full or partial site or storefront) OR New URL for site / storefront OR Bring content into web / native apps (headless).
• Any known complexities  - AEM Assets integration / AEM Forms integration / Commerce integration / Personalization integration / Uses authentication/authorization / HIPAA/High security environment or any other. 
• Any existing URL for this VIP program, if available. 
• Please share with us the names & roles of the members who will be present in that meeting. Franklin team expects - decision maker (business leader with authority) to attend pitches, in addition to technical roles and content managers and authors.

Looking forward for further partnership. 
 
 
Many Thanks,





CSS & JS tutorial - 

https://www.youtube.com/watch?v=6mbwJ2xhgzM&t=8s

https://www.youtube.com/playlist?list=PLu0W_9lII9agiCUZYRsvtGTXdxkzPyItg

latest Franklin pitch call with Gillean - 

https://adobe-my.sharepoint.com/personal/gkrause_adobe_com/_layouts/15/stream.aspx?id=%2Fpersonal%2Fgkrause%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FFranklin%20Discovery%20Call%20%2D%20Orora%20Packaging%20Solutions%2D20230201%5F123357%2DMeeting%20Recording%2Emp4&ga=1


email template - 

Hello Team,

Thank you again for giving green light to the Franklin Discovery call that we’ll schedule with Adobe Franklin Engineers.

Please let us know the below information so that Franklin Team will be more aware about your expectations & challenges & accordingly present that pitch –


* Couple of available time frames along with Time Zone.


* What kind of Project type that you’ll be interested to migrate over to Franklin ––



(Existing AEM or Commerce URL - Full or partial site or storefront) OR New URL for site / storefront OR Bring content into web / native apps (headless)



* Any known complexities - AEM Assets integration / AEM Forms integration / Commerce integration / Personalization integration / Uses authentication/authorization / HIPAA/High security environment or any other.


* Any existing URL for this VIP program, if available.


Looking forward for further partnership.




JS React Adobe Training - 

https://adobe.sharepoint.com/sites/ReactJS/_layouts/15/stream.aspx?id=%2Fsites%2FReactJS%2FShared%20Documents%2FReact%20JS%2D28th%20Nov%20%2D2nd%20dec%202022%20%285%20Half%20days%29%2FRecordings%2FDay1%5FPart2%2Emp4&wdLOR=c11942D09%2DD7FF%2D4D4B%2DA478%2D716A8D3DFAF7&ga=1

https://adobe.sharepoint.com/sites/ReactJS/_layouts/15/stream.aspx?id=%2Fsites%2FReactJS%2FShared%20Documents%2FReact%20JS%2D28th%20Nov%20%2D2nd%20dec%202022%20%285%20Half%20days%29%2FRecordings%2FDay2%2Emp4&wdLOR=c0389A18D%2D6373%2D794C%2DA1AB%2D9A0105C9DF75&ga=1

https://adobe.sharepoint.com/sites/ReactJS/_layouts/15/stream.aspx?id=%2Fsites%2FReactJS%2FShared%20Documents%2FReact%20JS%2D28th%20Nov%20%2D2nd%20dec%202022%20%285%20Half%20days%29%2FRecordings%2FDay3%2Emp4&wdLOR=cB3185621%2D7D29%2D5C47%2D8BBE%2D7070DBD81FEC&ga=1

https://adobe.sharepoint.com/sites/ReactJS/_layouts/15/stream.aspx?id=%2Fsites%2FReactJS%2FShared%20Documents%2FReact%20JS%2D28th%20Nov%20%2D2nd%20dec%202022%20%285%20Half%20days%29%2FRecordings%2FDay4%2Emp4&wdLOR=c3F0F9DF2%2D1F42%2DA34B%2D96EA%2D0F5115211D8D&ga=1

https://adobe.sharepoint.com/sites/ReactJS/_layouts/15/stream.aspx?id=%2Fsites%2FReactJS%2FShared%20Documents%2FReact%20JS%2D28th%20Nov%20%2D2nd%20dec%202022%20%285%20Half%20days%29%2FRecordings%2FDay5%2Emp4&wdLOR=c7F6576EC%2D2CEB%2D314E%2D9B88%2D000F3049D90E&ga=1


Recording by astha - 

https://adobe-my.sharepoint.com/personal/ksaha_adobe_com/_layouts/15/stream.aspx?id=%2Fpersonal%2Fksaha%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FFranklin%20Session%202%20%2D%20India%20AMS%20Team%2D20230314%5F143718%2DMeeting%20Recording%2Emp4&ga=1


Bhanu JS Franklin Recording - 

https://adobe.sharepoint.com/sites/ReactJS/_layouts/15/stream.aspx?id=%2Fsites%2FReactJS%2FShared%20Documents%2FWorkshop%20%2D%20CSS%20and%20JS%2017th%2D21st%20April%202023%2FRecordings%2FDay%5F1%20CSS%20and%20JS%2Emp4&wdLOR=cC8FA3494%2DDA49%2D084D%2D9FD4%2D89198E5BF8C2&ga=1

https://adobe.sharepoint.com/sites/ReactJS/_layouts/15/stream.aspx?id=%2Fsites%2FReactJS%2FShared%20Documents%2FWorkshop%20%2D%20CSS%20and%20JS%2017th%2D21st%20April%202023%2FRecordings%2FDay%5F2%2Emp4&wdLOR=c80BE9E7F%2D5C04%2DD946%2D85EF%2DADAF53D6A70E&ga=1


GIT Push to ur Franklin Project - 

 50  cd Franklin
   51  git push
   52  ls -ltr
   53  cd Franklin-AMSBasic-DEMO
   54  git push https://github.com/meejain/Franklin-AMSBasic-DEMO.git
=======================================================================

AEM Learnings - 

https://www.youtube.com/watch?v=JhKq9zOwfeo - build a site on AEMaaCS quickly

https://www.youtube.com/watch?v=L9XFkF3VFjM - AEM - Authoring or Creating First Page on Adobe Experience Manager CMS


========================================================================

Exact size of blob / s3 as per Tim Derek

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Work+out+the+%27actual%27+size+of+an+environment+using+S3+or+Azure+Datastore

## Stage
``` bash
Stats in json format dumped to /mnt/tmp/repo-stats.json
Stats in tx format dumped to /mnt/tmp/repo-stats.txt
Total time taken : 18.27 min
```
​
``` bash
Number of NodeStates
        Total     : 48834161 (48.8 M)
        in index  : 42646775 (42.6 M)
        in system : 3168244 (3.2 M)
        in JCR    : 3019140 (3.0 M)
​
Number of NodeStates under /jcr:system
        Total                                : 3168244 (3.2 M)
        in /jcr:system/jcr:versionStorage    : 3153465 (3.2 M)
        in /jcr:system/rep:permissionStore   : 11241 (11.2 k)
​
Binary stats
The size reported below does not account for deduplication. Hence reported
total size might be much more than actual datastore size
        Total                                : 167.1 GB (174920) (Deduplicated 163.9 GB, Inlined 42
2.3 M)
                 nt:file                           : 160.6 GB (139219) (Deduplicated 158.5 GB, Inli
ned 340.4 M)
                 oak:index                         : 3.5 GB (824) (Deduplicated 3.5 GB, Inlined 637
.1 k)
                 versioned nt:file                 : 3.0 GB (33571) (Deduplicated 1.8 GB, Inlined 8
0.1 M)
                 unknown                           : 1.2 MB (1306) (Deduplicated 60.5 kB, Inlined 1
.1 M)
Report generated on :Wed Aug 31 23:11:44 UTC 2022
​
Nodetype stats
​
​
                     Name                         Count      Subtree Count     % JCR
 _____________________________________________  __________  _______________  __________
 nt:unstructured                                2103746     0                0
 nt:frozenNode                                  1177064     0                0
 rep:versionStorage                             633780      0                0
 nt:version                                     475665      0                0
 nt:versionHistory                              433474      2519685          83
:
```
​
## Prod
``` bash
Stats in json format dumped to /mnt/tmp/repo-stats.json
Stats in tx format dumped to /mnt/tmp/repo-stats.txt
Total time taken : 23.83 min
```
``` bash
Number of NodeStates
        Total     : 68683983 (68.7 M)
        in index  : 57540082 (57.5 M)
        in system : 8495281 (8.5 M)
        in JCR    : 2648618 (2.6 M)
​
Number of NodeStates under /jcr:system
        Total                                : 8495281 (8.5 M)
        in /jcr:system/jcr:versionStorage    : 8480372 (8.5 M)
        in /jcr:system/rep:permissionStore   : 11371 (11.4 k)
​
Binary stats
The size reported below does not account for deduplication. Hence reported
total size might be much more than actual datastore size
        Total                                : 158.3 GB (139639) (Deduplicated 156.6 GB, Inlined 324.3 M)
                 nt:file                           : 152.8 GB (120762) (Deduplicated 151.7 GB, Inlined 294.7 M)
                 oak:index                         : 3.5 GB (855) (Deduplicated 3.5 GB, Inlined 717.9 k)
                 versioned nt:file                 : 2.0 GB (13999) (Deduplicated 1.4 GB, Inlined 27.3 M)
                 unknown                           : 1.7 MB (4023) (Deduplicated 34.6 kB, Inlined 1.7 M)
Report generated on :Wed Aug 31 23:51:29 UTC 2022
​
Nodetype stats
​
​
                     Name                         Count      Subtree Count     % JCR
 _____________________________________________  __________  _______________  __________
 nt:frozenNode                                  5061510     0                0
 nt:unstructured                                1425200     0                0
 rep:versionStorage                             995262      0                0
 nt:version                                     994241      0                0
 nt:versionHistory                              714676      7485110          282
repo-stats.txt
```
​
​
Steps:
sudo -i
​
mkdir /mnt/tmp
​
chmod 777 /mnt/tmp
​
cd /mnt/tmp
​
wget `https:``//[repo1.maven.org/maven2/org/apache/jackrabbit/oak-run/1.10.2/oak-run-1.10.2.jar]
​
chmod 755 [oak-run-1.10.2.jar](http://repo1.maven.org/maven2/org/apache/jackrabbit/oak-run/1.10.2/oak-run-1.10.2.jar)
​
nohup sudo -u crx java -Xmx4g -Djline.terminal=jline.UnsupportedTerminal -jar oak-run*.jar console /mnt/crx/author/crx-quickstart/repository/segmentstore` `":load [https://raw.githubusercontent.com/chetanmeh/oak-console-scripts/master/src/main/groovy/repostats/oakRepoStats.groovy](https://raw.githubusercontent.com/chetanmeh/oak-console-scripts/master/src/main/groovy/repostats/oakRepoStats.groovy)"` `&`
​
tail -f nohup.out

======================================================================



SNOW Query of PROD AEM instances - 

https://adobems.service-now.com/nav_to.do?uri=%2Fsys_report_template.do%3Fjvar_report_id%3D0f55e7231bd00154290f1179b04bcbc1


https://wiki.corp.adobe.com/display/MSTeam/Automating+BPA+Report+Generation 
Best wiki 

Synthetic alert for AEM Basic

https://status.azure.com/en-us/status
https://status.adobe.com/products/1175/20220408018


https://www.middlewareinventory.com/blog/aws-boto-script-list-all-elb-with-targetgroup-and-instance-health/

Python 

==============================================================================

Dockers & Kubernetes - 

Day 1 - https://bluejeans.com/s/zmYWJOynmpO

Day 2 - https://bluejeans.com/s/XnatIp5uPCf/

Day 3 - https://bluejeans.com/s/52KNcIi99O2/

Day 4 - https://bluejeans.com/s/dKmlQDNjOm6/

==============================================================================

Asset essentials - 

https://fieldreadiness-adobe.highspot.com/items/61425c96da8941fb55837758

===========================================================================

Email mass comm by Tim - https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=ServiceNow+API+Caller

Recording - https://adobe-my.sharepoint.com/personal/bonnett_adobe_com/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fbonnett%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FAMS%20Basic%20Leads%20%2D%20%20Weekly%20Sync%20up%2D20220719%5F091728%2DMeeting%20Recording%2Emp4&parent=%2Fpersonal%2Fbonnett%5Fadobe%5Fcom%2FDocuments%2FRecordings&ga=1


==================================================================
avinash - high priority pages - 

https://exadel.com/news/how-to-publish-high-priority-aem-website-pages-faster/

===========================================================


AEM as a CS - 

Maven commands -

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/implementing/using-cloud-manager/create-application-project/build-environment-details.html?lang=en

CM in CS - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/implementing/using-cloud-manager/cicd-pipelines/introduction-ci-cd-pipelines.html?lang=en

Deploying Code in CS with diagram - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/implementing/using-cloud-manager/deploy-code.html?lang=en


Front end Pipeline details - 


https://experienceleague.adobe.com/docs/experience-manager-core-components/using/developing/archetype/uifrontend.html?lang=en

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/sites/administering/site-creation/enable-front-end-pipeline.html?lang=en#technical-details

Meet Kumar Jain Yesterday at 8:15 PM
Hey Team .. is there any specific maven archetype for front end deployments via CM ?




5 replies


Sammit Potade:house_with_garden:  1 day ago
@ssane knows the answer


Sammit Potade:house_with_garden:  1 day ago
https://experienceleague.adobe.com/docs/experience-manager-core-components/using/developing/archetype/uifrontend.html?lang=en
experienceleague.adobe.comexperienceleague.adobe.com
AEM Project Archetype Front-End Build | Adobe Experience Manager
A project template for AEM-based applications


Sagar Sane:smiling-cowboyhat:  1 day ago
There is no specific maven archetype needed, as long as your maven project has a ui.frontend module. Front End build configuration just points to that ui.frontend module.
There are changes needed on the AEM side though (couple of configurations are needed - SiteConfig and HtmlPageItemsConfig as sling:configs) : mentioned here : https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/sites/adm[…]ng/site-creation/enable-front-end-pipeline.html?lang=en
experienceleague.adobe.comexperienceleague.adobe.com
Enabling the Front-End Pipeline | Adobe Experience Manager
Learn how you can enable the front-end pipeline for existing sites to leverage site themes to more quickly customize your site.


Sagar Sane:smiling-cowboyhat:  1 day ago
(these sling:configs tell AEM what are the "artifacts" exported by the Front End pipeline ... so that the artifacts get injected on all AEM pages over the static-** domain specific to Front End Artifacts)

AEM Archetype - 

https://experienceleague.adobe.com/docs/experience-manager-core-components/using/developing/archetype/overview.html?lang=en


===========================================================================
NewRelic Monitor


Understanding the difference between a Ping monitor and Simple Browser monitor
A Ping monitor issues a HEAD request for the resource at the specified URL (usually an HTML file), using a JavaScript http object. It is useful for monitoring that the website is online and is responding to requests.

A Simple Browser monitor, on the other hand, spins up a virtual machine and loads the specified URL in a real browser. It loads not only the HTML file(specified url), but all resources referenced in the url, and records how long each resource takes to load in the browser. It is useful for monitoring the full load time of the page, as well as determining which resources take the most time. This helps to understand the actual end user experience.

Scripted browser monitors – the 3rd kind of Synthetic monitor
As AMS is maturing and based on our pursuit of improving our observability techniques, we realized that compared to a simple ping monitor, Browser monitor is a more accurate emulation of an actual customer visit.

But although Simple browser monitor gives a more accurate view of how the website loads for an actual end used, the Scripted browser monitors can be used for more sophisticated, customized monitoring as compared to Simple Browser monitoring. In it we can create a custom script that navigates customer website, takes specific actions, and ensures specific resources are present on the web page.






===============================================================================

Helix - 

Recording - 

https://adobe-my.sharepoint.com/personal/shbagchi_adobe_com/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fshbagchi%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FHELIX%20session%20with%20Jessica%2D20220302%5F090153%2DMeeting%20Recording%2Emp4&parent=%2Fpersonal%2Fshbagchi%5Fadobe%5Fcom%2FDocuments%2FRecordings&ga=1

https://adobe-my.sharepoint.com/personal/mnelson_adobe_com/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fmnelson%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FMeeting%2D20211101%5F153257%2DMeeting%20Recording%2Emp4&parent=%2Fpersonal%2Fmnelson%5Fadobe%5Fcom%2FDocuments%2FRecordings&ga=1

Recording by Jessica - 

https://adobe-my.sharepoint.com/personal/jzachari_adobe_com/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fjzachari%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FAdobe%20%26%20World%20Bank%5F%20%20Helix%20Beta%20Program%20Overview%20and%20Demonstration%2D20220324%5F130241%2DMeeting%20Recording%2Emp4&parent=%2Fpersonal%2Fjzachari%5Fadobe%5Fcom%2FDocuments%2FRecordings&ga=1

Franklin with elham - 

https://adobe-my.sharepoint.com/personal/echandle_adobe_com/_layouts/15/stream.aspx?id=%2Fpersonal%2Fechandle%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FManaged%20Services%20Staff%2D20220920%5F095128%2DMeeting%20Recording%2Emp4&wdLOR=c4A3E4950%2DA1C6%2D6840%2DBED7%2D73C8E70C25B9&ga=1

Research affliates - 

https://adobe-my.sharepoint.com/personal/jzachari_adobe_com/_layouts/15/stream.aspx?id=%2Fpersonal%2Fjzachari%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FAdobe%20Helix%20Discovery%20call%20for%20Research%20Affiliates%20LLC%2D20220818%5F120839%2DMeeting%20Recording%2Emp4&ga=1

================================






https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Helix

https://www.hlx.live/home

https://www.hlx.live/docs/faq

https://www.hlx.live/tutorial



Helix Bot
 Installed 1 minute ago  Developed by adobe-rnd  https://github.com/adobe/helix-home


 DEMO - 

 https://drive.google.com/drive/u/0/folders/1vYW2yi9ZgUpVBSm6v9ZcGqdnBYADFFdB

 

Hi everyone,

We are reaching out to present you with a brand new project developed by Adobe – Helix. 

Helix is an easy authoring solution that we are offering to our customers in addition to AEM. Good candidates for this solution are sites that are not currently running on AEM, as: legacy content, Wordpress, Wix, or other simple authoring solutions, and blog sites. 

Right now, Helix is actually in a beta program but we already have several customers live at the moment, including internal Adobe sites and several external ones as well. The VIP part of this program is that the engineering team from the Helix side will work hand in hand with each customer that comes on board, to help import their site and work with them to go live. 

Example sites:

https://blog.adobe.com/
https://www.adobe.com/express/

We would like to schedule a presentation to go through more details, so you can get an idea on how Helix works and if it would be a good opportunity to explore and work on.

Please let us know if you’re interested, so we can schedule a meeting.

Many Thanks, 


Franklin - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=AEMSites&title=Frontend+Development+-+Training+Resources

https://www.hlx.live/developer/tutorial

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=AEMSites&title=Frontend+Development+-+Training+Resources



================================================================================

https://www.qantas.com/au/en/frequent-flyer/discover-and-join/join-now.html/code/bookwithqantas#join-form-anchor

1959378389

pin - 1616

https://book.qantas.com/qf-booking/dyn/air/booking/FFCO?SITE=QFQFQFBD&LANGUAGE=GB&TAB_ID=DAGaPzj2CxDKrzkYIxZm0CLUzrZ-eTwr5v7sFqp3S4tdXr9sSknH!1651094730648

==============================================================

Cloudmanager troubleshooting with clones - joel 

https://wiki.corp.adobe.com/display/WEM/Tell+CM+to+ignore+clone+server

I want to call out that the instructions for handling clones have been updated.  In the past, the guidance was to remove the clone from the instance pool in the TDL.  This is no longer recommended.  Instead, leave the clone instance in the TDL, but tag it with "ignore-CM" as directed in the link Joel provided.  

================================================================

Calculate the size of the azure blob store - 

https://techcommunity.microsoft.com/t5/azure-paas-blog/calculate-the-size-capacity-of-storage-account-and-it-services/ba-p/1064046

https://docs.microsoft.com/en-us/azure/storage/scripts/storage-blobs-container-calculate-size-cli#sample-script


=============================================================


rpm build by Tim - 

https://git.corp.adobe.com/ManagedServices/ams-rpms

https://www.redhat.com/sysadmin/create-rpm-package

https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html-single/rpm_packaging_guide/index 
Best 



caleb notes - 

docker run -it --rm centos:7

[root@3179df2024e4 SPECS]# history 
    1  yumdownloader --source httpd
    2  ls -l 
    3  l s-ltr
    4  ls -ltr
    5  rpm -ivh httpd-2.4.6-97.el7.centos.5.src.rpm
    6  cd /
    7  cd /root
    8  ls -l 
    9  cd rpmbuild/
   10  ls -l 
   11  tree
   12  yum install tree
   13  tree
   14  cd SPECS/
   15  cat httpd.spec 
   16  history 

latest steps - 

docker run --rm -it -v `pwd`:/root/tmp amsauto/rpmbuild:1.0

https://wiki.corp.adobe.com/display/cemcloud/AMS+RPM+Contribution
https://wiki.corp.adobe.com/display/MSTeam/AMS+RPM+-+CBT+Course+1+-+Docker+Setup

===========================================

https://git.corp.adobe.com/pages/experience-platform/self-service-hal-browser

hal browser 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1694743998

=========================================

https://adobems.service-now.com/nav_to.do?uri=%2Fsys_report_template.do%3Fjvar_report_id%3D0f55e7231bd00154290f1179b04bcbc1

List of instances ^^^^^

Dear Vansh Kumar Jain, Welcome to VMC, your credentials for LMS (online.vidyamandir.com) are, VMC Roll no : 08PNL23000044 and Password : 22TP68 Happy Learning, Vidyamandir Classes



Avery Dennison Corp - splunk error

Cloud Manager has done wonders for the entire AMS fleet of customers - following the Best Practices, reducing the No. of errors in the Code - thus lessening down no. of P1's and therefore Better Customer Experience.

https://jira.corp.adobe.com/browse/CMGR-23402 for singlife

AshleyFurniture_5ACE3305565EF0157F000101@AdobeOrg_BPA.csv

laptop issue - INC1458680
=============================================

elham threaddump script - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Auto+Thread+Dump+Collector

=================================================

for a in `cat file1a` ; do eccid=`echo $a | awk -F"#" '{print $3}'`;array=(`echo $eccid | tr ',' ' '`) ;imsorg=`echo $a | awk -F"#" '{print $2}'` ; array+=$imsorg; for b in ${array[@]}; do [[ $b != 0000000 ]] && { echo $b ; grep -i $b total; }  ;  done ; array=();done

based on the details - AMS to CS - file1a is the list of CS customers. Total is the basic + enterprise

===========================================

https://adobe.service-now.com/sc?id=ticket&table=incident&sys_id=47b16497873401104d8e54e83cbb3507


Griffith University - high splunk - 5th jan '22'

https://adobe-my.sharepoint.com/:v:/p/meejain/EbOIL4ToHiRCoLDtfFdJA2UBcAsjksBONjWcbcce1ey9Eg?e=fzkt6G
=====================================================================
rca like a boss


index=ams_cq host=deluxe-65-prod-author1useast1 sourcetype=cq-error | reverse

AMS Incident Analysis 2.0 - 

https://splunk.or1.adobe.net/en-US/app/TA-AMS_ui/ams_incident_analysis_copy?form.field1=deluxe-65-prod&form.field1.earliest=1645401600&form.field1.latest=1645485884.597&form.field6=5m&form.field5=host&form.field2=cq-*




Avery Dennison Corp - splunk error count

Forms - sunny weakly cadence - 

1047  vi file
 1048  cat file | tr -s ' ' | tr ' ' '_' | sort | uniq > file1a
 1049  for a in `cat file2a` ; do customer=`echo $a | awk -F"#" '{print $1}'` ; grep -w $customer file1a && echo $a >> result ; done 
 1050  cat result | tr '_' ' ' 
 1051  rm file
 1052  rm result*


https://adobems.service-now.com/u_cloud_manager_adoption_list.do


fgrep "*ERROR*" error.log.2022-03-15 | cut -f2 -d' ' | cut -f1-2 -d: | cut -c1-4 | sort | uniq -c



=================================================

Single Sovereign Architecture

https://express.adobe.com/video/1g1KPSQU921Bp


By steve & Tony

==================================================

Important Recordings - 

Cloud Manager Onboarding - 

https://bluejeans.com/s/KOUv9

====================================================

WAF Recording - 

https://adobe.sharepoint.com/sites/CloudRelatedTraining/Azure%20Recordings/Forms/AllItems.aspx?id=%2Fsites%2FCloudRelatedTraining%2FAzure%20Recordings%2FAzure%20Web%20Application%20Firewall%20workshop%20%5F%208Feb22%2Emp4&parent=%2Fsites%2FCloudRelatedTraining%2FAzure%20Recordings

Here is the Recording for an Awesome Training on WAF - https://adobe-my.sharepoint.com/:v:/p/meejain/EdCuqfDYROFNo8TUc6Ybo9AB-n93kggnDI9SJajNPAWn0w




WAF logging - 

https://support.console.aws.amazon.com/support/home?region=us-east-1#/case/?displayId=11877666051&language=en


BPBU17 

Please enter these queries into the CloudWatch Log Insights tab of the WebACL or within the CloudWatch Log Insights console itself.

▶︎ Query 1 - Show terminating rule on blocked requests with the URL containing the word admin
```
fields @timestamp, @message, terminatingRuleId, action
| filter httpRequest.uri like "admin" and action = "BLOCK"
| sort @timestamp desc
| limit 20
```

▶︎ Query 2 - Show the terminating rule and action on requests with a specific URL
```
fields @timestamp, @message, terminatingRuleId, action
| filter httpRequest.uri like "/about-us/news/2020/12/jefferson-health-new-jersey-first-south-jersey-administer-moderna-vaccine"
| sort @timestamp desc
| limit 20
```

▶︎ Query 3 - Show the terminating rule on requests with a specific URL that were blocked using OR and AND logic
```
fields @timestamp, @message, terminatingRuleId, action
| filter (httpRequest.uri like "/about-us/news/2020/12/jefferson-health-new-jersey-first-south-jersey-administer-moderna-vaccine" OR httpRequest.uri like "/about-us/news/2018/03/new-chief-administrative-officer-appointed-at-abington-lansdale-hospital") and action = "BLOCK"
| sort @timestamp desc
| limit 20
```

For query 1, feel free to remove the statement 'and action = "BLOCK"' to show all requests and their rule actions for requests that contained 'admin' in the URL.

For queries 2 and 3, the line '| filter httpRequest.uri like "/about-us..." ' can be modified to include any of the URLs that need to be monitored. With this in mind, you can use similar queries to the above to find which rules allowed or blocked requests to all the concerned customer URLs.

fields @timestamp, @message, terminatingRuleId, action
| filter httpRequest.uri like "blog.dropbox.com"
| sort @timestamp desc
| limit 20
| filter action = "BLOCK"



stats count(*) as RequestCount by httpRequest.headers.4.value as ClientIP
| sort RequestCount desc


stats count(*) as RequestCount by httpRequest.headers.4.value as ClientIP
| sort RequestCount desc
| filter action = "BLOCK"



parse @message /\{"name":"[Hh]ost\",\"value":\"(?<Host>[^"}]*)/
| stats count(*) as RequestCount by Host
| sort RequestCount desc
| filter action = "BLOCK"


parse @message /\{"name":"[Hh]ost\",\"value":\"(?<Host>[^"}]*)/
| stats count(*) as RequestCount by Host
| sort RequestCount desc
| filter httpRequest.headers.0.value = "dropbox-prod.adobemsbasic.com"
| filter action = "BLOCK"


============================================

https://enjoythewood.com/collections/3d-colored-maps

https://adobe-my.sharepoint.com/:x:/p/meejain/EWr966h_4A9AsTG6SNjud6IBi54CpTfbURLnNZo-IeuXyg?e=Gxn2xx&wdLOR=cF1A9E259-DBA2-F944-B1A1-71AB15F749B2

New Relic allow listing sharepoint ^^^^
===================================================
Damian & Julia - 

https://wiki.corp.adobe.com/display/WEM/AEM+Cloud+Licensed+Customer+Status?eccid
https://app.powerbi.com/groups/me/apps/a6f557bd-39e2-4e7a-bd61-2775d6dd83f8/reports/95c95687-ac54-48ef-8120-adb4a94bb507/ReportSection3958690de29232060579?ctid=fa7b1b5a-7b34-4387-94ae-d2c178decee1

=====================================================

https://medium.com/100-days-of-linux/troubleshooting-tools-in-a-network-engineers-arsenal-6c16eb008fc7

networking troubleshooting - Rohit 

========================================================


icinga - 

GRP-AMS-ICINGA-ACCESS

https://wiki.corp.adobe.com/display/MSTeam/Icinga+-+How+to+get+Icinga+access

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Icinga+Monitoring

=====================================================

AMS to CS - 

https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/migration/moving-to-aem-as-a-cloud-service/introduction.html?lang=en - - - - Best

email from shantanu - premiere support different type

[1] – https://business.adobe.com/in/customers/consulting-services/premier-support.html
[2] – https://fieldreadiness-adobe.highspot.com/items/5be9e887429d7b05b3110aa5?lfrm=srp.3#21

https://helpx.adobe.com/content/dam/help/en/support/programs/enterprise-support-programs/jcr_content/main-pars/download_section/download-2/premier_support_datasheeteversion.pdf


AMS to CS reaching out by Eric link - 

https://apps.powerapps.com/play/47f0d32d-25a2-4ac4-8a20-ac4014b9174b?tenantId=fa7b1b5a-7b34-4387-94ae-d2c178decee1&skipAppMetadata=true


AMS to CS Forms - Sunny - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=lc&title=AEM+Forms+Cloud+Adoption+Tracking

Shubham - 

https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/local-development-environment-set-up/aem-runtime.html?lang=en


CTT  - 

https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/migration/content-transfer-tool.html?lang=en

https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/migration/cloud-acceleration-manager/content-transfer-tool.html?lang=en

new CTT - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/migration-journey/getting-started.html?lang=en

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/migration-journey/cloud-acceleration-manager/using-cam/cam-implementation-phase.html?lang=en#content-transfer

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/migration-journey/cloud-migration/content-transfer-tool/ingesting-content.html?lang=en


cloud 5 by Rohit - 

https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/cloud-5/cloud5-introduction.html?lang=en


https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/cloud-5/cloud5-introduction.html?lang=en 
 
 distill AEM features - keep us up to date, 


 AEM CDN - https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/cloud-5/cloud5-aem-cdn-part1.html?lang=en

 Bring ur own CDN, WAF, Allow Listing is being talked about. 

 Report Modernizer file, yaml file to be filled in correctly, mutable and non mutable code - weekend leagcy project - Repository Modernizer and AIO CLI - 

 https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/migration/moving-to-aem-as-a-cloud-service/repository-modernization.html?lang=en

 Local development env - https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/local-development-environment-set-up/overview.html?lang=en

 Best Practices Analyzer and Cloud Acceleration Manager

 https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/migration/moving-to-aem-as-a-cloud-service/bpa-and-cam.html?lang=en
==========================================

Code for IAM / ACM - 

for a in `cat eu-west-2`;
do echo $a ;
aws elb describe-load-balancers --load-balancer-name $a --region eu-west-2 --profile bpbu18 | grep -i SSLCertificateId ;
case $? in
   0) certs=`aws elb describe-load-balancers --load-balancer-name $a --region eu-west-2 --profile bpbu18 | grep -i SSLCertificateId | sed   's/\(.*\)"\(.*\)"/\2/'` 
      echo "$a#$certs" >> result-eu-west-2-BPBU18
;;
   1) b=`aws elbv2 describe-load-balancers --names $a --region eu-west-2 --profile bpbu18 | grep arn: | sed 's/\(.*\)"\(.*\)"/\2/' | sed 's/,//'`
   certs=`aws elbv2 describe-listeners --load-balancer-arn $b --region eu-west-2 --profile bpbu18 | grep CertificateArn | sed 's/\(.*\)"\(.*\)"/\2/'`
   echo "$a#$certs" >> result-eu-west-2-BPBU18
;;
   *) echo "wfwrf" 
;;
esac
done

==================================================================


pf - https://www.dkmonline.co.in/SSO/SSOLogin.aspx?SSOCompanyCode=ADOBE

https://unifiedportal-mem.epfindia.gov.in/

UAN - 101091175861
W34 - password

https://cleartax.in/s/epf-withdrawal-online

============================================================

https://adobems.service-now.com/u_cloud_manager_adoption_list.do

Azure test subscription - c3068f45-6a31-487c-bd27-58907a0131a1

https://www.thesaurus.com/

AEM Forms wiki - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=WEM&title=AEM+in+Cloud%3A+Detailed+assessment

https://jira.corp.adobe.com/browse/CMGR-18735 - for Agilent 

PROD deployments takes a long time
Case
E-000392475
Case ID
Pending Response
Status Reason

CFSGAM Services Pty Ltd - high splunk error count - 17th july
AMP Services NZ Limited - CM - Purple

Increase the quota limit - 

https://console.aws.amazon.com/servicequotas/home/services/vpc/quotas/L-0EA8095F



top 20 splunk erorr - Avery Dennison Corp - 17th Sept'21

mummy password - uagi4956
Tunnatunna@123456789

https://visitmaldives.com/en/covid19-updates

CR's query - EOD Monday - IST
https://adobems.service-now.com/core_company_list.do?sysparm_query=u_productINAEM%20Basi[…].manager%3D219639c42180010062d4fe1ee92af33d&sysparm_view=

BPBU19 - https://klam.corp.adobe.com/aws_console/?project=ams-bpbu19-Stage-AEM%20Basic&environment=stage&policy_name=administrator_and_support&duration=12


https://jira.corp.adobe.com/browse/CMGR-18056 - Equinix JIRA

Checking Synthetics from Rohit - 


https://adobems.service-now.com/nav_to.do?uri=%2Fincident_list.do%3Fsysparm_query%3Du_handled_by%253DServiceNow%255Eshort_descriptionSTARTSWITHGomez%2520alert%2520for%255EORshort_descriptionSTARTSWITHSynthetic%2520alert%2520for%255Esys_created_onONThis%2520month@javascript:gs.beginningOfThisMonth()@javascript:gs.endOfThisMonth()%255Eu_artifact%253Dfalse%255Eassigned_toISEMPTY%26sysparm_first_row%3D1%26sysparm_view%3Dgomez


=============================

LG Report - magic glass - > https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Magic+Glass

================================

kopal - mod_proxy_html 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2427165922

=====================================


SSl issue by son - 

It is the URL Mappings under Apache Sling Resource Resolver Factory. After rearranging the order of the mapping and executing the pipeline again, the Security Check passed but Performance Testing failed.


tell them they can use the configuration /system/console/configMgr/com.day.cq.commons.servlets.RootMappingServlet instead of the url mapping





4:14
fyi ... they made their configuration here /system/console/configMgr/org.apache.sling.jcr.resource.internal.JcrResourceResolverFactoryImpl

====================================================

For ACS Commons, the recommendation has two parts:
Update to the latest version
Look at the compatibility matrix at https://adobe-consulting-services.github.io/acs-aem-commons/pages/compatibility.html because not all features are cloud-friendly.

damian 


Thank you for raising the concern. Let me explain - AEM is moving towards AEM as a Cloud Service & ACS Commons is one of the major factor which increases the level of effort when customer migrates from the VM model to the AEM next Gen - which is AEM as a Cloud Service. If you see the CM Code scanning results - The critical is green - passed. There are Reds under Important & Information Quality Gates & talking specifically about Information Quality Gate - it says - 

Number of Cloud Service Compatibility Issues is less than 1.       - ---->	203

Means there are 203 Compatibility issues in case any time further, you need to migrate to AEM next Gen. Currently AMS has considered Cloud Service Compatibility issues under information , basically minor - means not a Blocker for any Customer to do their deployments in AMS. But that's a reminder to the Customer that they need to do something with regards to ACS Commons - which is basically refactoring their Code as per the latest & greatest ACS Commons. For ACS Commons, the recommendation has two parts:

1) Update to the latest version
2) Look at the compatibility matrix at https://adobe-consulting-services.github.io/acs-aem-commons/pages/compatibility.html because not all features are cloud-friendly.

So if you may refactor your code in order to prepare your Product / Site for Cloud Service, these are the Compatibility issues in which the major one is ACS Commons. And yes, currently they are still considered as Minor & that's why you are able to overwrite this Code Scanning step despite Reds in the Important & Information Quality Gates. 

Hope this helps. 

Many Thanks, 

Regards,

Meet Kumar Jain
Adobe Managed Services


======================================================

GIT config files - 

https://git.corp.adobe.com/ManagedServices/bigbear

============================================================

Cloud Manager ecab - 

https://github.com/adobe/aio-cli-plugin-cloudmanager#aio-cloudmanagerpipelinecreate-execution-pipelineid

Emergency Pipeline Execution Mode
In critical situations, Adobe Managed Services customers may need to deploy code changes to their stage and production environments without waiting for a full Cloud Manager test cycle to execute. To address these situations, the Cloud Manager production pipeline may be executed in an "emergency" mode. When this mode is used, the security and performance test steps are not  executed; all other steps, including any configured approval steps, are executed as in the normal pipeline execution mode. This capability is activated on a program basis by the Customer Success Engineers.
When starting a production pipeline execution, if this feature has been activated, the dialog will buttons that start the execution in either normal or emergency mode.

When viewing the pipeline execution details page for an execution run in emergency mode, the breadcrumbs at the top of the screen will show an indicator that emergency mode was used for this particular execution.

Creating a pipeline execution in this emergency mode can also be done through the Cloud Manager API or CLI. To start an execution in Emergency Mode, submit a PUT request to the pipeline's execution endpoint with the query parameter ?pipelineExecutionMode=EMERGENCY. Or, when using the CLI:
$ aio cloudmanager:pipeline:create-execution PIPELINE_ID --emergency

==============================================================


bpbu12 - 

aws_access_key_id=ASIA45OVQTDQVB2Z2TAZ
aws_secret_access_key=OiVAiut/cpvs6iD+cGda56EqMKUFKkjiNYrCKAm+
aws_session_token=FwoGZXIvYXdzEOf//////////wEaDJDujZtq3VuFK0oa3iLrAVGJ4UnkIajAmWsCN7UzpbuYAJbqpnRqdGy4XbZl9aWdsmI8cxXM4FcKETC7Je/OLJlu451jmG9hM1xtuYhRtBkGpe2o/usZn08urLZYSh4mxqUS53DKLsqkhJ3jgf2onN7EgLzq5ASArXEENpAma17qNIZr00Y43W/jSQKrHgsvOgCmh6m6iHeb44WlFeUC7TGYYlmDf5cSdGQxvM2l8ojsr9K6Fxkstg4uIYd5JUMvSCF8uafh83VcZjs1A5I43QNUVnLHInrwiwtEMQHeSNfEG0mXMylPs+aPNEQ8Fh1EhOPnIsVPSnR9WYwo+qbLogYyLVja+1sGnotj/+o6T4ZolQesLNPYtL1WGldYBCg2iBkGUIXA6jrzV85ST+VZNw==

https://klam.corp.adobe.com/aws_console/?project=ams-bpbu12-stage-AEM%20Enterprise-NA&environment=stage&policy_name=administrator_and_support&cloud=aws&duration=12

=================================

bpbu17 - 

aws_access_key_id=ASIAT3MNUNCKFQIV2WVO
aws_secret_access_key=bnEhge4QuZ6W384rntujwnGmRC4CMYCZ/OTkwIZn
aws_session_token=FwoGZXIvYXdzEBUaDLjwXXAKkq84HkzCdyLrAagAfzNsgBwPnUT9y3mHhuKWDU2/Zjk2kvBfrF/wZG9RHpdtLk9Ldg+wxIl6/SYG8/JTvZBiIlHkL67MWl2NFlDR7D69fmlWMjjf4CbTHo177207fs5/KjtTdRJqLXZ/2P7XlQIDYpzbsUK7C9Emcl+jo36g1EOMHLk+DadLbjZdQNmlHOv0rLZxfZk/lt1rpFv3ecAof1+zwwtkxzqVKeXeAjqkjns1/CR/amxAW4E+xQhfEA1vOnRopU7j/P9pGEbKQO7ytDINMv5VutM7uLY8ycztqtmbMQ70a9a40OslBsDMsXFYTlKf/6oo77fVogYyLeIGCtxb7H99oOkHXBSrS97G01LlILGw7lBbMJg38XKGSf0kvpFKkc3+jjf2Jw==

https://klam.corp.adobe.com/aws_console/?project=ams-bpbu17-Prod%20-%20AEM%20Basic_NA&environment=prod&policy_name=administrator_and_support&cloud=aws&duration=12


bpbu18 - 

aws_access_key_id=ASIA4WLLFF75GCB5AHEM
aws_secret_access_key=kLvM4KYLYuZ8dV9KmkjxwWVllA8a2RanXaPluazj
aws_session_token=FwoGZXIvYXdzEID//////////wEaDDCdbQe6JvIkCnpRACLrAT4BEkzHnCZ8Lt5ehWBrAYesce+m6pYfUX7y6a0LVsIi80zNWhN9809TtPug0Zhai/KaEuDlRYNogqnJyWT9iQt1vVbRjpwGhnVbJ+F33wzKlpaSK9kYcZITr98TYwTn3ln2Y1ytwsYW50zGnutYoCoeCuxhSPuNMMfhxb0Mt1lJZKw84W67gbt54ApoW0ddvMVlqy9a8FQtqoS7+BQZarWdFzmDj3w7H34Pci/4cgJWWGVZGebHEyy2GZe1SpIWFc8bi3qDAxMzlFkniLEr/CHj+HFHmd2Zb0mcNBf6Qmk/hOXZlVZb2Z+0P/go9ZzAmgYyLUuJY9uBiz/D4jgtRItRtAlIbNO7j2UCZsAmbF+OFUj+enXfxIeIxQOkqOK5Dw==


https://klam.corp.adobe.com/aws_console/?project=ams-bpbu18-Prod%20-%20AEM%20Basic_ROW&environment=prod&policy_name=administrator_and_support&duration=12

===============================================================================

Automating New Relic Monitoring Allow listing leveraging Python & Lambda - Praveen
 
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2398469967
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2398469972
 
Automating Allow listing leveraging Prefix Lists - Azure US East 200+ IP's for CM Asset Perf test
 
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2363467637
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2373897917
https://wiki.corp.adobe.com/display/MSTeam/Running+AWS+Lambda+1st+function+every+Monday+to+check+for+any+kind+of+changes+done+to+Azure+US+East+subnets
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2399021929


Preflight Steps for AMS, before migrating data from AMS to CS environment using CTT Tool -


https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2469534236


https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Preflight+Steps+for+an+AMS+to+CS+Content+Migration
with Devika & Paul

=======================================

Reports with Divya - 

AMS Basic - PRB Analysis

https://adobems.service-now.com/nav_to.do?uri=%2Fsys_report_template.do%3Fjvar_report_id%3Deedbe0acdbb2f810a1b99345ca961979

================================================================================

CS Forms only URL - 

https://experienceleague.adobe.com/docs/experience-manager-forms-cloud-service/forms/home.html

MAEM - 

https://git.corp.adobe.com/maem/aem-mapper/blob/master/data/unlock-aem-inventory-servlets.sh

Access to Clone instance
Run the MAEM report by following instructions and share the report with us.
For AEM version 6.5, MAEM agent is pre installed but it needs to be unlocked by running this script https://git.corp.adobe.com/maem/aem-mapper/blob/master/data/unlock-aem-inventory-servlets.sh
For AEM version 6.1 to 6.4, MAEM agent needs to be installed and unlocked.
Once the MAEM agent is installed, check http://localhost:4502/system/status.json . It should be present and display information about existing inspectors for the agent.
Thanks,

======================================================================

Heidi - keyhole report training - 

Recording with Heidi - 

https://adobe-my.sharepoint.com/:v:/p/heidi/EZVd8BbcLv5EufpYIZUh5kcBPz5PXgeHJ_Ou54N7REM7yQ

Recording with Anthony - 

https://adobe-my.sharepoint.com/personal/meejain_adobe_com/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fmeejain%5Fadobe%5Fcom%2FDocuments%2FRecordings%2FCS%20migration%20keyhole%20update%2D20220630%5F003812%2DMeeting%20Recording%2Emp4&parent=%2Fpersonal%2Fmeejain%5Fadobe%5Fcom%2FDocuments%2FRecordings&ga=1

https://adobe.sharepoint.com/sites/ams/Shared%20Documents/Forms/AllItems.aspx?RootFolder=%2Fsites%2Fams%2FShared%20Documents%2FWeekly%20Keyhole&OR=Teams-HL&CT=1656531818047&clickparams=eyJBcHBOYW1lIjoiVGVhbXMtRGVza3RvcCIsIkFwcFZlcnNpb24iOiIyOC8yMjA2MDYxNDgwNSIsIkhhc0ZlZGVyYXRlZFVzZXIiOmZhbHNlfQ%3D%3D

access to keyhole ^^^^^

SNOW Dashboard - https://adobems.service-now.com/nav_to.do?uri=%2F$dashboards.do%3Fsysparm_dashboard%3D060358c9dbcdec90bd5a189b68961926

Credit link - https://dashdiscovery.corp.adobe.com/#/views/CloudManagerEnvironments-SkylineUsage/TenantActivity?:iid=1

greenfield/CS/Partial - > https://adobe.sharepoint.com/:x:/r/sites/amscs/_layouts/15/Doc.aspx?sourcedoc=%7B4D622329-0EA4-4073-8827-76E7310A6F76%7D&file=AMS%20CS%20Licensed%20Customers%200219.xlsx&action=default&mobileredirect=true&cid=906cf576-1874-4069-b509-4055f5a01c7d

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/home.html?lang=en

keyhole link - > https://adobe.sharepoint.com/sites/ams/Shared%20Documents/Forms/AllItems.aspx?RootFolder=%2Fsites%2Fams%2FShared%20Documents%2FWeekly%20Keyhole

Damian shared the link - https://wiki.corp.adobe.com/display/~langswei/Chart+testing


index size - https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=AA&title=Assets+on+Skyline+supported+limits

PRB0379380 - raised for adding those additional features

CAM tool / BPA assessment - https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=WEM&title=Cloud+Acceleration+Manager+-+Migration+Complexity+Assessment

by damian
Gillian
=================================================================================
https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/home.html?lang=en

Sites in 30 - 

https://business.adobe.com/in/products/experience-manager/sites/sites-in-30.html

https://experienceleague.adobe.com/docs/experience-manager-learn/getting-started-wknd-tutorial-develop/site-template/overview.html?lang=en

==================================================================

Dynamics support - 

C14E (Dynamics) draws all customer organization and entitlements from the IMS system. If there are discrepancies in the customer record the updates will need to be made at the source system. The Corporate Provisioning Team (CPT) governs this system and can be reached through either the Provisioning Hub or Provisioning Hub hubprov@adobe.com

===================================================================

Azure subscription template updated with ams-azuresub@adobe.com

===================================================


https://adobems.service-now.com/u_cloud_manager_adoption_list.do

to check the CM records 

https://wiki.corp.adobe.com/display/~tgarner/AMS+Basic+KPIs+-+Q2

E-000364447 has been raised for AMSSEC033a - gigamon


82243089 - Confirmation No.  - JW Marriot

INC0998039 - perfect example of OLD Gen - by Kopal

2937663

https://wiki.corp.adobe.com/display/WEM/Cloud+Manager+-+Troubleshooting+Tips

Top 20 splunk error messages 

Run the following splunk script on the customer's environment for a time period of the last 7 days :  "index=ams_cq cluster="INSERTCUSTOMERSCLUSTERNAME" environment="prod" (host="*") sourcetype=cq-error LogLevel="*ERROR*" | rex field=_raw ".*] (?<MESSAGE>.*)" |uniq message |  common limit=20 MESSAGE"

=============================================

https://wiki.corp.adobe.com/display/MSTeam/SOP+for+CXE%27s+-+AMS+to+CS+Transition

https://jira.corp.adobe.com/browse/CSTREQ-53971 

ssh not working

https://ssl2.perquisite.net/RewardCentre/M/RC#/SpendingAccount/ClaimHistory

Costi - openssl pkcs12 -export -out star_adobemsbasic.pfx -inkey private.key -in cert -certfile chain

openssl pkcs12 -export -in cert.cer -inkey key.pem -out certificate.pfx -certfile CA.cer
===========================

https://howtohelix.spenhar.org/

=================================
CM Assets perf test by Ilianca

https://wiki.corp.adobe.com/display/WEM/CM+Deploy+-+Performance+Test+Allow-listing

===============================

QCM Template by rohit - 

https://adobe.sharepoint.com/:x:/r/sites/amsaembasic/_layouts/15/doc2.aspx?sourcedoc=%7[…]bileredirect=true&cid=3027cd8f-f264-44d8-8642-96b22877ee95

================================

convert space into tab 

sed -e "s/ /$(printf '\t')/"

adobe io fiee fly

created micro servuces 

logic alreay rmiobed 

stati
=================================

Site perf tests subnets - 

Sites Performance Testing CIDR Blocks
Adobe Region
Azure Region
CIDR Block
1
VA8
East US
52.226.0.192/28
2
VA8
East US
52.226.0.208/28
3
NLD2
West Europe
20.54.169.208/28
Build CIDR Blocks
Adobe Region
Azure Region
CIDR Block
1
VA8
East US
40.76.133.0/28
2
VA8
East US
40.76.133.16/28
3
VA8
East US
40.76.133.32/28
 
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=DMSArchitecture&title=Dedicated+Egress+IPs+for+Requests+from+Cloud+Manager

=========================================================================

AWS transit gateway - 

https://www.youtube.com/watch?v=E5HpOVKNpug

======================================================



Azure script - 

To track BASIC SKU along with subscription ID's - 

Resources
| project name, location, type, sku, subscriptionId
| where type =~ 'microsoft.network/publicipaddresses'
| order by name desc

================================
James golden words for on call

But please let customer know that weekend resource is limited, and our on-call will need to take priority on customer P1s over their go live if necessary.  Also, customer should use the Support P1 process to engage on-call if they run into any issue during go live.  We can't commit to have our on-call be in a war room for the entire go live duration.

=======================================

AEM Instances information - SN by Tim - 

https://adobems.service-now.com/u_aws_ec2_instances_list.do?sysparm_query=company.u_product%3DAEM%20Basic%5Eu_state%3Drunning%5Eu_aemISNOTEMPTY&sysparm_first_row=1&sysparm_view=

======================================================

INC0928810 & PRB0241162 - 

mime matt

https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+Things+Left+to+Do
B75+ Dispatcher immutable file update (Source code update required for customer that are using CM and have upgraded)

==================================================


https://portal.azure.com/#blade/HubsExtension/BrowseAll


Graffana dashboard by Patrick - 

https://cm-dashboard.gf.corp.adobe.com/d/nTR49doGk/cloud-manager-dashboard-v2?orgId=1

====================================================


https://adobe--c.na79.visual.force.com/apex/AccountTeamSearch


DX English SD AEM
DX AEM Support Transfer


DX T2 AEM FORMS

https://www.edureka.co/blog/splunk-architecture/ - splunk diagram

https://bluejeans.com/9818420444/

https://bluejeans.com/4085366930 - james


developer access to the Customers - trial is no more valid it seems 

https://jira.corp.adobe.com/browse/AMSAUTO-16014 -> disablement of nagios monitoring 

QSR - 

https://adobe-my.sharepoint.com/:p:/p/jamli/EXlspwmiRP9FgS0tazFFVykBRNLYP0DdQVS3rgPwOncQmg?e=4%3AdEVkS9&at=9&wdLOR=cAB9602DE-93A9-3F44-B5BC-A33B68D6DC30

JIRA's raised - 

https://jira.corp.adobe.com/browse/AMSAUTO-16835 - AMSAuto issue - LMS - E-000252719

Splunk issue by Deepak -

https://jira.corp.adobe.com/browse/CSTTT-48657


https://www.youtube.com/watch?v=uE0txDHYZUo

for excel 


QSR - Q1 - 

https://adobe-my.sharepoint.com/:p:/p/jamli/ESNftXC79oJFs2Rl71RhH1IBiJ2e83geD3ylOprtECoFCA?e=4%3Ad9Q1I2&at=9&CID=3610f9f5-88a1-90a3-7233-cab45fab1796

QSR - Q2 - 

https://adobe.sharepoint.com/:p:/r/sites/ams/_layouts/15/Doc.aspx?sourcedoc=%7B8CA64C12-2248-4959-A4CF-CB1004163C2E%7D&file=AMS%20QSR%202Q2021.pptx&action=edit&mobileredirect=true&wdLOR=cE99A9D0E-972F-D44F-BD21-5B7802449345&cid=f2364e5d-7671-4ff4-a5cd-9a9fa0bd464e&PreviousSessionID=617676d6-f180-91f2-1c7d-ba00fc1781c4

Q3 - 

Sync & issues between AMS & Magento 


============================================================

https://wiki.corp.adobe.com/display/cemcloud/Sprint+122+Release+Notes

Sprint notes 

=======================================================

Brian - Upgrade Action Hanging at Expected text not found

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Upgrade+Action+Hanging+at+Expected+text+not+found

=========================================================
cluster = Research Affiliates LLC
index=ams_cq | stats count by cluster

cluster = Maison Battat Inc

cluster = Cargill Inc
index=ams_cq cluster="Maison Battat Inc" environment="prod" source="/mnt/var/log/httpd/access_log" 


index=ams_cq cluster="Research Affiliates LLC" environment="prod" source="/mnt/var/log/httpd/access_log" req_path="*.html"

Page Views 
index=ams_cq cluster="Equinix Inc" environment="prod" source="/mnt/var/log/httpd/access_log" req_path="*.html"
Other Request divided by 5
index=ams_cq cluster="Expedia Inc" environment="prod" source="/mnt/var/log/httpd/access_log"| search NOT req_path="/libs/granite/csrf/token.json" AND NOT req_path="*.html"
Page Views + Other request



index=ams_cq cluster="Fortinet" environment="prod" source="/mnt/var/log/httpd/access_log" req_path="*.html"
Other Request divided by 5
index=ams_cq cluster="Fortinet" environment="prod" source="/mnt/var/log/httpd/access_log"| search NOT req_path="/libs/granite/csrf/token.json" AND NOT req_path="*.html"
Page Views + Other request

cluster = City of Sacramento


index=ams_cq cluster="City of Sacramento" environment="prod" source="/mnt/var/log/httpd/access_log" req_path="*.html"
Other Request divided by 5
index=ams_cq cluster="Expedia Inc" environment="prod" source="/mnt/var/log/httpd/access_log"| search NOT req_path="/libs/granite/csrf/token.json" AND NOT req_path="*.html"
Page Views + Other request


Tim Splunk query 
	

cluster="LPL Financial LLC"

index=ams_cq cluster="LPL Financial LLC" environment="prod" source="/mnt/var/log/httpd/access_log" req_path="*author-prod*"


cluster = Healthcare Financial Mgmt Association


https://splunk.or1.adobe.net/en-US/app/TA-AMS_ui/aem_ams_page_views?form.timeselect.earliest=-7d%40h&form.timeselect.latest=now&form.clusterselect=*
 
 Page views by Tyler 
======================================================

If it’s about CM, you can ask them to subscribe on - https://status.adobe.com/experience_cloud#
You will see ‘Manage Subscription’ on top right corner. This way your customer will start getting notifications on Major/Minor service issues and service maintenances too.

by varun

Subscribe to CM dashboard

=====================================================

CEE Skill set - 

https://adobe-my.sharepoint.com/:w:/r/personal/bonnett_adobe_com/_layouts/15/guestaccess.aspx?e=Ng6w1b&share=EYgWu7L55mBDpF18R_348gYBVc78InmMf1Xk1MDLAbWAOg

========================================================
setroubleshootd - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Troubleshooting+Guide+-+Tips%2C+Tricks%2C+Recommendations#TroubleshootingGuideTips,Tricks,Recommendations-SetroubleshootdIssuesorHowtofixalertsonmemoryusagewherethereisapparentlynothingwrong

========================================================

azure mapping - 

https://docs.microsoft.com/en-us/azure/best-practices-availability-paired-regions

Friday outage  - South Africa 

Tyler Garner Tyler Garner <tgarner@adobe.com>
Luis Guitierrez   Luis Gutierrez (CUSTOMER ENGINEER) <lugut@microsoft.com>

https://wiki.corp.adobe.com/display/MSTeam/Azure+-+copy+snapshot+from+one+region+to+another+region+within+the+same+resource+group

link by ilianca

============================================================

curl command to clear dispatcher cache - 

https://wiki.corp.adobe.com/display/cemcloud/Clear+Dispatcher+Cache+Action

================================================================
https://wiki.corp.adobe.com/display/CSOwiki/Public+Cloud+Lockdown

Rohit Adobe's Mavlink to target open security group

=========================================================

There is an AMSAUTO raised for SSH issue for the new instances in old topologies. This has happened for UK Ministry of Defense when I provisioned the clone for the upgrade process.
https://jira.corp.adobe.com/browse/AMSAUTO-15852
Here is the workaround provided by Automation team:
1. Go to TDL of the topology
2. Get value of "SecretReference" field for appropriate region present under "cloud-provider->keypairs" section
This will give you Vault ID
3. Invoke Bigbear SSProxy endpoint to get value of VaultID
e.g.. http://bigbear-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/secrets/<vaultID>
4. From response, copy value of "privateKey" and save this as .pem file on your local machine
e.g.   Let's say this is a eu-west1 region on Basic, then you can save file as basic-eu-west1.pem
5.Edit pem file
In pem file, replace each occurrence of \r\n with newline
Save changes
6. chmod 400 on pem file
7. Now you are ready to connect to the customer's cloned instance
From MSC topology details page, get IP of cloned instance which is having ssh login issue
8. Connect to instance as bigbear user using pem file as follows
ssh -i <pemfile> bigbear@<cloned-instance-ip>
9. sudo su
10. vi /etc/ssh/sshd_config
11. change value of PasswordAuthentication from no to yes
12. service sshd restart

SSH issue by Alexandra
===============================================================
deepak link for targeting from different locations - 

https://geotargetly.com/geo-browse

==========================================================
azure cli 

by Matt - 

az network application-gateway start -g minitabllc-stage -n minitabllc-stage-centralus-appgateway1

start the application gateway


=============================================================

CM P1 process

https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+Incident+P1+Process

https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+P1+Incident+Process

CM Dashboard - 

Customers doing PROD Deployment - Mihai

https://adobems.service-now.com/nav_to.do?uri=%2Fchange_request_list.do%3Fsysparm_query%3Dactive%3Dfalse%5Eassigned_to%3D80c7831e4f0b5a002dd42ae6f110c748%5Eshort_descriptionLIKEcloud%20manager%20deployment%5Eend_dateBETWEENjavascript:gs.dateGenerate(%272019-07-01%27,%2700:00:00%27)@javascript:gs.dateGenerate(%272020-10-21%27,%2723:59:59%27)%5Estate%3D3%26sysparm_first_row%3D1%26sysparm_view%3D

James dashboard - 

https://adobems.service-now.com/u_cm_customers_list.do?sysparm_query=com_u_active%3Dtrue%5Ecom_u_product%3DAEM+Basic%5Ecom_u_statusINProduction%2CProduction+No+SLA%5Ecom_u_cloud_locationNOT+LIKEGovCloud%5Ecom_u_cloud_locationNOT+LIKEChina%5Ecom_u_block_numberINB60%2CB61%2CB62%2CB70%2CB75%5Ecom_u_aem_sites%3Dtrue%5EORcom_u_aem_assets%3Dtrue%5Ecr_stateISEMPTY%5Ecom_u_start_date%3E%3Djavascript%3Ags.dateGenerate%28%272019-07-01%27%2C%2700%3A00%3A00%27%29%5Ecom_u_cm_exempt%3Dfalse%5Eusr_manager%3D219639c42180010062d4fe1ee92af33d&sysparm_view=RPTa42c587bdb47dc10bd5a189b689619e8

https://adobems.service-now.com/u_cm_customers_list.do?sysparm_query=com_u_active%3Dtrue%5Ecom_u_product%3DAEM%20Basic%5Ecom_u_statusINProduction%2CProduction%20No%20SLA%5Ecom_u_cloud_locationNOT%20LIKEGovCloud%5Ecom_u_cloud_locationNOT%20LIKEChina%5Ecom_u_block_numberINB60%2CB61%2CB62%2CB70%2CB75%5Ecom_u_aem_sites%3Dtrue%5EORcom_u_aem_assets%3Dtrue%5Ecr_stateISEMPTY%5Ecom_u_start_date%3E%3Djavascript:gs.dateGenerate(%272019-07-01%27%2C%2700:00:00%27)%5Ecom_u_cm_exempt%3Dfalse%5Eusr_manager%3D7b32c454218d050062d4fe1ee92af3b5&sysparm_first_row=1&sysparm_view=RPTa42c587bdb47dc10bd5a189b689619e8



James link - keeps on updating - 

https://adobems.service-now.com/u_cloud_manager_adoption_list.do?sysparm_query=u_company.u_product%3DAEM%20Basic%5Eu_status_codeNOT%20INPurple%2CBlack%2CBlue&sysparm_view=


===================================================================

stats collection by AE/CSM 

https://docs.adobe.com/content/help/en/experience-manager-64/deploying/deploying/opt-in-aggregated-usage-statistics.html

===================================================================



Cloud Manager Adoption 


Hello Fiesta Hotels and Resorts Team,
 
   My name is Tim Bonnett and I lead the Adobe Managed Services Basic team. Our teams embarked on a journey to enable Cloud Manager on your AMS managed AEM instances several months ago, but have observed that no deployments have been initiated. I wanted to reach out to you to  understand why you have not leveraged this powerful CI/CD tool, which offers automation to application development practices. With Cloud Manager, your organization can take advantage of the following features: CI/CD framework, API connectivity, flexible deployment modes, code quality gates, service delivery transparency, and guided updates. All of these features are included with your AMS Basic licensing at no extra charge.
 
  I have included an Application Overview of Cloud Manager for your review, along with a link to our AEM foundational tutorials page which offers short instructional videos on how the tool works. In addition, you can also review the Cloud Manager User Guide for additional details on how it works.
 
   I would like to schedule a 30 minute call to better understand what AMS can do to help your team adopt Cloud Manager as your single tool for production code changes. Feel free to respond with some future times that work for your team, and I will do my best to accommodate them. I look forward to hearing from you soon.
 
Thanks,
Tim

======================================================

have jdk version from salt from splunk

salt-call --local grains.get jdk

================================================

3 maven commands - 

mvn --batch-mode org.apache.maven.plugins:maven-dependency-plugin:3.1.2:resolve-plugins
mvn --batch-mode org.apache.maven.plugins:maven-clean-plugin:3.1.0:clean -Dmaven.clean.failOnError=false
mvn --batch-mode org.jacoco:jacoco-maven-plugin:prepare-agent package
 
=====================================================


Sling Distribution - 

https://docs.adobe.com/content/help/en/experience-manager-64/administering/security/sync.html

=======================================================

AEM as a CS - 

new CS public document by Heidi - https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/home.html?lang=en

https://adobe.sharepoint.com/:x:/r/sites/rs-reports/_layouts/15/guestaccess.aspx?e=SX5HOh&share=EVVxbn3y0YNGihcLLuokDWIBa1czAkcLNAyb36SP6_l-Vw

https://adobems.service-now.com/nav_to.do?uri=%2Fproblem_list.do%3Fsysparm_choice_query_raw%3D%26sysparm_first_row%3D1%26sysparm_list_header_search%3Dtrue%26sysparm_query%3Dshort_descriptionSTARTSWITHAMS%2BBasic%2BAEM%2BCS%2BInitiative%26sysparm_view%3D

https://adobems.service-now.com/problem_list.do?sysparm_query=assignment_group%3Dcbf37a96db83b3002ec79a82ca9619b7%5Eu_required_skyline_action%3Drun%20customer%20briefing&sysparm_view=


=========================================

Sandbox environment by Tim - 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1918805164




============================================



https://experienceleague.adobe.com/docs/experience-manager-cloud-service/onboarding/getting-access/cloud-service-programs/creating-a-program.html?lang=en#getting-access

BPA / CRA tool - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/cloud-migration/best-practices-analyzer/using-best-practices-analyzer.html?lang=en#cloud-migration

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/home.html?lang=en#aem-moving-to-aem-guide

https://experienceleague.adobe.com/docs/experience-manager-cloud-manager/using/introduction-to-cloud-manager.html?lang=en

https://wiki.corp.adobe.com/display/WEM/Steps+to+install+and+run+BPA+package

BPA Report by Heidi - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/cloud-migration/best-practices-analyzer/using-best-practices-analyzer.html?lang=en#imp-considerations
https://wiki.corp.adobe.com/display/WEM/Steps+to+install+and+run+BPA+package

check the BPA Report - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=CLOUDSME&title=Cloud+Service+Compatibility+List


The Tile Shop - AEM as CS - 

https://wiki.corp.adobe.com/display/CLOUDSME/Transition+AMS+to+CS+---+Workstreams+and+Actions

I suppose we are good with the SandBox addendum process - which is mentioned in as per wiki –
 
https://wiki.corp.adobe.com/display/WEM/Process+for+AMS+Customer+to+get+Sandbox+Credit#ProcessforAMSCustomertogetSandboxCredit-CustomerswithoutanySandboxCredit
 


https://experienceleague.adobe.com/docs/experience-manager-cloud-service/onboarding/getting-access/cloud-service-programs/sandbox-programs.html?lang=en#introduction
 
https://experienceleague.adobe.com/docs/experience-manager-cloud-service/onboarding/getting-access/cloud-service-programs/creating-a-program.html?lang=en#getting-access


New Relic - AEM as CS - 

ctt

https://wiki.corp.adobe.com/display/CLOUDSME/Content+Migration


https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2469534236 - Meet 


What all features are not supported by Tyler - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/release-notes/deprecated-removed-features.html?lang=en#removed-features

Stage 1 - Extraction - This phase sees the tool take content from the supplied paths on the source system and copies it to a staging area storage account in Microsoft Azure.  This phase may put load on the source system, see Pre-Launch Checks below for more information. 
Stage 2 - Ingestion - In this phase the Content Transfer Tool will initiate a push from the staging storage area into the nominated target Cloud Service environment.  





Customer Contacts - 

Meet,

Great that the customer is interested.

Regarding S7 and Campaign, I am adding Damian and Tracy to answer the customer's questions below.

We would like the customer to start with the DEV environment when they are ready.  Heidi and Tracy are handling the preparation phase.  Tracy will guide you and the customer what contract they need to sign in order to receive the DEV environment.

For ACS migration quote, I am including ACS sales manager Elisabeth here.

For the CS quote, John and Daniella, please provide a quote.

Thanks.

Anthony

Anthony Lam <alam@adobe.com>; John Engler <engler@adobe.com>; Heidi Chen <heidi@adobe.com>; Daniella Garcia <dagarcia@adobe.com>; Damian Langsweirdt <langswei@adobe.com>; Tracy Seibel <tseibel@adobe.com>; Elisabeth Mischel <mischel@adobe.com>

Tyler Garner <tgarner@adobe.com>; DL-ADOBEMSBASIC <ADOBEMSBASIC@adobe.com>; James J Li <jamli@adobe.com>; Grp-DL-AMSBasic-Leadership <dl-amsbasic-leadership@adobe.com>; Brian Warner <brwarner@adobe.com>; Mike Clawson <mclawson@adobe.com>


Carlos - VPN Skyline - 

https://wiki.corp.adobe.com/display/WEM/Skyline+VPN+architecture

Scaling - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/core-concepts/architecture.html?lang=en#scaling

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=~pklassen&title=Scalability+goals+in+AEM-as-a-Cloud-Service

Meet's wiki - https://wiki.corp.adobe.com/display/MSTeam/SOP+for+CXE%27s+-+AMS+to+CS+Transition

Heidi's original wiki - https://wiki.corp.adobe.com/display/CLOUDSME/Transition+to+Cloud+Service




======================================================================

https://www.adobe.com/content/dam/cc/en/legal/terms/enterprise/pdfs/PSLT-AEM-ManagedServices-WW-2020v2.pdf

cloud manager legal pslt

=====================================================

DX English SD Campaign

=================================================

AEM as CS Pitches - 

Subject: Produban Servicos Informaticos Generales - AMS Cloud Services Information Session - Courtesy Notification
Hello Produban Servicos Informaticos Generales Accounts Team, 
  The AMS team is working on an initiative to expose eligible customers to the benefits of AEM Cloud Services , with the hopes that they will begin to take steps to prepare for the eventual migration. I will be sending a communication to the customer later today with information on AEM Cloud Services, along with a request for a meeting to pitch the solution.  
Thanks, 




Hello Art,
AEM has been on a cloud journey over the past eight years to deliver benefits of cloud agility to customers like you. With Managed Services, you benefit from a cloud scale and expertise paired with cloud-native functionality in Cloud Manager. You may have seen the recent announcement of AEM as a Cloud Service and may have some questions on features that are available. Cloud Service provides the same AEM feature set built on a cloud-native architecture, enabling a continuous release cycle.
One exciting update to Managed Services this year is that we are extending the product entitlement to include a Cloud Service sandbox so you can trial the new technology. The sandbox can be used for trials such as testing functionality for a microsite, creating an environment for internal training, or building a proof-of-concept.
The sandbox gives access to a development environment that will be available for 90-days. When you are ready to activate your Sandbox, you can contact me, and I will help to coordinate a contract addendum that will enable us to provision the sandbox. Once the addendum has been signed, you will be able to create a Cloud Service Sandbox through Cloud Manager within a few business days.
I have attached some guidance and best practices to setup and navigate through the Sandbox.
I know that you and your team are working on your go live on the Gap, and by no means for this to disrupt that pursuit. The goal here is to give you an opportunity to try AEM CS. Please let me know if you have additional questions, or if you want to jump on a call and discuss. I can share my availability this week if you are interested.
P.S. Here are some useful links that describe the offering.
SLA – https://www.adobe.com/content/dam/cc/en/legal/terms/enterprise/pdfs/SLAExhibit-AEMCloudService-2019DEC12.pdf
What's Included in the solution - https://helpx.adobe.com/legal/product-descriptions/adobe-experience-manager-cloud-service.html
Documentation - https://docs.adobe.com/content/help/en/experience-manager-cloud-service/overview/introduction.html
Video Overview - https://docs.adobe.com/content/help/en/experience-manager-learn/cloud-service/overview.html

===================================================



balabit shujat steps - 

Step1.  Add DX LDAP Account
https://iam.corp.adobe.com/ → Accounts → Access Requests → Select an Access Request Type → Myself → OneAdobe → Action Dropdown → Request Live Access → Next → Choose Group by clicking on plus symbol (CSE must choose : OneAdobe - MANAGEDSERVICES_ALL, OneAdobe - MANAGEDSERVICES_OPS, OneAdobe - DMA_AMS_CSE) → Add Business Justification (at bottom of page) → Next/Submit
Step2. Generating an SSH key pair
If you don't already have an ssh key pair, or need to regenerate one, you can use the following steps:
For Mac/Linux:
From a terminal window enter: ssh-keygen -t rsa
Accept defaults for all but the passphrase. You must use a appropriate passphrase to properly secure your key pair.
The default location for the public key is <home_dir>/.ssh/id_rsa.pub
Step3. Add SSH key to DX LDAP system
https://iam.corp.adobe.com/ → Accounts → Services → Digital Marketing → Manage Digital Marketing Account → Action → SSH Key Change → Next Submit → Paste "Public" Key → Next Submit
Step4: https://wiki.corp.adobe.com/display/CoreServicesTeam/Balabit+SCB+Usage+Guide#BalabitSCBUsageGuide-LinuxHostAccess

=====================================================================

https://adobe.sharepoint.com/:w:/r/sites/AMSBasicLeads/_layouts/15/doc2.aspx?sourcedoc=%7B8D3AC4E4-05E8-4209-B413-20747A6AE363%7D&file=AMS%20Basic%20Summit%20Agenda%20Draft.docx&action=default&mobileredirect=true&cid=9dbe5cc8-1aee-4967-99b8-a9270ef5919f


adobe basic summit
===========================================================

Leads Meeting - https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=~bonnett&title=AMS+Basic+Leads+Discussion

Escalation queue - 

https://adobe-ent.crm.dynamics.com/main.aspx?appid=f2e74f34-7119-ea11-a811-000d3a5936c5&forceUCI=1&pagetype=entitylist&etn=incident&viewid=226a2474-a59b-ea11-a811-000d3a3038a2&viewType=4230

TTLR queue - 

https://adobe-ent.crm.dynamics.com/main.aspx?appid=f2e74f34-7119-ea11-a811-000d3a5936c5&forceUCI=1&newWindow=true&pagetype=entitylist&etn=incident&viewid=722863bc-20c0-ea11-a812-000d3a3038a2&viewType=4230


Monitoring - >

PROD

https://nagios-ams.or1.goc.adobe.net/thruk/#cgi-bin/status.cgi?entries=all&hidesearch=0&hidetop=&dfl_columns=host_name%2Cdescription%2Cstate%2Clast_check%2Cduration%2Cnext_check%2Ccurrent_attempt%2Cplugin_output%2Ccust_HOST_ALERTING_PROFILE%3AAlerting%20Type%2Ccust_HOST_MONITORING_PROFILE%3AMonitoring%20Profile%2Ccust_PRODUCT%3AProduct&dfl_s0_servicestatustypes=28&style=detail&dfl_s0_type=host&dfl_s0_type=host&dfl_s0_val_pre=&dfl_s0_val_pre=&dfl_s0_op=~&dfl_s0_op=~&dfl_s0_value=CQMSBasic&dfl_s0_value=prod&sortoption=6&sorttype=1

Non - PROD

https://nagios-ams.or1.goc.adobe.net/thruk/#cgi-bin/status.cgi?entries=all&hidesearch=0&hidetop=&dfl_columns=host_name%2Cdescription%2Cstate%2Clast_check%2Cduration%2Cnext_check%2Ccurrent_attempt%2Cplugin_output%2Ccust_HOST_ALERTING_PROFILE%3AAlerting%20Type%2Ccust_HOST_MONITORING_PROFILE%3AMonitoring%20Profile%2Ccust_PRODUCT%3AProduct&dfl_s0_servicestatustypes=28&style=detail&dfl_s0_type=host&dfl_s0_type=host&dfl_s0_val_pre=&dfl_s0_val_pre=&dfl_s0_op=~&dfl_s0_op=!~&dfl_s0_value=CQMSBasic&dfl_s0_value=prod&sortoption=6&sorttype=2


Security Dashboard - 

https://adobems.service-now.com/nav_to.do?uri=%2F$pa_dashboard.do%3Fsysparm_dashboard%3Dd315353a1bbd58d04bf13112cd4bcbdb%26sysparm_tab%3D3245f53a1bbd58d04bf13112cd4bcb62%26sysparm_cancelable%3Dtrue%26sysparm_editable%3Dfalse%26sysparm_active_panel%3Dfalse


New Relic link - 

https://wiki.corp.adobe.com/download/attachments/2130775347/New%20Relic%20and%20Managed%20Services%20Monitoring%20Overview.pdf?version=1&modificationDate=1596521883973&api=v2

James SN link - 

https://adobems.service-now.com/nav_to.do?uri=$pa_dashboard.do%3Fsysparm_dashboard%3Dd9a1a5133762fe00fc6db15ec3990e90%26sysparm_tab%3D689cc498dbde00982ec79a82ca9619b6%26sysparm_cancelable%3Dtrue%26sysparm_editable%3Dfalse%26sysparm_active_panel%3Dfalse

yellow CM SN - 

https://adobems.service-now.com/u_cloud_manager_adoption_list.do?sysparm_query=u_company.u_customer_success_engineer.manager%3D219639c42180010062d4fe1ee92af33d%5Eu_status_code%3DYellow%5Eu_active%3Dtrue%5Eu_company.u_customer_success_engineer.nameSTARTSWITHadobemsbasic&sysparm_view=

Splunk error Count - 

https://adobems.service-now.com/u_splunk_highest_error_count_list.do?sysparm_query=sys_created_onONYesterday%40javascript%3Ags.beginningOfYesterday()%40javascript%3Ags.endOfYesterday()%5Eu_company.u_product%3DAEM%20Basic&sysparm_view=

Florin PPT - 

https://adobe-my.sharepoint.com/:p:/r/personal/fcarlig_adobe_com/_layouts/15/doc2.aspx?sourcedoc=%7B49CADEEE-CFCB-4E05-B04E-CC38302548A9%7D&file=AMS_Basic_KPIs.pptx&action=edit&mobileredirect=true&cid=16667479-63c1-4740-b57f-1bbbb90294a4




PRB0254487 - A dashboard / card  showcasing the No. of PROD Deployments along with Customer names for Basic Customers only in a month / quarter / year


===================================================

New Relic Simple Browser by Luciana - 

https://wiki.corp.adobe.com/display/MSTeam/New+Relic+One%3A+Synthetics+Simple+Browser

https://adobe.bluejeans.com/playback/s/7bS437W8Nuxgi2IVfyapda2r7gTPxrQKFgFAKcFV3RPdAeywD0yOhE3jZmiFV76K

https://docs.newrelic.com/docs/synthetics/synthetic-monitoring/getting-started/types-synthetic-monitors

====================================================

https://adobems.service-now.com/navpage.do

https://portal.ams.adobe.net/

https://adobe-ent.crm.dynamics.com/main.aspx?appid=f2e74f34-7119-ea11-a811-000d3a5936c5&forceUCI=1&pagetype=entitylist&etn=incident&viewid=438ac3a1-338a-ea11-a812-000d3a303484&viewType=4230

https://splunk.or1.adobe.net/

https://synthetics.newrelic.com/accounts/1325417/monitors

https://nagios-ams.or1.goc.adobe.net/

https://www.worldtimebuddy.com/

https://adobe.sharepoint.com/sites/amsaembasic/SitePages/Home.aspx

https://adobe-my.sharepoint.com/personal/meejain_adobe_com/_layouts/15/onedrive.aspx




Passwords - 

splash safe id 

Adobe ID
meejain@adobe.com
Heena@1234

Vanshu@1234


adobemsbasic@adobe.com
11NZE)&9<"daE(rV


GIT password

meetkjain83@gmail.com
Wanderlust@123456789

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





azure application id
f9061f99-39b7-42dc-b651-3d7e5f8b65fb

azure key
jsPA389WHaR8vMNPF40WnPffyjEnvbMmUuJIUzqjZk=


LDAP ID
Welcome@123456789
Nmq7radk@123456789
Wanderlusthnm@123456789



Wanderlust@123456789,282590

Wanderust@23456789

wanderlust@123456789,819728

VANSH Password - vanshkj@123


meetkjain83@gmail.com - Apple ID
Vanshu@123

nagiosadmin
b3t3rafthnS0ry!


Rapid Portal - PROD
meejain


Wanderust@23456789

Rapid Portal - Stage 

Vanshu@123456




adobemsbasiccomwildJan2021



Adobemsbasic Cert details - Oct'22

P8Aj4JWoqYs6uo4WxDxQdemksm



https://itcpki.corp.adobe.com/#/



=======================================================

crx/packmgr/index.jsp will work with AEM 6.5.5

==================================================

Elham link for AEM study - 

http://experience-aem.blogspot.com/2013/08/in-blog-experiencing-adobe-experience.html

=================================================

https://jira.corp.adobe.com/browse/CMGR-12182 - CM hill rom
search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
| search host_s == "hillrom-stage1.adobemsbasic.com"


search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
| search host_s == "stagecmsauthor.equinix.com"
| search userAgent_s == "Mozilla/5.0 (X11; Linux 86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.167 Safari/537.36 CloudManagerTest"


Mozilla/5.0 (X11; Linux 86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.167 Safari/537.36 CloudManagerTest



==========================================

Logs view in AEM from Patrick - 

You have three options for viewing AEM logs:

1) You can view them in the browser via /system/console/slinglog
i.e. https://author1canadacentral.dev.scotiaweb.adobecqms.net/system/console/slinglog/tailer.txt?tail=10000&grep=*&name=%2Flogs%2Ferror.log

2) You can ssh to the servers and view them on the file system (send your public key in a AMS Request on sharepoint and we'll provision a ssh user account for you).
i.e. tail -f /var/log/aem/error.log

3) You can use the Splunk Forwarder to send logs to your Splunk system and run queries against the logs using your own Splunk search head.

=============================================

S3 Cache issue - 

https://docs.adobe.com/content/help/en/experience-manager-65/deploying/deploying/data-store-config.html

https://adobe-ent.crm.dynamics.com/main.aspx?appid=f2e74f34-7119-ea11-a811-000d3a5936c5&newWindow=true&pagetype=entityrecord&etn=incident&id=748e73dd-6bd6-ea11-a813-000d3a593813



======================================
Tim's golden words - 

Hello Wayne,
 
    AMS prescribes the update deadline in order to ensure that our customers remain on the most secure, performant, and feature rich versions of AEM. We understand that business requirements can impact our customers ability to hit the deadline, and an exception process is available for those customers who need a bit more time.   Customers who need an extension will require approval from AMS leadership. Approvals are provided on a case by case basis, and are at the discretion of AMS leadership.
 
   In order to submit your case to our leadership, we will require the following information:
 
Why does Fleetcor require an upgrade extension, and how long will you need?
I believe this is a good start, and any additional factors or details will not hurt.
This year I have focused my team on developing a huge level of innovation for out company that will prepare us for 2021.    We are in the process of launching an entirely new application process that is AEM & Target based around the October time frame, as well as many new websites. Is it possible to get a 6 months extension to this upgrade in agreement to build out our business and upgrade

What specific date can you commit to having the upgrade completed by if you are unable to make the October 31st deadline?
AMS will not hold you to the very second of the date you provide. We want to understand the target date that you will be aggressively pushing for.

Does Fleetcor agree that if they past that date, they will pay any retroactive uplift fees?
If other business requirements override your ability to complete the upgrade on or around the date provided, you will be willing to pay any retroactive uplift fees incurred from the original deadline.
 
  Please let me know if you have any comments or concerns. I would also be willing to jump on a call if needed.
 
Thanks,
Tim



1.  If you are looking to EOY completion of your upgrade, does that mean you might need 3 months vs 6 months? May you please provide your best estimated date you will be completed by?
2. Unfortunately, agreement to the retroactive uplift fees is a condition of the extension. The extension is provided in good faith, with the understanding that customers who show a continued indifference to the upgrade requirement after their communicated upgrade extension date are subject to the uplift fee. Based on your future AEM roadmap, and your aggressive timeline, I don’t suspect we will need to pursue any uplift fess, even if you pass your best estimated deadline by a couple weeks. 


My senior leadership tracks customers who are struggling to implement AEM on AMS, and holds me accountable to check on a weekly basis on what their status is. The goal of a weekly cadence is to ensure that these customers do not drop by the way side, and that AMS customers are supported. My intent is to partner with our CSMs and AEs, and offer support. My apologies if it seems aggressive, but the AMS organization needs to be aware of customer developments that may impact customer renewals and attritions.  If you believe that nothing can be done until the customer has completed the RFP, is there anything we are doing to differentiate ourselves to Trulia?









This does not close out this issue. The issue will be closed when the customer is able to run on their contractual specification without compromising site stability every time they need to make a delta. AMS cannot be responsible for supporting the operations of Hunter Douglas. There needs to be a clean handoff on a performant, contractually specified  platform where the customer understands the intricacies of how to publish new content and clear the different levels of cache.
 
@Eric Cohen – Have you approached the customer on more hours from ACS, specifically around training associated with cache clearing / CDN operations?
 
@Sreenivas B – When you say optimize the monitoring, are you referring to validating whether or not all the traffic hitting the CDN is being sourced from organic site traffic, rather than possible legacy site crawlers?





My senior leadership tracks customers who are struggling to implement AEM on AMS, and holds me accountable to check on a weekly basis on what their status is. The goal of a weekly cadence is to ensure that these customers do not drop by the way side, and that AMS customers are supported. My intent is to partner with our CSMs and AEs, and offer support. My apologies if it seems aggressive, but the AMS organization needs to be aware of customer developments that may impact customer renewals and attritions. If you believe that nothing can be done until the customer has completed the RFP, is there anything we are doing to differentiate ourselves to Trulia?



AMS relies on the high availability of our cloud service providers in order to offer the SLA’s associated with the AMS basic solution. The incident that occurred in UK South was one of the longest outages Adobe has experienced with Azure cloud services, which took over 10 hours to resolve. During the outage, AMS was in constant communication with the Azure support teams trying to understand when services would be restored. When it became apparent that restoration would take longer than what we typically experience with our service providers we began looking for options to restore services using alternative solutions.”


James,
 
  While I am concerned about the fact that the only PDF G option AMS supports can lead to PDF fidelity issues, the main concern I have is enforcing the spirit of standardization. Today, AMS leverages multiple TLTD threads ( AEM ENV provisions , CM), which are required to deliver the official AMS product. The TLTD page for system provision is owned by the AMS Eng team, in order to protect the continuity of the product that they are unable to automate.
 
   My ask is that the AMS Eng team coordinate with the product team to officially include Open Office installations as  a function of automation. If they are unable to accommodate automation, I would ask that they at minimum include it as an official step in aem form provisions. If it is a part of TLTD, they will be responsible for validating the instructions, managing the install rpms in our ams repo, and ensuring that any vulnerabilities that arise with the version deployed are communicated out to the large AMS team.
 
Thanks,
Tim


any chance your kick the tires instructions could help us here?

336,520	376,551
 

 Guarav, 

   AMS is unable to update apache versions outside of the AMS Blocks (think AMS versions of AMIs). These blocks pull software from internal repositories that are owned by our AMS Product engineering team, and who's artifacts are closely monitored and maintained. 

AMS runs RHEL 7.6 on your AMS managed AEM stack. Due to RHEL branching off apache back in 2010, the versions we leverage do not match exactly with the open source change log found in https://downloads.apache.org/httpd/CHANGES_2.4.46. The version we run has a designation of Apache HTTP httpd-2.4.6-90.el7, which has a rough equivalence to 2.4.42. I would recommend validating on that version to see if the problem persists. 

I would be more than happy to hop on a call if you have any questions. 

Thanks, 
Tim 



Do you happen to know or was it discussed with customer what the migration timeframe would look like? My assumption is we will need to keep Hunter Douglas upsized through their transition date and I need some kind of timeframe for senior leadership to sign off on that request. As long as that timeframe is reasonable we will be able to approve the customer to remain upsized from now through the transition completion.

tyler 


So in an abundance of caution we have held off on making the changes.



Hello Tim,
 
Thanks for reaching out to solve this predicament.
 
We have been putting forth resolutions to reach a mutually beneficial avenue to move forward. Every mail that we have sent has been met with a stiff resistance and a canned response thereof. 
 
The pandemic has hurt our business to an emphatic extent and we are literally grappling to get back on our feet. Under such circumstances we wish and hope that Adobe will consider this engagement as a long term relationship and not a transactional statistic of overdue invoices. I would like to reiterate that we have not even launched the platform and at this point, it continues to be a liability with no commercial value for us.
 
Apart from the Adobe invoices, our commitment is obvious by the the investments we have made in implementation partners, executive time and humongous involvement. In the true spirit of partnership, I would like to discuss with you to rearrange certain aspects of the agreement that will provide us leeway to head forward. 
 
While you may have been privy to our earlier conversations, I would like to discuss with you on the way ahead. Do let me know when we can have a call at the earliest to salvage the circumstance, wipe the slate clean and explore possibilities of continuing value.
 
Best,
Sundeep

Things are status quo from our last communication




PLEASE NOTE : If this customer requires one more accommodation in the future, will be recommending to our leadership that they be disqualified for the basic program, and forced to move to AEM CS or AMS Enterprise. We are under no contractual obligation to make these accommodations and doing so makes the AMS Basic operation less scalable. Please ensure that the customer is made aware of this.

Mitch Golden words - 

With the recent AEM renewal with Redbox, we missed an easy opportunity to transition them AEM as a Cloud Service.  Redbox was very interested in moving to CS, but the costs of the mandatory Premiere Support addition increased the costs to the point where they could not proceed.
 
The team is of the opinion that if we are going to be successful, existing AMS Basic to AEM as a Cloud Service migrations are going to need a comparable final price.  Today customers have the choice between levels of Premier Support, but are unable to opt out of it. When AEs are building a quote for customers to move to AEM CS, they feel they must add Premier Support, which can greatly increase the ongoing total cost, which they wish to avoid as the AEs don't want to take a hit on their ASV totals and take a down sell/attrition.  We need to add flexibility to this, either by making Premier Support optional or by lowering the combined price to what the customer is currently paying now.  


Hi,
 
This was for a POC as part of a bid tender that I don’t believe went ahead.  Far as I know this can be removed, but I’d defer to @Radu Cotescu as I suspect he’ll be more in the know.
 
Thanks
Mike


the only way i could see around it is if the customer gave us a written confirmation that 1) they are comfortable forgoing the sla because of their refusal to lock down the dispatchers 2) they assume all responsibility around security issues related to their wide open dispatcher


Gagan - 

As Gagan notes, we need to be very careful to share the goodness of CAM in terms of all the valuable detail it provides around understanding migration readiness and complexity, while also making sure customers understand that it does not provide an implementation effort assessment and that introduction to a skilled partner or ACS team is needed. 



Ravi, 
 
   My goal is to work with the customer success / account team here at adobe who most likely has a closer eye on the customer’s plans to implement than our operations team. I would love to collaborate with you or anyone else from the accounts team to collectively create an action plan to retain this customer.
 
My apologies that you feel these communications are “not helping in any way”. My intent is to spur action via communication, rather than to be an annoyance. Please let me know who I can rely on from the account management team so that I can begin organizing a unified customer retention plan. Once we have a #oneadobe plan of action, we can reach out to the customer as a unified team.
 
Thanks,
Tim
 


I was about to reply to this thread but you beat me to the punch! Please let me know how I can help get a quote through.


===================================

Authentication based perf testing

Good News with regards to PERF Testing enablement via Cloud Manager crawler along with SSO / SAML enabled. 

So this Aug'20 release of CM - they have enabled - Authenticated Performance Testing, which means even though you configure SSO / SAML for your Stage Publish URL still crawler of CM will be able to authenticate into it and perform the test. No need to do any kind of Basic Authentication on dispatchers as discussed prior. Here are the details - 

Authenticated Performance Testing
AMS customers with authenticated sites can specify a username and password which Cloud Manager will use to access the website during Sites Performance Testing.
The username and password are specified as Pipeline Variables with the names CM_PERF_TEST_BASIC_USERNAME and CM_PERF_TEST_BASIC_PASSWORD .
Although not strictly required, it is recommended to use the string variable type for the username and the secretString variable type for the password. If both of these are specified, every request from the performance test crawler and the test virtual users will contain these credentials as HTTP Basic authentication.
To set these variables using the Cloud Manager CLI , run:
$ aio cloudmanager:set-pipeline-variables <pipeline id> --variable CM_PERF_TEST_BASIC_USERNAME <username> --secret CM_PERF_TEST_BASIC_PASSWORD <password>

https://experienceleague.adobe.com/docs/experience-manager-cloud-manager/using/how-to-use/understand-your-test-results.html?lang=en#performance-testing
https://helpx.adobe.com/in/experience-manager/6-3/sites/deploying/using/single-sign-on.html
https://aemcorner.com/adobe-granite-sso-authentication-handler/
https://github.com/adobe/aio-cli-plugin-cloudmanager
https://github.com/adobe/aio-cli


aio cloudmanager:pipeline:list-variables

https://github.com/adobe/aio-cli-plugin-cloudmanager/blob/main/README.md#aio-cloudmanagerpipelinelist-variables-pipelineid

https://medium.com/adobetech/setting-up-adobe-i-o-cli-for-cloud-manager-8820f47e3c94



So here what we are doing, SSO / SAML has got several auth handlers and Basic Authentication on AEM is one of them. So you have to set a Username & Password in your SAML / SSO configs for AEM and allot the same attributes to that User which you'll allot to other users who will be authenticating via SSO. With the help of AIO CLI commands mentioned above, you'll be able to assign the same username & password to CM 's visibility and once it is done, then CM will be smart enough to get use of Basic Auth handler of SSO and authenticates itself. 

Please check & validate this option if you have not gone too far with the prior discussions. 







=============================================

Multiple Source Git Repositories - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-manager/using/managing-code/working-with-multiple-source-git-repos.html?lang=en#managing-code


https://jigarius.com/blog/multiple-git-remote-repositories#:~:text=It%20is%20easy%20to%20synchronize,remote%20as%20you%20usually%20do.

Good learning on GIT

git mirror
gitmirror

https://www.educative.io/edpresso/beginners-guide-git-mirrors


=================================================

index=ams_linux-os sourcetype=ssg-summit-prod amssynchronizer 31457

splunk query to check the sync between SN & CM 

31457 - is the program id 

==============================================

Last man standing / LMS
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=CQ+AEM+Dispatcher+Health+Check+-+Last+Man+Standing
https://jira.corp.adobe.com/browse/AMSAUTO-15665
CHG0137762
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2081441535

Tim's query for getting the list of instances - 

https://adobems.service-now.com/nav_to.do?uri=%2Fu_aws_ec2_instances_list.do%3Fsysparm_query%3Dcompany.u_product%3DAEM%20Basic%5Eu_state%3Drunning%26sysparm_first_row%3D1%26sysparm_view%3D

https://adobems.service-now.com/nav_to.do?uri=%2Fsys_report_template.do%3Fjvar_report_id%3D9b6eb5dbdbd4c550decb4c95b996193c




https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2081441535
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2191993648 - meet


Basic Customers with LMS < 1.0.3 - 

https://splunk.or1.adobe.net/en-US/app/search/search?earliest=-24h%40h&latest=now&q=%7Cinputlookup%20ams_host_lookup_csv%20%7C%20search%20block%20IN%20(B61%2C%20B62%2C%20B70%2C%20B75)%20account%3Dbpbu17%20OR%20account%3Dbpbu18%20role%20IN%20(cq-dispatcher%2Ccq-Dispatcher)%20%7C%20join%20type%3Dleft%20hostname%20%5Bsearch%20index%3Dmanserv_hubble%20sourcetype%3Dhubble_osquery_rpm_packages%20ams-dispatcher-healthcheck*%20%7C%20eval%20lmsver%3Dversion.%22.%22.release%20%7C%20eval%20hostname%3Dhost%20%7C%20fields%20hostname%2C%20lmsver%5D%20%7C%20search%20(NOT%20lmsver%3D*)%20OR%20lmsver%20!%3D%201.0.3%7C%20table%20hostname%2C%20block%2C%20lmsver&display.page.search.mode=verbose&dispatch.sample_ratio=1&display.page.search.tab=statistics&display.general.type=statistics&display.prefs.fieldFilter=&display.prefs.statistics.offset=40&display.statistics.sortColumn=lmsver&sid=1600889580.17011_DBEFF53A-73DA-4F86-8406-0515DFEE3168


Check the version of any Topology - 

 
https://splunk.or1.adobe.net/en-US/app/search/search?earliest=-24h%40h&latest=now&q=%7Cinputlookup%20ams_host_lookup_csv%20%7C%20search%20hostname%3D*svenskaspel*%20%7C%20join%20type%3Dleft%20hostname%20%5Bsearch%20index%3Dmanserv_hubble%20sourcetype%3Dhubble_osquery_rpm_packages%20ams-dispatcher-healthcheck*%20%7C%20eval%20lmsver%3Dversion.%22.%22.release%20%7C%20eval%20hostname%3Dhost%20%7C%20fields%20hostname%2C%20lmsver%5D%20%7C%20table%20hostname%2C%20block%2C%20lmsver&display.page.search.mode=verbose&dispatch.sample_ratio=1&display.page.search.tab=statistics&display.general.type=statistics&display.prefs.fieldFilter=&sid=1600872421.11147_DBEFF53A-73DA-4F86-8406-0515DFEE3168

===================================================

Roxana - regression - sp9 sp8 

I just find out on ams channel  that new versions of SP8 & 9 containing the fix for OSGi password issue (GRANITE-34812) are now available on Software Distribution as per below:
·         6.5.8.0 - Is an interim SP which can be installed over 6.5 GA or 6.5 GA + 6.5.x.0 or 6.5 GA + 6.5.8.0 GA
·         https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?pack[…]q650/servicepack/aem-service-pkg-6.5.8-NPR-36800-B0006.zip
·         6.5.9.0 – The existing GA build has been unpublished and new GA build is now available for 6.5.9.0 with version as 6.5.9-1.0 for differentiation., & can be installed over the previous GA version
·         https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?pack[…]e/packages/cq650/servicepack/aem-service-pkg-6.5.9-1.0.zip
 

 ========================================================

 Chris - cloudmanager adoption - 

 https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+Pre-flight+Checklist

 How cloudmanager has evolved - 

 https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+Convincing+the+Customer

 ============================================================



lpl dispatcher issue - assign flush agents for different farms - > 


https://www.netcentric.biz/insights/2017/01/aem-dispatcher-cache-invalidation-for-multiple-cache-farms.html

1]  https://helpx.adobe.com/experience-manager/kb/How-to-flush-the-dispatcher-when-there-are-farms-with-separate-cache-folders-AEM-Dispatcher.html?a=4
[2] https://docs.adobe.com/content/help/en/experience-manager-dispatcher/using/configuring/page-invalidate.html#invalidating-dispatcher-cache-from-a-publishing-instance
[2] http://www.wemblog.com/2013/03/how-to-manage-multi-site-using.html

========================================

E-000159265 - Unreliable CM deployment process - equinix

Asset 



https://wiki.corp.adobe.com/display/MSTeam/Meeting+notes+2020-07-30
https://jira.corp.adobe.com/browse/C14E-3196 - out of office

1) IMS issue & learnings
2) Target Group + routes for the additional subnets for ALB
3) New Process for creating integration in Adobe IO
4) Good Life - CDN issue with Certs
5) New Process for creating integration in Adobe IO
6) Playtika is Pre PROD, why are we monitoring PROD Author URL - New Relic

E-000155654 - raised for torrid



DX English SD AEM

===========================================================

Security Reports - 

https://wiki.corp.adobe.com/display/MSTeam/Reports
https://wiki.corp.adobe.com/display/MSTeam/AMS+Security#AMSSecurity-ReferenceMaterial

=========================================================

Disablement of crx/de

Also note starting in 6.5.5 and 6.4.8.1 logging-in via CRX/DE was removed from the product. Just an FYI to be aware of.

To get to /system/console on a Publish instance you need to hit an Auth handler and authenticate with a user (or a user who is a member of a group) that is whitelisted in the Web Console Security Provider.
- org.apache.sling.extensions.webconsolesecurityprovider.internal.SlingWebConsoleSecurityProvider

You don't need to have CRX/DE enabled. It's just a "backdoor" way to authenticate in AEM.

You can always force Basic Authentication in a manner like : 
http://<aem_ip>:<port>/aem/start.html?sling:authRequestLogin=true

which will pop up a basic authentication dialog and you can access the publish this way.

Heck you can go straight to the OSGI Console this method as well : 
http://<aem_ip>:<port>/system/console/bundles?sling:authRequestLogin=true

E-000188254

=========================================================

CUSTOMER MESSAGING – SEND IF ASKED BY CUSTOMER/CSM/OTHER.
 
:warning: If your customers ask for an update on the situation, please share the following line::warning:
 
All the services are now stabilised. All signs point toward an unusual event in an AMS system management tool. Our teams remain engaged and looking into the issue to confirm Root Cause. We will continue to provide new updates as they become available.
 
:warning: If you are asked to provide a timeline on RCA delivery::warning:
 
Our teams remain engaged and looking into the issue to confirm root cause. We are not currently able to provide a timeline for RCA but are working to get this produced as quickly as possible.



================

Push back for dispatcher configurations - rohit tim

Hello, 
 
  Our response to this issue is exactly what I would expect from my team when dealing with a qualified AEM development engineer.  Customers who purchase the AMS basic offering are expected to have a higher level of AEM expertise, and should understand after some basic explanation and exposure to our documentation how to enable these configurations. Rohit and Akshay went above and beyond with the customer to solve their problem, and should not be expected to do so again in the future. Our teams are not responsible for our customer’s dispatcher configurations, as there is an expectation that customers who come to AMS are competent at its configuration and development. I have instructed Rohit to inform me if this customer requests that AMS conduct any future dispatcher configurations. Please let me know if you would like me to jump on a meeting with the customer to reaffirm roles and responsibilities of the parties involved. 
 
 
Here is an excerpt from our onboarding presentation to new customers where we clearly set the expectation that dispatcher configurations are the customer’s responsibility . 
 

 
 
In addition, here is an excerpt from our Product Specific licensing terms that states that a qualified AEM developer (whether customer or partner) needs to be engaged on the project. 



Customers who purchase the AMS basic offering are expected to have a higher level of AEM expertise, and should understand after some basic explanation and exposure to our documentation how to enable these configurations.Our teams are not responsible for our customer’s dispatcher configurations, as there is an expectation that customers who come to AMS are competent at its configuration and development. Though, we do have the permissions to change anything but we do not want to touch / peep into any kind of customer's customisations. Customer's dispatcher configurations are as critical and secure as their source code and hence we avoid touching them. 

 
 ===========================================


E-000161543

Synthetic closure - FTS

The production publishers were experiencing high load, which caused the health check on the load balancer to fail briefly. APM data, along with heap and thread dumps, have been provided to the customer for further analysis as to the performance issue experienced by the publishers. APM data suggests that the issue was due to their customer page component (/apps/leap/components/structure/page/page.html). Emergency restarts were performed in a rolling manner to bring the application back to a healthy state.

https://www.apple.com/in/imac/specs/

15/10/49
24/08/53

Madan Panathula <panathul@adobe.com>
Atanu Dutta <atdutta@adobe.com>
cacwee

https://docs.adobe.com/content/help/en/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html 
dispatcher configuration
https://experienceleague.adobe.com/docs/experience-manager-learn/ams/dispatcher/disp-flushing.html?lang=en

https://helpx.adobe.com/experience-manager/kb/ams-dispatcher-manual.html - Rohit manual - very important

https://helpx.adobe.com/experience-manager/kb/ams-dispatcher-manual/disp-flushing.html

Meetings / KT session by Meet on dispatchers - 

https://bluejeans.com/s/d9sYkzh1XlH/


https://www.youtube.com/watch?v=JhKq9zOwfeo - build a site on AEMaaCS quickly



If the stat file level setting is set too high then each flush request traverses the directory tree touching stat files.  This can become a major performance hit on large cache trees and can impact the overall performance of your dispatcher.

Setting this file level too low can cause a flush request to clear more than was intended.  Which in turn would cause the cache to churn more often with less requests being served from cache and can cause performance issues.

==========================================================
Brand Portal Upgrade doc

https://docs.adobe.com/content/help/en/experience-manager-brand-portal/using/asset-sourcing-in-brand-portal/brand-portal-asset-sourcing.html

=======================================================

Team,
 
  In light of the work being done in AMSSEC030 to disable CRXDE in production, I would like to add one more step to the list of steps we conduct before we can send the FL to customers.
               
Please ensure that every production environment that is provisioned has CRXDE disabled before we send the FL.
 
If the customer reaches out to you after gaining access and requests that CRXDE be enabled, please provide the following instructions to allow the customer to enable. I only want us enabling CRXDE for customers when we need to leverage it to troubleshoot an issue, than immediately disabling it once we have completed our work.
 
 
Enabling CRXDE
 
1. Login to the Touch UI on the AEM instance (author / publisher) you wish to enable CRXDE
    a. https://<INSTANCE_IP>/cloudma
2. Browse to the OSGI Bundle Manager
    a. https://<INSTANCE_IP>/system/console/bundles
3. Click the “START” icon next to the following bundles one at a time:
    a. com.adobe.granite.crx-explorer
    b. com.adobe.granite.crxde-lite
    c. org.apache.sling.jcr.davex
    d. org.apache.sling.jcr.webdav
4. Confirm that all 4 bundles are in “Active” status.
 
 
 
PLEASE ACK THIS COMMUNICATION.
 

 ==================================================

SHM Process + Ticketing tool access - 

https://bluejeans.com/s/xtlwg/

========================================================

Security approval - 

https://wiki.corp.adobe.com/display/MSTeam/Customer+software+or+architecture+deviation+approval+process

=========================================================

cron query - 

https://stackoverflow.com/questions/39328351/is-there-a-difference-between-and-in-cron-expressions-strange-example

http://www.cronmaker.com/;jsessionid=node01wchcmrvokyi31beffb156y4et189389.node0?0

==========================================================

/etc/httpd/conf.d/available_vhosts/aem_flush.vhost
o This is a virtual host specially setup simply to have the dispatcher module file handler enabled and
nothing else. This assures that no other customizations will cause flushing to stop working. In the
replication agent in AEM there is a Host header added with the value of flush to hit this virtual
host. Note: this flush agent is specific to the publish workload not for author site flushing.

=============
Cloud Manager JIRA's 

CMGR-5330 - jira to implement using a reserved IP pool when spinning up containers
2020.7.0 release

https://jira.corp.adobe.com/browse/CMGR-6709  - For JAVA11 Support

JIRA 5359 - Stage publish URL - has been authenticated and hence performance testing is failing

https://jira.corp.adobe.com/browse/AMSAUTO-121  - B75 doesnt have forms

https://jira.corp.adobe.com/browse/CMGR-7366 - CM deploys even after removing from ELB

https://jira.corp.adobe.com/browse/CMGR-6645 - presence of clones will fail the deployments




Cloud Manager Adoption data - 

https://adobems.service-now.com/u_cloud_manager_adoption_list.do?sysparm_query=u_company.u_customer_success_engineer.manager%3D219639c42180010062d4fe1ee92af33d%5Eu_status_code%3DBlack%5Eu_active%3Dtrue&sysparm_first_row=1&sysparm_view=


======================================

manage ELB Links - 

https://wiki.corp.adobe.com/display/cemcloud/Manage+LB+Links+Analysis

https://wiki.corp.adobe.com/display/WEM/CM+Deploy+-+manage-elb-links+fails

ADC - new process - 

Advanced Deployment Configuration (ADC)

https://adobedx.slack.com/archives/CBU9ZB0HY/p1591123730214000

I can explain the ADC part. The root cause of this issue (at least according to Patrick and Rick) was that the way that Cloud Manager was previously asking Big Bear to detach a *publish* instance from the load balancer. In some cases, this resulted in this strange response from Big Bear where the action had a “complete” state but did not actually do anything. The fix defined by AMS was to always detach *dispatcher* instances and use the target groups to figure out which dispatcher to detach before (and then attach after) deploying to a particular publish instance. Details of this algorithm can be found in [1]
 
Prior to this new algorithm being implemented, ADC could be used as a workaround since in ADC there is no “figuring out” – in ADC the sequence of operations is explicitly defined by the CSE. But again, I don’t see why that would be necessary now, unless the new algorithm also has problems. In which case Patrick and Rick should probably be engaged to get to the bottom of what the gap is.


ADC - deploy configurations - 

https://git.corp.adobe.com/pages/experience-platform/self-service-hal-browser/#https://ssg.adobe.io/api/program/1803/environment/8413/deployConfigurations


==============================================

AEM 6.5+ Upgrade

End of life support   -> https://helpx.adobe.com/support/programs/eol-matrix.html#EF

Thank you for joining the upgrade training 
https://wiki.corp.adobe.com/display/MSTeam/Manual+Upgrade+to+AEM+6.5+in+Azure-+MSCentral+is+not+working
 
 
Here is the recording: 
 
https://bluejeans.com/s/g2L7H/ 

https://adobe-consulting-services.github.io/acs-aem-commons/pages/compatibility.html
(ACS AEM Commons)



========================================================

https://www.adobe.com/experience-cloud/consulting-services/premier-support.html

premier support ACS

=====================================================

farm file for flush agent - 

We understand your concern & Thank you again for clarification. So replying back to your query - that yes definitely, In the default AMS 2.1 dispatcher configuration, a vhost named "aem_flush.vhost" defines vhost "flush" and accepts dispatcher flush agent traffic. And since there is no any specific farm file for flush, it iterates though all the farm files and reaches the last one present - "publishfarm" defined in config file "999_ams_publish_farm.any".

Now as per Best Practices, the above mentioned is the most appropriate one and we have most of the Customers following the above. No separate farm file for the flush agent.

But very few Customers have used a specific farm file for the flush agent like this below -

/etc/httpd/conf.dispatcher.d/available_farms cat 199_ams_flush_farm.any
/farm_flush {
/virtualhosts { "flush" }
/renders {
$include "/etc/httpd/conf.dispatcher.d/renders/ams_publish_renders.any"
}
/filter {
/0001 { /type "deny" /glob "*" }
/0023 { /type "allow" /glob "*/content*" }
}
/cache {
/docroot "/mnt/var/www/html"
/statfileslevel "4"
}
}

and then create its symlink in etc/httpd/conf.dispatcher.d/enabled_farms folder.

And yes here you may change the statfileslevel accordingly.

OR

instead of defining the separate farm file for flushing, you may also use the keyword "flush" in your custom farm file, rather and that will also work.

So basically, you may just include the word flush in your farm vhost section or add a flush farm on it's own. Totally depends upon you.

Hope this helps.




===========================================

Created a wiki on the same for all AMS Audience - How to create Azure Zone Redundant App Gateway manually -
 
https://wiki.corp.adobe.com/display/MSTeam/How+to+create+Azure+Zone+Redundant+App+Gateway+manually?flashId=-95636619

=============================================

dynamics - customer one - customer 1

https://adobe-ent.crm.dynamics.com/

https://helpx.adobe.com/enterprise/using/support-for-experience-cloud.html (main one)

https://helpx.adobe.com/enterprise/using/admin-console.html#Support

https://helpx-internal.corp.adobe.com/content/help/en/dmacc-internal/kb/parkour-enablement/procedures/migration-procedure.html

https://docs.adobe.com/content/help/en/customer-one/using/home.html




======================

customer Reviews - 

https://adobems.service-now.com/$pa_dashboard.do?embedded=true&dashboard=d9a1a5133762fe00fc6db15ec3990e90&tab=b813449cdb9e00982ec79a82ca9619f5&sysparm_dashboard=d9a1a5133762fe00fc6db15ec3990e90&sysparm_tab=b813449cdb9e00982ec79a82ca9619f5

===========================

https://daycare.day.com/home/gigamoncom/gigamoncom_us/managed_services/209160.html
sg-0a32aee4df826be08 - Covid19-SG-Gigamon-stage


Ip whitelisting for corona - WFH
=======================
AMSSEC026
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Protecting+AEM+in+AMS%3A+Three+Phases+Safe

agbpj8830e31011983

https://wiki.corp.adobe.com/display/MSTeam/Protecting+AEM+in+AMS%3A+Three+Phases+Safe-ish

The Developer / Deployment Manager Role users will get the option of Manage GIT once they login to the Cloud Manager UI - from where they can generate the credentials for accessing Adobe Managed GIT Repo. 


https://bluejeans.com/4085366930

PRB0205450 - CM access 


Cloud Manager - Business Owner Role
CM_BUSINESS_OWNER_ROLE_PROFILE

Application ID AA009MN8Y9 - US Visa

Cloud Manager in red yellow status - 

https://adobems.service-now.com/u_cloud_manager_adoption_list.do?sysparm_query=u_company.u_customer_success_engineer.manager%3D219639c42180010062d4fe1ee92af33d%5Eu_status_codeINYellow%2CRed%5Eu_active%3Dtrue

https://wiki.corp.adobe.com/display/WEM/Cloudmanager+in+Azure


https://wiki.corp.adobe.com/display/MSTeam/Sling+Security+Health+Check
/system/console/healthcheck?tags=security

https://zerobin.corp.adobe.com/

52792 - Tim - 
https://bluejeans.com/3853452792

Azure Region - https://azure.microsoft.com/en-us/global-infrastructure/locations/
Azure instance - https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sizes-general

https://tools.keycdn.com/certificate-chain
chaining certificate URL

https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sizes-general
azure instance size

JIRA's 

https://jira.corp.adobe.com/browse/CMGR-7944 - Improve logic to determine successful package installation
https://jira.corp.adobe.com/browse/CMGR-7943 - Customer Performance Test Runs Even after Application for Approval Step is started
https://jira.corp.adobe.com/browse/AMSAUTO-14558 - AZURE JIRA

Adobe benefits - 

https://ssl2.perquisite.net/RewardCentre/M/RC#/Home

Yada Energia - analytics


https://s3.amazonaws.com/nr-synthetics-assets/nat-ip-dnsname/production/ip.json


Azure Ip details - 

https://www.microsoft.com/en-in/download/details.aspx?id=41653
https://www.microsoft.com/en-us/download/confirmation.aspx?id=56519 (new)

https://www.microsoft.com/en-us/download/details.aspx?id=56519&WT.mc_id=rss_alldownloads_all (newest)

===========================================

https://wiki.corp.adobe.com/display/MSTeam/Migrating+from+an+ELB+to+an+ALB

Migrate from ELB to ALB

=========================================

Azure Support - 

Azure SevA support ticket administration workflow. When you face an Azure related issue (customer site down due to Azure hardware failure or unable to provision new customers) and require immediate attention, please follow the steps outlined below to initiate the GOC to push the BIG RED BUTTON:
AEM MS CSE logs an Azure SevA ticket per the current process via the Azure support portal (CSE can skip directly to step #2 if confirmed CSO)
CSE sends email to azure-cso-escalations@adobe.com and asks for a ‘CSO SevA ticket’ (this can also be accomplished via the #goc Slack channel)
The GOC submits a ‘CSO SevA’ using the Big Red Button process (include AEM MS SevA ticket details, if available)
GOC posts the ‘CSO SevA’ ticket to #fts_oncall_chat Slack channel
GOC pages Service Manager to engage in the CSO and provide Azure executive escalation emails (adobeazesc@microsoft.com and Grp-adobe-azure-esc@adobe.com) including relevant updates, and the preliminary report
AEM MS CSOs will be included in weekly CSO Remediation until closure
Wiki: Azure SevA Support Tickets

Azure Subsciption updates - 

Tim has asked that we add the Grp-DMA-AMS-CEE group to the Owner Role when setting up new Azure subscriptions. 



===========================================

CHG0091311  Migrate Application gateway from Standard version to V2

https://wiki.corp.adobe.com/display/MSTeam/Azure+Application+Gateway+-+Manual+Conversion+from+V1+to+V2

app gateway azure

=============================

DSGC not enabled for assets Customer - 

Hello Tarlok, 

Yes, DSGC is purposely not enabled for any Assets Customer. Cargill, Inc. is Sites + Assets Customer and hence this option is not enabled. 

So DSGC is when a conventional WCM asset is removed, the reference to the underlying data store record may be removed from the node hierarchy, but the data store record itself remains. This unreferenced data store record then becomes "garbage" that need not be retained. In instances where a number of garbage assets exist, it is beneficial to get rid of them to preserve space and to optimize backup and filesystem maintenance performance.

Now this approach works well for a single node with a private data store. However the data store may be shared, and if it is this means that potentially active live references to data store records from other repositories are not checked, and active referenced files may be mistakenly removed.

That is why we do not enable DSGC for any of our Assets Customer. Hope that helps. 

Regards, 

Meet Kumar Jain
Adobe Managed Services

=======================================

Security wiki - 

https://wiki.corp.adobe.com/display/MSTeam/AMS+Security

INC0340297 & INC0325517

======================================
consti upgrade meeting - 

https://bluejeans.com/playback/s/gc7JWB1fAhbKW6AhwnD6ZoNx0xvbRJQa7pkCsB8zhuar5vhXgY0StSPpKoVa4Brn


=======================================

Perfect email for runbook approval explanation from Tim - 

Adobe Managed Services requires that customers must submit a runbook , that upon aapproval, entitles our customers to the 99.5% SLA associated with the platform. Details around this and other requirements can be found in our product specific licensing terms page. In short, AMS will support your organization in the same manner that we support customers who have approved runbooks. The only difference is that in the event AMS is unable to deliver on the contractual SLA, your organization would not be entitled to any compensation. Our team will still respond to your production issues in the same manner that we would for customers with approved runbooks.

A member of my team reached out to me to help provide clarify some questions and concerns that they had about your runbook, and the testing you were in the process of completing. Do you have 30 minutes next week to jump on a call and discuss? Runbook approval is required for your contractual SLA, but does not impact our responsiveness to production outages, or support tickets that you open. Looking forward to our discussion.
 
 
  AMS does not provide explicit requirements around what the security and penetration test should include to avoid liability. AMS provisions a certifiably secure platform “out of the box”, and we require evidence prior to runbook approval that deployed customizations within AEM are tested in accordance with your organizations security requirements.
 
 
  Lastly, it should be note that AMS also requires a performance test as one of the requirements for runbook approval.
 
 
Please let me know if you have any additional questions.
 

 ========================================

https://adobe.sharepoint.com/:x:/r/sites/amsaembasic/_layouts/15/Doc.aspx?sourcedoc=%7BD4C62CDF-6BB4-4279-A0FB-EABA9ED1FC5C%7D&file=Incidents%20during%20on-cal%20weekend.xlsx&action=default&mobileredirect=true&cid=a46f106e-136a-4ccd-a552-e6ac1c44fa28

On Call excel 


https://fieldreadiness-adobe.highspot.com/spots/5bec71c5f7794d61bd412395?list=kind%3AZip&sidebar=open

security question - iso soc reports
=================================
OKR 

2023 - https://wiki.corp.adobe.com/display/MSTeam/Adobe+Check-in+For+AMS

2022 - 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2523886630

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Preflight+Steps+for+an+AMS+to+CS+Content+Migration
with Devika & Paul

https://adobe-my.sharepoint.com/:x:/r/personal/disingh_adobe_com/_layouts/15/Doc.aspx?sourcedoc=%7BCBB19BB0-9528-4516-90E2-086AFB4D7EAF%7D&file=MKJ_FY22%20OKRs.xlsx&action=default&mobileredirect=true&wdLOR=c786E7FB4-4323-9049-8712-A2C3DE392477&cid=b54d515d-06f1-45df-9cfd-b9781c74b85d


Q2 - 

Automating Allow listing leveraging Prefix Lists - Azure US East 200+ IP's for CM Asset Perf test
AMS Gazatte



===========================
https://adobe-my.sharepoint.com/:x:/r/personal/shbagchi_adobe_com/_layouts/15/Doc.aspx?sourcedoc=%7BCBCCA041-14E1-47E5-84FC-9B5E872FACA1%7D&file=FY21_MN_SB_MKJ%20OKRs.xlsx&action=default&mobileredirect=true

2020
https://adobe-my.sharepoint.com/:x:/r/personal/shbagchi_adobe_com/_layouts/15/guestaccess.aspx?share=EY8EG3mqXdlPllzNGR6TFi0BNCx6KO05uadFIEfsfmK1dA&email=meejain%40adobe.com&e=4%3AuICor7&at=31


 https://adobe-my.sharepoint.com/personal/shbagchi_adobe_com/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fshbagchi%5Fadobe%5Fcom%2FDocuments%2FOKR%202020%2FTeam%20OKR%2FOKR%5FMeet


 1) Taken care of RSM - Unique contract in absence of Tim
 2) GAP Upsize instances to downsize - escalation
 3) Hunter Douglas - Upsized instances - high traffic - caching strategies
 4) Initiative for triaging Security AMSSEC030 for team
 5) Initiative for Zone Redundant wiki 
 6) Wiki for CM troubleshooting for Build troubleshooting
 7) Initiatives for LMS for team

 https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2191993648

 8) Cloud Manager Adoption efforts
 9) Taken care of AEM as a CS Pitch for Fleetcor 
 10) Taken care of FORMS SOP for City of Sacromento & AMS as a whole along with Tim.
 11) Wiki for How to create Azure Zone Redundant App Gateway manually

https://wiki.corp.adobe.com/display/MSTeam/How+to+create+Azure+Zone+Redundant+App+Gateway+manually?flashId=-95636619


 12) Cloud Manager Office Hours - Preparation for new CM P1 process for Basic
 13) Initiatves for AMSEC031a - 

 https://wiki.corp.adobe.com/display/MSTeam/AMS+Basic+-+tracking+resolution+of+AMSSEC31a+for+Basic+customers
 https://wiki.corp.adobe.com/display/MSTeam/AMSSEC031a+Test+Customers

 https://wiki.corp.adobe.com/display/MSTeam/Minor+Block+Migration+Steps
 https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=AMSSEC031a+Apply+OS+Security+patches - Tim Notes

 https://wiki.corp.adobe.com/display/MSTeam/Troubleshooting+salt-minions 

 14) Take care of chefmaster clean up activity to enable Bootstrapping for the team. Created the wiki for the chef master clean up - 
 https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2228385536 & updated 
 https://wiki.corp.adobe.com/display/MSTeam/How+to+Delete+a+Customer+Topology

 15) Tim & myself - to set the exact steps for AMS to AEM as a CS transition  - AEM Cloud Service - Migration in a Box  - along with Neil, Tracy, Jil, Duen
 16) Wiki for AWS Private link - 

 https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2267342533

=================================================================

Q3 - 

Changes to New Relic synthetic monitor IP addresses - Python Code for haviong the NR region IP's list 
Wiki for CM Asset Perf test using PL's 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2363467637

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2373897917



==================================================================
Q4 - 

Epic for ADAM 
Child CM Logic Apps for CM Troubleshooting 
Changes to New Relic synthetic monitor IP addresses - Python Code for haviong the NR region IP's list 
Wiki for CM Asset Perf test using PL's 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2363467637

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2373897917


https://wiki.corp.adobe.com/x/vuj6kw

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2507086293

poisoned Topologies fixed now.


===================================================






 Hello Hunter Fan Company Team,
This is with regards to the OS Patching activity we reached out to you about last year. AMS has already tested this patch on the clones of your instances, and now we are ready to proceed with the activity on your AMS environments. Please let us know a two hour time frame when can we perform the activity on your Staging environment. This will result in the Author URL being unavailable during the update. Once the update is complete we will let you know so you can validate with your team. Once validation is complete we can then work to schedule the change for Production.
Please keep us posted.
Thanks, 
Matt Glazier
Adobe Managed Services



========================================================
OKR - 1st quarter - 

AMSSEC031a - 

https://wiki.corp.adobe.com/display/MSTeam/Minor+Block+Migration+Steps

1) wiki for amssec026 effort - https://wiki.corp.adobe.com/display/MSTeam/AMS+Basic+-+tracking+resolution+of+AMSSEC026+for+Basic+customers
2) Driving Learning in Dec every Sec
3) Driving AMSSEC031 for team - https://wiki.corp.adobe.com/display/MSTeam/Minor+Block+Migration+Steps. Working closely with AMS Auto on the same. 
4) Driving SP7 Hot fix + regressions for Basic
5) The Tile Shop - AEM as CS
6) Working closely with Anthony + Adam + Tyler on AEM as CS 
7) AMSSEC035 all closed
8) Wiki for AWS Private link - 

 https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2267342533











=============================================''
etrade
meetkjain83
H34
45739427 - ADBE

https://us.etrade.com/etx/sp/stockplan/#/holdings

www.rbi.org.in/upload/notification/pdfs/52220.pdf
=================================

key vault by larry - 

https://wiki.corp.adobe.com/display/MSTeam/Azure+Key+Vault#AzureKeyVault-CreateaManagedIdentity

============================================

Cloud Manager htaccess issue - 

<Location />
    Deny from all
    AuthUserFile /etc/httpd/conf.d/htpasswd
    AuthName "Restricted"
    AuthType Basic
    SetEnvIF X-Forwarded-For "XXXXXXX" AllowIP
    SetEnvIF X-Forwarded-For "XXXXXXX" AllowIP
    SetEnvIf User-Agent "CloudManagerTest$" AllowIP
    ##<RequireAny>
      ## Require ip 80.243.196.74
      ## Require env AllowIP
    Satisfy Any
    Require env AllowIP
    ## Require ip 10.43.0.38
    require valid-user
    ##</RequireAny>
  </Location>s





  <Location />
    Deny from all
    AuthUserFile /etc/httpd/conf.d/htpasswd
    AuthName "Restricted"
    AuthType Basic
    SetEnvIF X-Forwarded-For "X.X.X.X" AllowIP
    SetEnvIf User-Agent "CloudManagerTest$" AllowIP
    ##<RequireAny>
      ## Require ip X.X.X.X
      ## Require env AllowIP
    Satisfy Any
    Require env AllowIP
    ## Require ip X.X.X.X
    require valid-user
    ##</RequireAny>
  </Location>


curl -s -I "https://help-staging.coinbase.com/en/coinbase.html"
Which returns 403 as expected

and
curl -s -I "https://stage.flexera.com" -H 'User-Agent: CloudManagerTest'
which returns 200 as expected.




It is better to use Basic Authentication at Apache level running on your Dispatchers.
https://httpd.apache.org/docs/2.4/programs/htpasswd.html
Now Basic Authentication will always allow Authentication from whom so ever is accessing the site. In order to allow Cloud Manager Performance Test to pass through this authentication process, you need to allow Cloud Manager User Agent which is CloudManagerTest.
Hence in your Dispatchers vhost Configuration files, you need to apply Basic Authentication something like this below -
<Location />
Deny from all
AuthUserFile /etc/httpd/conf.d/htpasswd
AuthName "Restricted"
AuthType Basic
SetEnvIF X-Forwarded-For "X.X.X.X" AllowIP
SetEnvIf User-Agent "CloudManagerTest$" AllowIP
##<RequireAny>
## Require ip X.X.X.X
## Require env AllowIP
Satisfy Any
Require env AllowIP
## Require ip X.X.X.X
require valid-user
##</RequireAny>
</Location>
As you may have noticed in the above configuration, we have restricted everything but we have allowed
User-Agent "CloudManagerTest$ to pass through this Authentication firewall. And this works for the Customers who have implemented Basic Authentication.





  Hello Paul,

We went through your stage dispatcher settings and it seems there is some confusion between whitelisting & Basic Authentication. Both are completely different.

Note - > User-Agent "CloudManagerTest$" will only work with Basic Authentication and NOT with whitelisting.

You have enabled whitelisting for stage publish URL, and mentioned SetEnvIf User-Agent "CloudManagerTest$" AllowIP in your 001_flexera_whitelist.rules which is wrong.

These whitelist rules file are for whitelisting only means when a request comes from certain subnets, only requests will be allowed to access the site. No Basic Authentication here.

In fact if your already using Basic Authentication, there is no use of whitelisting. Please remove whitelisting from stage publish URL by changing the value from 1 to 0 for PUBLISH_WHITELIST_ENABLED in the file - /etc/httpd/conf.d/variables/ams_default.vars

Since you have also enabled whitelisting, Cloud Manager was NOT able to reach out to your stage publish URL and hence it said again on the CM UI - Failed - Could not discover any pages using the crawler or the experience page discovery mechanism.(Finished: April 29, 2020 9:47:52 PM GMT+5:30)


Post that, edit your required vhost file which I suppose is - /etc/httpd/conf.d/available_vhosts/flexera.vhost and add the below htpasswd configurations as per your requirement -

<Location />
Deny from all
AuthUserFile /etc/httpd/conf.d/htpasswd
AuthName "Restricted"
AuthType Basic
SetEnvIF X-Forwarded-For "X.X.X.X" AllowIP
SetEnvIf User-Agent "CloudManagerTest$" AllowIP
##<RequireAny>
## Require ip X.X.X.X
## Require env AllowIP
Satisfy Any
Require env AllowIP
## Require ip X.X.X.X
require valid-user
##</RequireAny>
</Location>

Restart apache on stage dispatchers and then re trigger the pipeline. Please keep us posted.

Regards,

Meet Kumar Jain
Adobe Managed 



  ===============================================



https://wiki.corp.adobe.com/pages/viewpage.action?pageId=989648711 

email smtp server

========================================

touch ui / classic ui 

https://helpx.adobe.com/experience-manager/6-3/sites/authoring/using/select-ui.html

===============================================

https://adobe--c.na79.visual.force.com/apex/AccountTeamSearch

https://pmg.corp.adobe.com/panorama/#/

Panarama - salesforce - Account Executive + CSM
=========================================

Cloud Manager GIT access email template - 

Hello Art,
 
    Your repository access information is as follows:
 
    Customer git location - https://git.cloudmanager.adobe.com/gap/gapinc

The Cloud Manager UI URL - > https://my.cloudmanager.adobe.com/home.html/organization/93BE1C8B532956910A490D4D@AdobeOrg/program/3410

In order to access git, the user must log in to Cloud Manager UI and sees a new "Manage Git" button in the Pipeline Settings card, and on some other pipeline configuration screens. 

Clicking the button opens a dialog that allows the user to generate a token. If the user already has a token, regenerating the token will revoke the previous token. 

 
Helpful Examples of  Git Commands 
 
# clone the repository locally
git clone https://git.cloudmanager.adobe.com/gap/gapinc
 
 
# add the repository as a "remote" in an existing customer repository
git remote add adobe https://git.cloudmanager.adobe.com/gap/gapinc
 
 
# push a branch from customer repository to cloud manager repository
git push adobe <local_branch_name>:<desired_remote_branch_name>

x



 

Cloud Manager First Time Access Information 
https://helpx.adobe.com/experience-manager/cloud-manager/using/first-time-login.html
https://helpx.adobe.com/experience-manager/cloud-manager/using/setting-up-program.html
 
 
Thank you,
Adobe Managed Services


CloudManager new email template - 

Hello Remus,
 
    Your repository access information is as follows:
 
    The Developer / Deployment Manager Role users will get the option of Manage GIT once they login to the Cloud Manager UI - from where they can generate the credentials for accessing Adobe Managed GIT Repo. 

The Cloud Manager UI URL ->   https://experience.adobe.com/#/@moneypensions/cloud-manager/home.html/program/6108

    Customer git location - https://git.cloudmanager.adobe.com/moneypensions/moneypensions/
 
Helpful Examples of  Git Commands 
 
# clone the repository locally
git clone https://git.cloudmanager.adobe.com/moneypensions/moneypensions/
 
 
# add the repository as a "remote" in an existing customer repository
git remote add adobe https://git.cloudmanager.adobe.com/moneypensions/moneypensions/
 
 
# push a branch from customer repository to cloud manager repository
git push adobe <local_branch_name>:<desired_remote_branch_name>
 
 

https://www.youtube.com/watch?v=VLYJMML5Ftg&feature=youtu.be
https://www.youtube.com/watch?v=FP-cSbuql-c&feature=youtu.be


 Password protected maven build - >

https://experienceleague.adobe.com/docs/experience-manager-cloud-manager/using/getting-started/create-application-project/setting-up-project.html?lang=en#getting-started

Cloud Manager First Time Access Information 
https://helpx.adobe.com/experience-manager/cloud-manager/using/first-time-login.html
https://helpx.adobe.com/experience-manager/cloud-manager/using/setting-up-program.html
 
 
Thank you,
Adobe Managed Services

final email - 

Hello Patrick, Chris, 

I was able to duplicate the Build process in the same way which Cloud Manager does at the backend & able to test the Build for few of our Basic Customers successfully. Also. I have updated, the correct docker run command in the wiki below  - 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1683855785

The Correct command is – 

docker run -it \
-e "SSH_KNOWN_HOSTS_B64=`cat ./known_hosts | base64`" \
-e "SSH_PRIVATE_RSA_KEY_B64=`cat ~/.ssh/id_rsa | base64`" \
-e "REPOSITORY_URL=git@ssh.dev.azure.com:v3/adobecloudmanager-greendot/greendot/greendot" \
-e "BRANCH=master" \
-e "SKIP_VERSIONING=true" \
-e "SKIP_SCAN=false" \
-e "SKIP_TAGGING=true" \
-e "SKIP_CHANGELOG_GENERATION=true" \
-e "CM_OVERRIDE_DNS_SERVER=10.30.7.247" \
-e "CM_DEBUG=true" \
-v $PWD/build-output:/mnt/artifacts/ \
self-service-build

Just a gentle nudge on the correction of maven commands which are used now since Sept’20 release on the Public doc – 

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/getting-started/create-application-project/build-environment-details.html

As last discussed in CM Office hours, there needs to be some correction / addition of Artifact ID in those 3 mvn commands. Please advise. 





Hello Evita, 

Cloud Manager On Boarding is completed now. Your team must have received invites for the Cloud Manager UI depending upon the roles to which they have been assigned to. 

The Cloud Manager UI URL -> https://experience.adobe.com/#/@moneypensions/cloud-manager/home.html/program/6108



The Developer / Deployment Manager Role users will get the option of Manage GIT once they login to the Cloud Manager UI - from where they can generate the credentials for accessing Adobe Managed GIT Repo. 

Individual emails are already sent to all the Developer + Deployment Manager's with regards to the steps to be performed as to how to access the GIT Repo. 

Please let us know in case of any issues. 



Regards,

Meet Kumar Jain

Adobe Managed Services


=========================================================

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Azure+SevA+Support+Tickets

azure CSO process by JAMES 

==========================================================

Assigning this to you @[Constantin  Simion]. Please check the URL below - 

https://adobems.service-now.com/nav_to.do?uri=%2Fu_cloud_manager_adoption.do%3Fsys_id%3D412a2bcbdbc980902ec79a82ca9619f7

As per the milestones, for stage deployment, the date is 13th Dec'19 which is about to come. Please check the pipelines activity for the customer in CM UI and check if did their stage deployment successfully. If not then adjust the due date accordingly & close this ticket. 

Cambridge Investment Research has been assigned to you as a dedicated customer for Cloud Manager enablement till their successful PROD Deployment. 


Cloud Manager Focussd list - 

1) Auto Club Group - > Raja Yadav
2) Cambridge Investment Research - > Consti
3) CST Consultants Inc. - > Ilianca
4) 

================================================

dispatcher support flow in case of cloud manager - >

Hello Stefan, 

So here is the process what Cloud Manager does in case of dispatcher deployment - >

1) Creates the build & save it as a URL that we can download - https://cm0pl0va80stor0prd.file.core.windows.net/9459eba0-59f0-48c3-807d-641815789be8/build/aem-axpo19.dispatcher-0.5.4.2019_1201_202335_0000035272.zip?sig=XC0fd7QXNJXm9abuOKlhu%2FrNu9K5VSFIoOzLJqPLnpo%3D&st=2019-12-01T20%3A00%3A49Z&se=2019-12-31T20%3A30%3A49Z&sv=2017-04-17&spr=https&sp=r&sr=f

2) Save this build in your dispatcher in a temporary location. 
3) Save the current configurations of your dispatchers, basically for all 4 directories under /var/local/httpd/backups. 

4) Next CM will remove all the files which are customised OR created by you under those 4 directories.It will not remove the Non Mutable files which are basically our defaults. 
5) Post removal of files, it will copy your configuration files one by one from that temporary location onto their exact locations. 
6) Post that, when all your configuration files are copied onto their exact expected locations, it will try to start apache and check the errors reported in httpd -t command. 
7) If apache fails like in your case, it did, again it will remove all files from those 4 directories and then tries to retrieve the files from that back up location - /var/local/httpd/backups. 

8) Which means your configuration files, will not be there since it was under the process of Rolling back. Now this process of Rolling back also failed. And apache as usual remain stopped. 

Hence 1 thing was for sure that there is some issue with your configuration files that time due to which it failed and tried to roll back. We could have checked more on it by manually copying your configured files onto their desired folders one by one and then try to start apache. It would have give us more insight which configuration file was creating the issue.

Hope that helps. 

Regards,

Meet Kumar Jain
Adobe Managed Services
A




============================================================
default author page - https://52.5.42.136/libs/granite/core/content/login.html

=============================================

Enable app gateway logging - azure - 

https://blogs.technet.microsoft.com/robdavies/2017/12/29/monitoring-application-gateway-with-azure-log-analytics/

https://wiki.corp.adobe.com/display/MSTeam/Azure+Application+Gateway+-+Enhanced+logging

=============================================

https://helpx.adobe.com/contact/enterprise-support.ec.html

CM - Basicrocks@1234

/var/www/cgi-bin - checkboth

/etc/httpd/conf.d/health_check.conf 
=======================================

URL: https://adobestage.service-now.com
User name:meejain
Password:GvqvVtc{?8*lmy+[z=D-3-4z



Basicrocks@1234
==================================

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Resize+CryptedRAID+partition+without+restart

wiki 

https://blog.e-zest.com/how-to-create-attach-and-mount-a-disk-to-linux-vm-microsoft-azure

create volume adding a disk on azure
======================================

Magento - 

Any Adobe employee can access Magento’s Zendesk tickets.
 
You will need to request access to Zendesk via IAM. Instructions below:
Requesting access to Zendesk security group in IAM portal - https://adobe.sharepoint.com/sites/MG/it/IT%20Services%20Wiki/Zendesk%20Access%20Requests.aspx
How to access Zendesk after getting added to the security group - https://adobe.sharepoint.com/sites/MG/it/IT%20Services%20Wiki/Zendesk.aspx
 
Regards,
Mihai


https://magento.zendesk.com/agent/dashboard


https://adobe.sharepoint.com/sites/MG/it/IT%20Services%20Wiki/Zendesk%20Access%20Requests.aspx
 


 =======================================

 dispatcher Custom variables - 

 Hello Manuel, 

Apology for the inconvenience, but we do not allow /etc/sysconfig/httpd file to be edited for any kind of new custom variable declaration. We want to give power to customer only so that they can manage their custom variables by themselves instead of triggering a daycare for AMS and wait for this task. 

Yes, /etc/sysconfig/httpd is the default configuration files with default variables in place. For any custom variables, please check page 14 of the attached dispatcher 2.0 module document. It explains - the location which is - /etc/httpd/conf.d/variables.

Let's talk about the stage env. 1st - >

Now there you must create your own variable file let say - berlinairport-stage.vars

and then - you define the variables - >

Define ORAT_HOSTNAME "stage.orat.fbb.comwrap.rocks"
Define WLAN_HOSTNAME "stage.wlan.fbb.comwrap.rocks"
Define RESTART_HOSTNAME "stage.restart.fbb.comwrap.rocks"

and so on.

After that go to the location - /etc/httpd/conf.dispatcher.d/vhosts

and create your vhosts.any file let say - berlinairport-stage_vhosts.any

and then define the variables in the format below -

"${ORAT_HOSTNAME}"
"${WLAN_HOSTNAME}"
"${RESTART_HOSTNAME}"

and so on.

Include this vhosts.any file in its corresponding farm file in - /etc/httpd/conf.dispatcher.d/available_farms

Please make sure, you have the corresponding sym link file created for that farm file under -

/etc/httpd/conf.dispatcher.d/enabled_farms

Apart from this, you need to include your berlinairport-stage.vars file in your vhost files under /etc/httpd/conf.d/available_vhosts as shown below -

Include /etc/httpd/conf.d/variables/berlinairport-stage.vars

Restart httpd.

In this way you'll be able to manage your own custom variables by yourself. 


Please let us know in case of any further queries.

Regards,

Meet Kumar Jain
Adobe Managed Services


https://daycare.day.com/home/berlinairportde/berlinairportde_de/managed_services/207171.html
============================================================

So in case publishers are down, how will the site be served ?
 
So for that customer has opted to provide or serve the site from dispatcher cache, in case the corresponding renders which are actually publishers are down. And for that they need to add an additional Flag under /cache section /serveStaleOnError as shown below 

======================================================

  
HTTP:81/health/checkboth
Timeout 20 seconds
Interval  30 seconds


Cloud Manager GIT Credentials - 

expedia

Wulo6583
BH`%7%(gH>#!tymV

https://azure.microsoft.com/en-in/global-infrastructure/locations/
azure locations

supported cloud regions azure - by adobe 
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=cemcloud&title=Supported+Cloud+Regions

z3ckeeirtj5w3sryd5me66dtr3l3upjkyvwvupp4gebua2543cyq

/home/downsync/vlt/vault-cli-3.2.8/bin/vlt rcp -r http://migrate-receiver:password@127.0.0.1:4502/crx/-/jcr:root/content/motorguide http://migrate-receiver:password@127.0.0.1:4502/crx/-/jcr:root/var/content/motorguide
==============================================================================

hilton_vhosts.any

root@hilton-stage1-dispatcher1useast1:/etc/httpd/conf.d/variables cat hilton.vars 
Define HILTON_HOSTNAME "staging.hiltonhonors.com"
root@hilton-stage1-dispatcher1useast1:/etc/httpd/conf.d/variables 
root@hilton-stage1-dispatcher1useast1:/etc/httpd/conf.d/variables 

entry innside the vhost - 

"${HILTON_HOSTNAME}"


Define HILTON_HOSTNAME "staging.hiltonhonors.com"

Include /etc/httpd/conf.d/variables/hilton.vars
ServerAlias ${HILTON_HOSTNAME}
=============================================================================

azure app gateway to v2

https://wiki.corp.adobe.com/display/MSTeam/Azure+Application+Gateway+-+Manual+Conversion+from+V1+to+V2

https://docs.microsoft.com/en-us/azure/application-gateway/quick-create-portal

=====================================================
Generate Password - 

http://bigbear-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/generatePassword

========================================================================

acs commons

https://github.com/Adobe-Consulting-Services/acs-aem-commons/releases

redirects page 

http://localhost:4502/apps/acs-commons/content/redirect-manager/redirects.html

=======================================================================

variable in dispatchers - 

AMS Update

Using and understanding variables
Apache supports variables
AMS Dispatcher module supports modules since 4.1.9
We leverage these to make sure anything that is environment specific isn't inline in the configurations but extracted to make sure configuration
files from dev work in prod with the same functional output.
Where do we put the variables?
So there are plenty of places to store the variables used. Here is some guidance:
/etc/sysconfig/httpd
This file is sucked in from the service script when httpd starts.
Changes to this file have to be done by root. Meaning changes put into this file shouldn't be alterable by the customer. So variables like renderer
ip's and ports make sense to be in this file so a customer doesn't break our core functionality.
/etc/httpd/conf.d/variables/*.vars
Having a file in the customers working directory that apache can read in will get reloaded when the service reloads
Customer can affect these files with the power user accounts because they can alter what files apache owns.



Thank you for the update. And I was about to guide on the same. We do not prefer changing the values of variables mentioned in /etc/sysconfig/httpd file. You may create your own variables and save them in a .vars file under /etc/httpd/conf.d/variables folder. Post that you have to declare those variables under customised vhost.any file in /etc/httpd/conf.dispatcher.d/vhosts folder.

Post that, you have to include that .vars file under /etc/httpd/conf.d/variables to your .vhost files under /etc/httpd/conf.d/available_vhosts folder.

You may have more details of this process if you search for "Using and understanding variables section" in dispatcher manual shared on your SharePoint site.

Please keep us posted.


============================================================
https://docs.adobe.com/content/help/en/aem-forms-automated-conversion-service/table-of-contents/configure-service.html

IMS via forms - diana

https://fieldreadiness-adobe.highspot.com/items/5db9abaaf7794d77cc86b080


How do I request it for my customer? As of October 15th, 2019, all eligible new Adobe Experience Manager Forms customers will be provisioned with access to the service.   For existing customers access to the service must be requested.   In order to request access to the service for an existing customer, the account manager needs to create a $0 opportunity in SFDCwith the Automated Forms Conversion Service sku – 38055798 and send it to the Deal Desk.   The Deal Desk will prepare a contract for the customer to sign.   Once signed, the customer will be provisioned with access to the service and advised of this by email.   The conversion of forms should be considered as one part of a “forms modernization” project.   Adobe Consulting Services and our SI partner ecosystem can assist with project packages to guide customers or provide full implementations.
 
What happens next? The customer should request that their Adobe Managed Services CSE configure the service for them.  If they are an on-premise customer their AEM administrator must configure access to the service.  See documentation for more details on installation.
 
Does it work with specific versions of AEM Forms? Yes, the service currently only works with version 6.5.2 and higher. We anticipate adding 6.4 support in the coming months.

===========================================================

https://wiki.corp.adobe.com/display/MSTeam/DDOS+Attack+mitigation

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2146161916 - By Deepak
https://wiki.corp.adobe.com/display/MSTeam/Splunk#Splunk-DDOSDashboard - By Sean

index=ams_cq environment=prod cluster="Coca-Cola HBC AG" host="blacksunplc-prod-dispatcher*euwest1" source="/mnt/var/log/httpd/access_log"

index=ams_aws_elb_access elb="adobeio-prod1" sourcetype="aws:elb:accesslogs" | stats count by client_ip | sort – count

index=ams_aws_elb_access elb="adobeio-prod1" sourcetype="aws:elb:accesslogs" request="*passwd" | stats count by client_ip request | sort -count

index=ams_cq environment=prod cluster="Coca-Cola HBC AG" host="blacksunplc-prod-dispatcher*euwest1" source="/mnt/var/log/httpd/access_log"

https://splunk.or1.adobe.net/en-US/app/TA-AMS_ui/aig_ddos?form.field1=Customer&form.alb=aigtravel-prod65&form.elb=westjet-prod&form.field1.earliest=-15m&form.field1.latest=now


https://meyerweb.com/eric/tools/dencoder/


search *
| where ( Type == "AzureDiagnostics" )
| search "ApplicationGatewayAccess"
| where (requestUri_s contains "win.ini") or (requestUri_s contains "boot.ini") or (requestUri_s contains "passwd")
| summarize count() by clientIP_s


new from SEAN - 

#ELB Access Logs
index IN ("ams_aws_elb_access","aws_elb_access")   sourcetype="aws:elb:accesslogs"
#ALB Access Logs
index IN ("ams_aws_elb_access","aws_elb_access")   sourcetype="aws:alb:accesslogs"



https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Troubleshooting+with+Azure+Access+Log+Queries+-+Draft


caleb - 

https://github.com/adobe/aem-dispatcher-optimizer-tool/blob/main/docs/Rules.md#dot---the-dispatcher-publish-farm-cache-should-have-its-ignoreurlparams-rules-configured-in-an-allow-list-manner

==========================================================
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=849085149

assumecee

switch roles

========================================================


Email to the customer why cloud manager security testing is not valid for runbook 

Hello Team,
 
  There have been several instances where customers have asked if the performance and security testing in CM will fulfill their contractual requirement for their runbook. The answer is that testing completed in CM is specific to AEM and AMS best practice, but does not capture any performance testing that may be required as a part of the customer’s customizations or their specific use cases of AEM. Therefore, the testing provided in CM does not fulfill AMS contractual requirement to conduct performance and security testing on any and all customizations and workflows. If the customer pushes back, please GENTLY refer to the Product Specific Licensing Terms found here under section 3.1.
 

 
Please let me know if you have any questions.
 
 
Thanks,
Tim
 

 =========================================================



root@hunterfancompany-prod-author1useast1-clone:~/.aws cat config
[profile prod-bpbu17-useast1]
region = us-east-1
[default]
s3 =
    max_concurrent_requests = 100
root@hunterfancompany-prod-author1useast1-clone:~/.aws 
root@hunterfancompany-prod-author1useast1-clone:~/.aws 
root@hunterfancompany-prod-author1useast1-clone:~/.aws 
root@hunterfancompany-prod-author1useast1-clone:~/.aws cat credentials 
[prod-bpbu17-useast1]
aws_access_key_id = AKIAJCFT2B3LWWYEHJWA
aws_secret_access_key = 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
root@hunterfancompany-prod-author1useast1-clone:~/.aws 

root@hunterfancompany-prod-author1useast1-clone:~/.aws ll
total 8
-rw-------. 1 root root  98 Jul  2 18:11 config
-rw-------. 1 root root 128 Jun 30 00:15 credentials
root@hunterfancompany-prod-author1useast1-clone:~/.aws 





https://www.olx.in/item/foosball-table-iid-1510278970

Thursday meeting - 
Go-live Readiness for Sterling Jewelers Inc - PRB0108462

Dropbox,Vineyard Vines LLC, hilton,

cloudmanager user - 

Dispatcher variables - 

Caleb Pryor:adobe-magento: 1:33 AM
They need to use runmode variable in sysconfig file
then have the files named off of that
so for example  
then in their vhost files that use them or in a global file like: /etc/httpd/conf.d/loadvars.conf
do the following include
Include /etc/httpd/conf.d/variables/${RUN_MODE}.vars
Then they create environment specific vars files
/etc/httpd/conf.d/variables/dev.vars, qa.vars, stage.vars, prod.vars
I hope that makes sense



Also Regarding the update to /etc/sysconfig/httpd file - >
/etc/sysconfig/httpd cannot be edited by the customer. So everytime, you want to make any changes to the /etc/sysconfig/httpd file, you need to raise daycare and get AMS involved. Which is definitely a certain level of inconvenience.
It is better to have your own variables files which you may edit any time and proceed further with your configurations.
Yes, so the solution to that is - > we'll create 1 single variable called RUN_MODE under /etc/sysconfig/httpd file. And the value of this RUN_MODE variable will be prod, stage, dev, qa on the basis of the environment that dispatcher belongs to.
Now in your vhost files, you may add this include below - >
Include /etc/httpd/conf.d/variables/.vars
Post this, you may create environmental specific variable files like -
/etc/httpd/conf.d/variables/dev.vars, qa.vars, stage.vars, prod.vars




Hello Mark, 

We understand, that you need to get your customised variables added for Cloud Manager as before and as discussed with you on the call long time back, you have done the coding in such a way that it will take the variables path from /etc/sysconfig/httpd file only. Which is NOT a valid way though since /etc/sysconfig/httpd is our default parameterised file which we do not want to be edited. 

As per process, what needs to be done - > 

You just need to add runmode variable in /etc/sysconfig/httpd file like for Example for stage env. - >

/etc/sysconfig/httpd has an entry of RUN_MODE='stage'

Dev env. dispatcher will have RUN_MODE='dev'

and so on for qa & prod

All your customised variables should be there in a separate .vars file under /etc/httpd/conf.d/variables folder. 

Then in your vhost files, do the following include - >

Include /etc/httpd/conf.d/variables/${RUN_MODE}.vars


Then accordingly create environment specific vars files in their respective dispatchers - 

/etc/httpd/conf.d/variables/dev.vars, qa.vars, stage.vars, prod.vars


In that way there will no need to get a daycare raised for any addition of custom variables. Once we add the RUN_MODE variables in the /etc/sysconfig/httpd file, then you have to just edit the corresponding .vars file under  /etc/httpd/conf.d/variables folder. 

Please check & validate further. 

Since you are already getting delayed in terms of Go Live, we have added the required variables under /etc/sysconfig/httpd file but please do get this changed once your deployment is successful via Cloud Manager. 


===========================================================================================================
https://jira.corp.adobe.com/browse/CSTREQ-48732

splunk cstreq

====================================================================================

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1775960523

New Relic ONE wiki

https://adobe.okta.com 

https://wiki.corp.adobe.com/download/attachments/2130775347/New%20Relic%20and%20Managed%20Services%20Monitoring%20Overview.pdf?version=1&modificationDate=1596521883973&api=v2

==========================================================\==============

  I have added a wiki page to help assist with the team’s compliance on the new CR Process.
 
https://wiki.corp.adobe.com/display/MSTeam/How+to+submit+a+Runbook+for+Approval

=========================================================================

https://wiki.corp.adobe.com/display/MSTeam/CM+Deploy+-+AAA+Pre-flight+Checklist

-cm-pl-deploy-va8-lapp-prd ---> dev deployment logic app
cm-pl-main-va8-lapp-prd


08586365058302610704174881276CU35  - working

PRB0117170 - update it

Last step - 

==========================================================

https://splunk.or1.adobe.net/en-US/account/login?return_to=/en-US/app/TA-AMS_ui/ams_cloudmanager_helper

Christopher Schmidt
CS
https://jira.corp.adobe.com/browse/CMGR-7111 - for asset performance testing


Cloud Manager splunk queries - 

index=ams_linux-os sourcetype=ssg-summit-prod programId=
index=ams_linux-os sourcetype="ssg-summit-prod" | spath executionId | search executionId=27616


https://splunk.or1.adobe.net/en-US/app/TA-AMS_ui/ams_cloudmanager_helper

https://splunk.or1.adobe.net/en-US/app/TA-AMS_ui/ams_cloudmanager_helper_v2

dashboard - > 

https://helpx-internal.corp.adobe.com/content/help/en/experience-manager/kb/tools/cm-helper.html/

Cloudmanager helper tool by Andrew kh


22nd june - 

https://jira.corp.adobe.com/browse/CAT-112
https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+Pre-flight+Checklist
https://jira.corp.adobe.com/browse/CMGR-10912
CMGR-4895 - azure us east - IP's 


==============================

Chris reply to the change in the tenant ID - 

This is not an unusual problem.  

What would need to happen is:

Basic team to update IMS org ID for Customer record in Service Now
Basic Team open new CM onboarding ticket
Providing both IMS orgs
Basic Team setup CM Product Context in new IMS  org
Customer to add uses to this new IMS org
Customer to setup new CM pipelines.

The customer would lose related to CM:

Previous Pipeline settings (quick to setup again)
Past pipeline Activity information
Previous IMS org CM profile definitions

=============================================================

Ankesh forms customer - 

SAML  - automaically used load testing programatically - local adobe accounts - 


E-000263666


==========================================================================================

Creating cloudmanager user - 


host=ip
aempass="aem admin password"
topo=topology name
bb="bigbear-basic.ams.adobe.net:443"
cmpass=$(curl -s $bb/cxf/ssproxy/api/v0.1.0/generatePassword)
cmpass="K${cmpass}"

json="{\"username\":\"cloudmanager\",\"password\":\"$cmpass\",\"applicationType\":\"CQ\",\"topologyId\":\"$topo\"}"

curl -k -u "admin:$aempass" -FcreateUser=cloudmanager -FauthorizableId=cloudmanager -F"rep:password=$cmpass" https://$host/libs/granite/security/post/authorizables

curl -k -u "admin:$aempass" -FaddMembers=cloudmanager https://$host/home/groups/d/dam-users.rw.html



check if password is there in the vault - 

curl "http://bigbear-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/getadobeapplicationaccountpassword?username=cloudmanager&topologyId=${topo}&applicationType=CQ" 

curl -X PUT -H 'Content-Type: application/json' -d $json $bb/cxf/ssproxy/api/v0.1.0/secrets/putadobeapplicationaccount/cq-cloudmanager


bb=”https://bb-basic.ams.adobe.net”

G#@YwD6U6x6y{fOcs-AxbgvQ


meejain@Meets-MacBook-Pro ~ % curl -H "Authorization: Bearer $ims_token" "https://bb-basic.ams.adobe.net/cxf/ssproxy/api/v0.1.0/getadobeapplicationaccountpassword?username=cloudmanager&topologyId=${topo}&applicationType=CQ"
{
    "secret": {
        "secretid": "vaultnsYXBwbGljYXRpb25zL2NxL2JpZ2Zpc2hnYW1lcy1zdGFnZTkvY2xvdWRtYW5hZ2VyLzVhZDE5ZjhjOWZjYWI5ZmQ1NGJmYmQxMzJmNTBhM2UxNWUxOWU3MTVhMDVkNDJlNWEyZTI1NzlmZGJhNzliODAtMTYwMzgyODA0Njk2MQ",
        "encoding": "plaintext",
        "value": "KU-g86zyW<C~KT}q#zbaaMV+Z"
    },
    "status": "success"
}%                                                                                                                                                                                                                                                            meejain@Meets-MacBook-Pro ~ % 
meejain@Meets-MacBook-Pro ~ % 


ims_token='eyJhbGciOiJSUzI1NiIsIng1dSI6Imltc19uYTEta2V5LWF0LTEuY2VyIiwia2lkIjoiaW1zX25hMS1rZXktYXQtMSIsIml0dCI6ImF0In0.eyJpZCI6IjE2NTE3MDYyMDczODdfMGRlNGYzMjgtNjFjYy00MGE1LWI3NDEtYzVlMTAxYWI2ZTViX3VlMSIsInR5cGUiOiJhY2Nlc3NfdG9rZW4iLCJjbGllbnRfaWQiOiJtc2NlbnRyYWxfdXNlcl9iYXNpYyIsInVzZXJfaWQiOiJtc2NlbnRyYWxfdXNlcl9iYXNpY0BBZG9iZUlEIiwiYXMiOiJpbXMtbmExIiwiYWFfaWQiOiJtc2NlbnRyYWxfdXNlcl9iYXNpY0BBZG9iZUlEIiwiY3RwIjowLCJwYWMiOiJtc2NlbnRyYWxfdXNlcl9iYXNpYyIsInJ0aWQiOiIxNjUxNzA2MjA3Mzg3Xzk1OGRhOGI0LWVkNjctNDJhMC1hOTA4LTZiM2NiNDA3ODY5OV91ZTEiLCJtb2kiOiI2OGE1NjQzNiIsInJ0ZWEiOiIxNjUyOTE1ODA3Mzg3IiwiZXhwaXJlc19pbiI6Ijg2NDAwMDAwIiwic2NvcGUiOiJzeXN0ZW0iLCJjcmVhdGVkX2F0IjoiMTY1MTcwNjIwNzM4NyJ9.fPAnf7qNpQFr3Z2UbVk0xvVACFC_Nr6xJf98NmYSgB1BvkSv8BL8skShFZbIj9OyfikwRV45GsTiOH4i0GGROqIMuWqJehFZD3H1GmMMSkHHWlXkSmCoGcsusKKP5VbKjymcSfV6OHsqiOCenmoRmm3OvReHFa0qk5ZsOrOyMduqMN7QNZ6PhNw87ZZTABDkKWt_ARXOgten6VeUiOdfZRCIfamLvmBk3rx_cd7JD_Gb8jDfuwOxxx_amrBBW92EiNR3UuJLuQohzCcUwKFqCY7ehQd8kgJ9i4mGK76SAxbxMyf8PpXmOGgvW40kdFFVQ0k1m4Q7WV6VpyRexG-hwA'
bb_server='bb-basic.ams.adobe.net'
topology_id='magnetimarelli-prod1'
instance_name='dispatcher1eucentral1' # for example - publish1cnnorth1
bb_url="https://$bb_server/cxf/bigbear/api/v0.1.0/topologies/$topology_id/$instance_name/actions"

curl -X POST $bb_url -H "Authorization: Bearer $ims_token" -d '{ "actionId": "install-ams-rpm", "parameters": { "package-group":"cis-hardening" }}'



meejain@Meets-MacBook-Pro ~ % curl -H "Authorization: Bearer $ims_token" -X PUT -H 'Content-Type: application/json' -d $json $bb/cxf/ssproxy/api/v0.1.0/secrets/putadobeapplicationaccount/cq-cloudmanager
{
    "secretId": "vaultnsYXBwbGljYXRpb25zL2NxL2JpZ2Zpc2hnYW1lcy1zdGFnZTEwL2Nsb3VkbWFuYWdlci9lMGYwMDY1ZmZhMWNlN2JhZDhhNjM0Yjg0NDA2OTNjOGY0Y2UzZDAyM2ExNDE1NDk1ZGY3OWQzMzc0NmRkMDIxLTE2MjI3NTE4NjM5MTY",
    "message": "secretId: [vaultnsYXBwbGljYXRpb25zL2NxL2JpZ2Zpc2hnYW1lcy1zdGFnZTEwL2Nsb3VkbWFuYWdlci9lMGYwMDY1ZmZhMWNlN2JhZDhhNjM0Yjg0NDA2OTNjOGY0Y2UzZDAyM2ExNDE1NDk1ZGY3OWQzMzc0NmRkMDIxLTE2MjI3NTE4NjM5MTY] added",
    "status": "success"
}%                                                                                                                                                                                                                                                            meejain@Meets-MacBook-Pro ~ % 


cmpass=$(curl -H "Authorization: Bearer $ims_token" -s $bb/cxf/ssproxy/api/v0.1.0/generatePassword)


bb="https://bb-basic.ams.adobe.net"


curl -H "Authorization: Bearer $ims_token" "http://bb-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/getadobeapplicationaccountpassword?username=cloudmanager&topologyId=${topo}&applicationType=CQ"



curl -H "Authorization: Bearer $ims_token" -X POST "http://bb-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/getadobeapplicationaccountpassword?username=cloudmanager&topologyId=${topo}&applicationType=CQ"

curl -H "Authorization: Bearer $ims_token" "http://bb-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/getadobeapplicationaccountpassword?username=cloudmanager&topologyId=${topo}&applicationType=CQ"

curl -H "Authorization: Bearer $ims_token" "https://bb-basic.ams.adobe.net/cxf/ssproxy/api/v0.1.0/getadobeapplicationaccountpassword?username=cloudmanager&topologyId=${topo}&applicationType=CQ"

curl -H "Authorization: Bearer $ims_token" -X PUT -H 'Content-Type: application/json' -d $json $bb/cxf/ssproxy/api/v0.1.0/secrets/putadobeapplicationaccount/cq-cloudmanager

cmpass=$(curl -H "Authorization: Bearer $ims_token" -s $bb/cxf/ssproxy/api/v0.1.0/generatePassword)


The new steps - 

topo=dfait-stage2
aempass="JF=~DVgcDIUK5uum%RL4f-iZ"
host=52.235.21.101
cmpass="Zz~74pwhXXXXXXXXXSOIjG}wK*"
json="{\"username\":\"cloudmanager\",\"password\":\"$cmpass\",\"applicationType\":\"CQ\",\"topologyId\":\"$topo\"}"

curl -k -u "admin:$aempass" -FcreateUser=cloudmanager -FauthorizableId=cloudmanager -F"rep:password=$cmpass" https://$host/libs/granite/security/post/authorizables

curl -k -u "admin:$aempass" -FaddMembers=cloudmanager https://$host/home/groups/d/dam-users.rw.html

curl -H "Authorization: Bearer $ims_token" "https://bb-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/getadobeapplicationaccountpassword?username=cloudmanager&topologyId=dfait-stage2&applicationType=CQ"

curl -H "Authorization: Bearer $ims_token" -X PUT -H 'Content-Type: application/json' -d $json "https://bb-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/secrets/putadobeapplicationaccount/cq-cloudmanager"

OR - 

Using amstool way –
 
meejain@Meets-MacBook-Pro ~ % amstool auth basic
[basic] auth token (leave blank to obtain automatically):
 
meejain@Meets-MacBook-Pro ~ % amstool cmpw hdsupply-stage     
meejain@Meets-MacBook-Pro ~ %
 
This will copy the cloudmanager password onto your clipboard.




=======================================================================
dispatcher git by Tim & caleb - 

https://git.corp.adobe.com/Pyramid/ams-dispatcher-configuration/

===============================================================




Cloudmanager lab setup by Justin - > https://expleague.azureedge.net/labs/L722/index.html


Cloud Manager meeting - 

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/introduction-to-cloud-manager.html
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/requirements/role-based-permissions.html - actual roles
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/requirements/setting-up-users-and-roles.html
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/overview/security-and-privacy.html
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/configuring-pipeline.html
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/deploying-code.html#deployment-process
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/understand-your-test-results.html - underastand security results
https://experienceleague.adobe.com/docs/experience-manager-cloud-manager/using/how-to-use/understand-your-test-results.html?lang=en#code-quality-testing - Code Quality xls file here


https://git.corp.adobe.com/experience-platform/self-service-sonarqube-cqrules/tree/v-2020.3.0 
by deepak - sonar

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1683856881 - - -> kill cloudmanager pipeline


https://wiki.corp.adobe.com/display/DMSArchitecture/Pipeline+Variables  - - - > setting up variable in CM

https://github.com/adobe/aio-cli-plugin-cloudmanager

https://github.com/adobe/aio-cli


Hello Devesh, 

Yes there is a way as to without editing the Root POM, you still be able to deploy let say 2 Projects individually on the same branch by 2 teams. And that is possible via using Activating Maven Profiles via Environmental variables. Please go through the below that talks about the Environmental variables - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-manager/using/getting-started/create-application-project/setting-up-project.html?lang=en#password-protected-maven-repositories

Now we can use / define any environmental variable to activate a Maven Profile. It is not just CM_BUILD. so, e.g. you can activate a profile based on a variable named "TEAM_ONE" when it is set to "1" and a different profile when "TEAM" is set to "2". The profile would be activated by the environment variable value - 

<activation>
                <property>
                    <name>env.TEAM_ONE</name>
                    <value>1</value>
                </property>
</activation>

Now let say you have 2 Non Prod Pipelines but with same branch (That is the ask - means same Repo). You can define any variable let say TEAM_ONE for Non Prod Pipeline 1 and define variable TEAM_TWO for Non Prod Pipeline 2 (depending upon your Project), via adobeio CLI - 

aio cloudmanager:set-pipeline-variables PIPELINEID --variable TEAM_ONE 1 

for 1st Non Prod Pipeline 


aio cloudmanager:set-pipeline-variables PIPELINEID --variable TEAM_TWO 2 

for 2nd Non Prod Pipeline

Note - PIPELINEID will be different for both the Non PROD Pipelines. 


Once the variables are defined, and you define individual profiles for your Project's respective POM files, then you'll achieve individual Projects deployment without editing the Root POM, since Profiles will be activated based on the values defined / declared for that particular pipeline. 

In order to configure adobeio console on your local machine, to define / declare the variables - https://github.com/adobe/aio-cli

https://github.com/adobe/aio-cli-plugin-cloudmanager

Please proceed with the same and keep us updated. 

Many Thanks. 

Regards,

Meet Kumar Jain
Adobe Managed Services









JAVA11 issue - 

https://helpx.adobe.com/experience-manager/kb/cloud-manager-build-on-java11-aem.html
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/getting-started/create-an-application-project.html#using-java-11

Hi Team,
Regarding the new Java 11 feature on Cloud Manager mentioned below.  There is a KB article if you run into any issues:
https://helpx.adobe.com/experience-manager/kb/cloud-manager-build-on-java11-aem.html
 
Some things to consider:
Scr annotations are not supported in Java 11 builds on cloud manager – R6 annotations must be used
Enforcer plugin requireJavaVersion must be removed or set to 1.8 as maven runs with a different version of java than the compilation
Thanks,
Andrew



https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/JWT/JWT.md

JWT Token with API creation 


https://github.com/adobe/aio-cli
https://github.com/adobe/aio-cli-plugin-cloudmanager
Authenticated Performance Testing

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/configuring-pipeline.html
https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/configuring-pipeline.html#authenticated-performance-testing

Basic Authentication - 

https://experienceleaguecommunities.adobe.com/t5/adobe-experience-manager/how-to-make-cq5-working-with-enabled-basic-http-authentication/qaq-p/188514

https://docs.sdl.com/791630/651915/sdl-translation-connector-for-adobe-experience-manager-6-3/enabling-basic-authentication

===================================





https://www.adobe.com/content/dam/cc/en/legal/terms/enterprise/pdfs/PSLT-AEM-ManagedServices-WW-2020v2.pdf 
https://www.adobe.com/content/dam/cc/en/legal/terms/enterprise/pdfs/PSLT-AEM-ManagedServices-WW-2020v2.pdfs
product terms for mandate the cloudmanager as a cicd tool


/var/local/httpd/backups


Our sonar profile consists of rules from 4 sources:
 
1. Sonarqube - ships with the product
2. FindBugs - open source
3. Cognified - open source
4. Adobe-created rules - proprietary 

More specifically:
 
Findbugs: https://github.com/SonarQubeCommunity/sonar-findbugs/releases/download/3.4.4/sonar-findbugs-plugin-3.4.4.jar
Cognified: https://github.com/Cognifide/AEM-Rules-for-SonarQube/releases/download/v0.8/aemrules-0.8.jar

===================

Asset perf test  - 

https://Ip/system/console/slingauth - for authenticator - basic authentication

host="equinix-stage2-author1westus2" sourcetype="cq-request" querybuilder | sort +_time, _raw

===================


https://www.adobe.io/apis/experiencecloud/cloud-manager/docs.html#!AdobeDocs/cloudmanager-api-docs/master/create-api-integration.md 

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/custom-code-quality-rules.html - sonar cube rules

patrick 2nd session - 

Cloud manager devops URL - > https://dev.azure.com/adobecloudmanager-tenantid
On CM UI - they are unable to see any branches - issue with some connection - The service account is unable to authenticate. A project is a GIT Repository. 
Purple groups are azure devops groups however the blue one's are azure active directory groups. 
The Service account also needs to be Contributor to the project. It also needs to have a basic access level. 
Service hooks - web hooks - pipeline settings - on GIT changes  - we can test.
We need to make sure that service account has basic access  - for program connectivity to GIT
Please make sure that service account should have SSH public key - reset password in active directory and then check SSH. 
git.cloudmanager.adobe.com - endpoint that we share with the customer
The root - top level pom is called reactor pom
Organisation owner - basic license
Service account - basic license
======================================================

Troubleshooting

CloudManager crawler configuration - 

Cloudmanager fixed subnets for crawler - 

cloudmanager whitelisting - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=DMSArchitecture&title=Dedicated+Egress+IPs+for+Requests+from+Cloud+Manager

https://wiki.corp.adobe.com/display/WEM/CM+Deploy+-+Performance+Test+Whitelisting by Larry

Cloudmanager SSL errors - 

https://wiki.corp.adobe.com/display/MSTeam/Setup+browser-trusted+SSL+with+AEM



0.9. SSL check passes via AEM Healthcheck BUT fails via CM Security Check

This happens if you have a valid cert added to AEM SSL truststore but the name that was used when adding the cert via Touch UI does not match any names in the cert.  You can validate this by comparing the names in the cert to the name in the below AEM configuration:

Configuration location
#In AEM (CRX/DE):
/apps/system/config/com.adobe.granite.jetty.ssl.internal.GraniteSslConnectorFactory.config
 
#On the Server:
/crx-quickstart/launchpad/config/com/adobe/granite/jetty/ssl/internal/GraniteSslConnectorFactory.config
Config Content example
#Configuration created by Apache Sling JCR Installer
com.adobe.granite.jetty.ssl.keystore.password="{325c73faf418e8db2ba3ac6d0ed2a734cc6706c48c3b025ad4c73cdef86215ce46dd4d535ea1ad82bc18c07a8da84ab0}"
com.adobe.granite.jetty.ssl.port=I"8443"
com.adobe.granite.jetty.ssl.ciphersuites.excluded=["^.*_RSA_.*_(MD5|SHA|SHA1)$","SSL_DHE_DSS_WITH_DES_CBC_SHA","SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA","^.*_RC4_.*","^.*_DES_.*"]
com.adobe.granite.jetty.ssl.keystore.user="ssl-service"
com.adobe.granite.jetty.ssl.ciphersuites.included=["TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256","TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_RSA_WITH_AES_128_CBC_SHA256","TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA256","TLS_RSA_WITH_AES_256_CBC_SHA"]
com.adobe.granite.jetty.ssl.hostname="author-stage.lt-life.adobecqms.net"


https://wiki.corp.adobe.com/display/WEM/202x+Release+Schedule

release schedule for cloudmanager

=============================================================================

CloudManager security - 

https://wiki.corp.adobe.com/display/MSTeam/Sling+Security+Health+Check - security healthcheck CM URL - ssl 

https://<ip>/system/console/healthcheck?tags=security


https://www.sslshopper.com/ssl-checker.html#hostname=https://uatlibrary.the1.co.th/

ssl checker for cloud manager

Multiple projects means multiple git repositories


403 happens if the adobe.io integration is not associated with a CM role that allows cancel. Please make sure the integration has the same role that the user who can cancel has. Integration can be assigned to multiple roles.
https://www.adobe.io/apis/experiencecloud/cloud-manager/docs.html#!AdobeDocs/cloudmanager-api-docs/master/create-api-integration.md
Please assign a suitable role to the integration and validate further.

=====

Performance testing failed - because of reports 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1683855630


webdev health check up failed - 

https://wiki.corp.adobe.com/display/MSTeam/Sling+Security+Health+Check#SlingSecurityHealthCheck-CQDispatcherConfiguration

curl -u admin:adminpassword http://13.56.53.190:4503/crx/packmgr/service.jsp?cmd=ls
list the packages via curl - >

Go to OSGI → Configuration → Apache Sling Simple WebDAV Servlet
Type org.apache.sling.servlets.get into Configuration Binding input at the bottom of the popup and click Save
Click Unbind (crazy, I know)
Stop the "Apache Sling Simple WebDAV Access to repositories org.apache.sling.jcr.webdav" bundle
NOTE: This step should not be done on the STAGE author.  This is required otherwise curl DELETE cmd below will 405.
Test to ensure health check passes (/system/console/healthcheck?tags=security)
Test that the HTTP DELETE returns an appropriate response (404 or 204) 

====================================================


CRA Tool - 

Hello Team,
 
As mentioned in our last team meeting, AMS will be starting an initiative to run our new Cloud Readiness Analyzer on AMS customers in order to obtain a better understanding of our customer’s readiness to migrate to AEM CS. Our team will be working alongside Heidi Chen’s team in running the tool on our customer’s non-prod , and closing out CR’s assigned to our team.
 
Our main task here is to notify our customers that this work is going to happen, and to warn them to hold on any CM production pipelines during the maintenance window. Please follow the instructions listed below when picking up one of these CRs in the adobemsbasic open queue.
 
When First received in the open queue:
CEE will send communication using the email template in SNOW titled "AMS Basic - Cloud Readiness Analyser Tool"
Ensure that you update the date in the email template to exactly 1 week from the date in the planned start and end date field of the CR.
After the communication is sent, update the planned start and end date to exactly one week from the date previously listed.
Assign the CR to yourself
 
When CR is due a week later:
Keep an eye out for an email from Tommy Ximing Guan titled "COMPLETE the Change Request job of "Install and Run CRA package on customer's Stage Author1 instance" sent to the AMS Basic DL on the due date of the CR.
Once the email is received, you can close the CR with no additional steps.
 
Please feel free to reach out to me if you have any questions.
 
Thanks,
Tim
 

 ===============================================


cloud manager     Security testing - 

Regarding your 3rd point which is failing - AuthorizableNodeName implementation does not expose authorizable ID in the node name/path, please check the below - 

Search for "Authorizable Node Name Generation" in https://helpx.adobe.com/experience-manager/6-5/sites/administering/using/security-checklist.html


With reference to the second error, The Sling Referrer Filter is configured in order to prevent CSRF attacks, we checked the logs. It says - 

td class='content' colspan='2'><div class='logWARN'>WARN The Sling Referrer Filter  allows empty or missing referrers. The system might be exposed to CSRF attacks.</div>
<div class='logWARN'>WARN [Check Issues with Cross-Site Request Forgery in the security guidelines](https://www.adobe.com/go/aem6_4_docs_security_siteforgery_en)</div>
</td><tr class='content'>

Please check the apache sling referrer filter configuration for stage author + both Publishers. And check if allow Empty is checked. Ideally looking at other customers configurations, it should not. 


====================


https://www.youtube.com/watch?v=VLYJMML5Ftg&feature=youtu.be
https://www.youtube.com/watch?v=FP-cSbuql-c&feature=youtu.be


Cloud Manager user access email - 

Thanks for joining our Cloud Manager discovery call. As a follow up, the AMS Basic team would like to request that you provide the following information for our on-boarding team.
  
Users who will need access to Cloud Manager UI, and the roles that they fall into
Cloud Manager Role Definitionhttps://helpx.adobe.com/experience-manager/cloud-manager/using/security-and-privacy.html
Additional instructions on how to administer experience cloud. 
Users under the Deployment Manager / Developer roles will get accessibility to Adobe Managed GIT automatically & AMS will send further instructions to them how to access it. 










patrick check list - 
https://wiki.corp.adobe.com/display/MSTeam/CM+Deploy+-+AAA+Pre-flight+Checklist


https://wiki.corp.adobe.com/display/cemcloud/Deploy+Dispatcher
deploy dispatcher curl commands



curl -v -D - POST -H 'Content-Type: application/json' -d '{"actionId":"deploy-dispatcher","parameters":{"config":{"location":"https://cm0pl0va80stor0prd.file.core.windows.net/2c804d44-bd44-4142-9026-e322b73ce63f/build/epc-help-aem.dispatcher-1.2.3.zip?sig=5cuFBTmqWleXEbXnuDm0s1qUiBJgA7nSqxv2TYJzqUU%3D&st=2019-12-11T16%3A36%3A15Z&se=2020-01-10T17%3A06%3A15Z&sv=2017-04-17&spr=https&sp=r&sr=f"}}}' "http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/5pdg66sahrpgioaflpdt5e7hnj/dispatcher1uswest2/actions"

Manage ELB Links - 

https://wiki.corp.adobe.com/display/cemcloud/Manage+load+balancer+links


curl -v -D - POST -H 'Content-Type: application/json' -d '{"actionId":"manage-elb-links", "parameters":{"components":[{"name" : "elb-attach", "enable" : "false"}]}}' "http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/1klah352dfu6pin44lhuemkdkg/publish1apsoutheast2/actions"

curl -v -D - POST -H 'Content-Type: application/json' -d '{"actionId":"manage-elb-links","parameters":{"components":[{"name" : "elb-attach", "enable" : "false"}]}}' "http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/1klah352dfu6pin44lhuemkdkg/publish1apsoutheast2/actions"


terminate cloud manager pipeline - > https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1683856881

Collect logs from azure - > https://wiki.corp.adobe.com/display/MSTeam/TS+-+Finding+More+info+to+help+troubleshoot+CICD+pipeline+execution

https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+Troubleshooting+tips

https://wiki.corp.adobe.com/display/DMSArchitecture/Pipeline+Variables
(Variables assigned for cloudmanager)

https://wiki.corp.adobe.com/display/cemcloud/Deploy+Dispatcher
deploy dispatcher

How to cancel the pipeline - 

https://wiki.corp.adobe.com/display/MSTeam/CM+Deploy+-+Never+ending+pipeline

cm cancel execution --programId 6152 --pipelineId 515805 --executionId 212194

cmcli cancel execution --programId 5913 --pipelineId 2653057 --executionId 565871

https://git.corp.adobe.com/Evergreen/cmcli

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1694743998#TSCloudManagerCLI(CMCLI)-ApproveCSEoversightforanypipeline
How to approve cse oversight via cmcli 



I was stuck with the error - > curl -I -X DELETE -u admin 'https://author-weretail-global-stage.adobecqms.net/content/dam/cloudmanager' giving HTTP/1.1 405 Method Not Allowed
WebDAV Health Check
On the author:
Go to OSGI → Configuration → Apache Sling Simple WebDAV Servlet
Type org.apache.sling.servlets.get into Configuration Binding input at the bottom of the popup and click Save
Click Unbind
this fixed the issue though
getting HTTP/1.1 404 now

For Integrating adobeio with cloud manager - 

https://www.adobe.io/apis/experiencecloud/cloud-manager/docs.html#!AdobeDocs/cloudmanager-api-docs/master/create-api-integration.md

So 403 happens if the adobe.io integration is not associated with a CM role that allows cancel. Please make sure the integration has the same role that the user who can cancel has & that integration can be assigned to multiple roles. 


meejain-macOS:~ meejain$ amstool bba pacificlifersd-stage3-author1uswest2 sling-health-check
CRXDE Support WARN
DavEx Health Check  WARN
Replication and Transport Users WARN
WCM Filters Configuration WARN
WebDAV Health Check WARN
Web Server Configuration  WARN
Authorizable Node Name Generation OK
CQ Dispatcher Configuration OK
CQ HTML Library Manager Config  OK
Default Login Accounts  OK
Deserialization Firewall Attach API Readiness OK
Deserialization Firewall Functional OK
Deserialization Firewall Loaded OK
Example Content Packages  OK
Sling Get Servlet OK
Sling Java Script Handler OK
Sling Jsp Script Handler  OK
Sling Referrer Filter OK
SSL Configuration OK
User Profile Default Access OK
Action Succeeded: sling-health-check
meejain-macOS:~ meejain$ 

======================================

if you have time, listen to the first 20 minutes of this recording:





10:35
https://bluejeans.com/s/9np3u





10:35
explains how to set up a crawler on you local computer





10:35
you can use that to test the domain





10:35
will make iterations much faster as you make adjustments


=====

For troubleshooting & collecting logs - 

https://wiki.corp.adobe.com/display/MSTeam/TS+-+Finding+More+info+to+help+troubleshoot+CICD+pipeline+execution

https://wiki.corp.adobe.com/display/MSTeam/Azure+DevOps+-+Realtime+Logging+for+CM+build


AzureDiagnostics
| where ResourceProvider == “MICROSOFT.NETWORK” and Category == “ApplicationGatewayAccessLog”
| where requestUri_s contains “vizio”
|project requestUri_s


Important one below - >

AzureDiagnostics
| where ResourceProvider == "MICROSOFT.NETWORK" and Category == "ApplicationGatewayAccessLog"
| where requestUri_s contains "vizio"
|project requestUri_s, serverStatus_s



AzureDiagnostics
| where ResourceProvider == “MICROSOFT.NETWORK” and Category == “ApplicationGatewayAccessLog”
| where requestUri_s contains “vizio”
| project requestUri_s, serverStatus_s
| summarize count() by serverStatus_s


AzureDiagnostics
| where ResourceProvider == “MICROSOFT.NETWORK” and Category == “ApplicationGatewayAccessLog”
| where requestUri_s contains “vizio”
|project requestUri_s



=============================================================

Basic to enterprise migration - azure

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2227409986&flashId=-1095473117

==================================================================

Mozilla/5.0 (X11; Linux 86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.167 Safari/537.36

is the name of the crawler - user agent for performance testing that customer need to whitelist

============

Their pom doesn't have <cloudManagerTarget>none</cloudManagerTarget> by chance?
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=DMSArchitecture&title=%5BKT%5D+Cloud+Manager+2019.8.0+Release
see "Skipping Content Packages"
also, can you confirm the build produces artifacts?
do you see zip files in the Azure storage account?
-
package actually doesn't gets deployed

CM issue

Based on the maven archtypes project we have an "all" project which combines the other content projects as sub-packages and installs them in /apps/<project>-package/install folder.
- CM is monitoring the "all" package deployment but not the sub-packages that internally gets installed.
- We had an error with our internal sub-package and that was not installed and this was not captured by the CM.
- Based  on your suggestion, if we change the cloudManagerTarget for these sub-packages then it will ideally get installed twice - one by the "all" package and second directly by the CM. We do not want these packages to be deployed twice.
- So what's the best practice that Adobe suggests? Do we use all project at all or deploy each projects individually and track them? If we use "all" then how will we be sure that the sub-package installation did not not result in any error?

===============

Git commands for cloud manager - 

git clone https://git.cloudmanager.adobe.com/nbugini/nbugini
  
  557  git branch -av
  558  git checkout -b remotes/origin/deploy
  559  git branch -av
  560  pwd
  561  ls -la
  562  git checkout --track remotes/origin/deploy
  563  git checkout --track origin/deploy
  583  mvn --batch-mode clean org.jacoco:jacoco-maven-plugin:prepare-agent package
  584  ls -la

https://www.freecodecamp.org/news/how-to-delete-a-git-branch-both-locally-and-remotely/

remotes/origin/roytest1

=====================

Authenticated Maven Repository Support - >
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=DMSArchitecture&title=%5BKT%5D+Cloud+Manager+2019.6.0+Release

Custome environment variables - https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/getting-started/create-an-application-project.html#custom-environment-variables

performance test failed - 
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=TS+-+Finding+More+info+to+help+troubleshoot+CICD+pipeline+execution

Important - > Yes!  While build is running, you can go to https://portal.azure.com.  Subscription: DMa/AMS CloudManager PRD; Resource Group: cm-pl-va8-regr-prd.  Among the resources, look for a Container Instance named build-<something>.


==============================

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=DMSArchitecture&title=%5BKT%5D+Cloud+Manager+2019.8.0+Release
see "Skipping Content Packages" is valid here or not.

deployment successful but nothing actually gets deployed

===================================


To bring this full circle, the CM release on Thursday will include a fix for this "SNAPSHOT bug" (CMGR-25399).  After the release, the build artifact reuse feature will behave as follows:
•	If a non-production pipeline builds a branch, any subsequent non-production pipelines will reuse the existing artifacts (even if they're SNAPSHOT packages!), as long as the code hasn't changed and CM_DISABLE_BUILD_REUSE is set to false.
•	If a production pipeline executes against the branch and the code hasn't changed since the last build and the existing artifacts are SNAPSHOT packages, the pipeline will NOT reuse the SNAPSHOT packages, but instead will build new versioned artifacts (even if CM_DISABLE_BUILD_REUSE is set to false).
•	If a production pipeline executes against a branch and the code hasn't changed since the last build and the existing artifacts are versioned, the pipeline WILL reuse the existing artifacts (if CM_DISABLE_BUILD_REUSE is set to false).

Patrick email on [REDROCKET] Caution when using Build Artifact Reuse

============================================



value of user of invalid poisoned credentials - 

Cloud Manager troubleshooting with Patrick - 

meejain-macOS:~ meejain$ curl -s "http://bigbear-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/secrets/vaultnsYXp1cmUvTWVldEtKYWluLWF1dG9tYXRpb24vZjIxMTNhY2U5NGU5ZDJlODBlZWUxMGJmYWFiMTNiNzU4ZTc3NWY4YTFlYWUyYTFlYjE1NDYwYWJlOWU2MDkzMi0xNTM4Njg5MjE3MzM0" | jq -r '.secret.value[].secretItem[] | select(.fieldName == "name").value'
meejain
meejain-macOS:~ meejain$ 


curl -s "http://bigbear-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/secrets/vaultnsYXp1cmUvQWxleGFuZHJhVGFodS1hdXRvbWF0aW9uL2E1YWVhOTJkNjZiZmM3ZjA0NzhlZjYwMzAxNGRhZGJhZmI3MjkwYzJhYmNiOWRlOWY0MmJjMDAzYzFhZmQ1MmUtMTU3MzIwNzA3MzQwNA" | jq -r '.secret.value[].secretItem[] | select(.fieldName == "name").value'



ok, so note the SecretReference is vaultnsYXp1cmUvTWVldEtKYWluLWF1dG9tYXRpb24vZjIxMTNhY2U5NGU5ZDJlODBlZWUxMGJmYWFiMTNiNzU4ZTc3NWY4YTFlYWUyYTFlYjE1NDYwYWJlOWU2MDkzMi0xNTM4Njg5MjE3MzM0

don't broadcast this, but you can pull any secret using bigbear's ssproxy

https://wiki.corp.adobe.com/display/cemcloud/Secret+Server+Proxy+HTTP+API+%28REST%29+Endpoints#SecretServerProxyHTTPAPI(REST)Endpoints-GetaSecret

testing - 


account-name": "Vizio Inc",
            "credential": {"SecretReference": "vaultnsYXp1cmUvVml6aW9fSW5jLzQ5YTM4NzFkMWYwYTRlYTc3NTJjNGFiMDQ0MTQ3ZGM0OTVjYThkZWFjYzIxZmZiNDA0ZWM4NGNkNmViOWEyZmItMTU2MTYxMjgyMjU3Nw"},
            "user-credential": {"SecretReference": "vaultnsYXp1cmUvTWVldEtKYWluLWF1dG9tYXRpb24vZjIxMTNhY2U5NGU5ZDJlODBlZWUxMGJmYWFiMTNiNzU4ZTc3NWY4YTFlYWUyYTFlYjE1NDYwYWJlOWU2MDkzMi0xNTM4Njg5MjE3MzM0"},
            "name": "westus2",



curl -s "http://bigbear-basic.ams.adobe.net:443/cxf/ssproxy/api/v0.1.0/secrets/vaultnsYXp1cmUvVml6aW9fSW5jLzQ5YTM4NzFkMWYwYTRlYTc3NTJjNGFiMDQ0MTQ3ZGM0OTVjYThkZWFjYzIxZmZiNDA0ZWM4NGNkNmViOWEyZmItMTU2MTYxMjgyMjU3Nw" | jq -r '.secret.value[].secretItem[] | select(.fieldName == "name").value'


============================== pipeline automation with jenkins - overrride
Hello Apinya, 

Yes its possible to automate the pipeline with Jenkins - the particular step you have their (overriding the failed test) is possible, just need to send the right payload via the API. Please check the required documentation on the same - 

https://www.adobe.io/apis/experiencecloud/cloud-manager/docs.html#!AdobeDocs/cloudmanager-api-docs/master/advancing-and-cancelling-steps.md

https://github.com/adobe/aio-cli-plugin-cloudmanager#aio-cloudmanageradvance-current-execution-pipelineid will populate the body automatically assuming all of the failing important metrics should be overridden

https://github.com/adobe/aio-cli-plugin-cloudmanager/blob/0.3.2/src/client.js#L254
src/client.js:254
            const results = await this._getMetricsForStepState(step);

Regards, 

Meet Kumar Jain
Adobe Managed Services


For you info to correct your document

https://www.adobe.io/apis/experiencecloud/cloud-manager/docs.html#!AdobeDocs/cloudmanager-api-docs/master/advancing-and-cancelling-steps.md

OVERRIDE CODE QUALITY, SECURITY TEST, PERFORMANCE TEST RESULTS

In payload, need to use

"override":true

in stead of

"overridden":true


https://daycare.day.com/home/centralcoth/centralcoth_us/managed_services/196157.html



=============================================


Part 1 (Git Basics): https://web.microsoftstream.com/video/7df9f9aa-bd31-49ae-8251-296242315072
Part 2 (Project Structures): https://web.microsoftstream.com/video/0ed04bbd-ebf5-49cd-9129-c9e2f2b4bdfb

https://jira.corp.adobe.com/browse/CMGR-6457 - Tim provided

Unit tests - 

With regards to the query related to Unit tests, Maven inside the Cloud Manager will check that folder where your unit tests will be stored, generally under branchname/core/src/test folder and will calculate how much coverage those tests have covered for your source code.For more details, please check the below - 

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/understand-your-test-results.html

unit tests are tests the developers create alongside their code

typically in the source code repository, the src folder has a child folder called test - this is where unit tests are created.  Maven will look for test folders and execute the tests it finds as part of the build.  Code coverage % is how much of their code is covered from a unit test standpoint





Hello Dave, 

Apology for the inconvenience. As discussed on call as well regarding Sonar Qube customisations. We never commit on the same whether that will be possible but yes we did give a try with Cloud Manager Devops team. May be in later release of Cloud Manager, that can be possible. 

For now, you may go through the documentation that has instructions on annotating false positives, which the customer can do to avoid irrelevant failures.

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/understand-your-test-results.html - sonar qube excel sheet







unit tests are tests the developers create alongside their code
typically in the source code repository, the src folder has a child folder called test - this is where unit tests are created.  Maven will look for test folders and execute the tests it finds as part of the build.  Code coverage % is how much of their code is covered from a unit test standpoint
take a look at https://github.com/Adobe-Marketing-Cloud/aem-sample-we-retail/tree/master/core/src/test to see some examples


4) You may choose any Load / performance testing tool to test your PROD environment. We are just concerned with the results - there should not be any high / critical issues reported. There is no documentation as such how to integrate these tools with AMS env's. They will be used in a similar manner like on any other CMS environment. 

5) Performance testing is already there as one of the stages post stage deployment and prior PROD environment in Cloud Manager. But this feature of Cloud Manager is used only for those deployment pages vulnerability check, not for the complete site check. Moreover those are just AEM Security health checks .. we cannot compare it to the actual Penetration test on the whole site, that we are asking you and your team to perform. 




Call with NRUCFC - end. Leaving for dinner

Customer will raise a daycare for their issues - Security of their Source Code on Adobe Managed GIT Repo

when CM will become a mandate officially - is there any tine line


Tim Bonnett [11:20 PM]
It is broad....we want all customers on it as soon as reasonably possible


Meet Kumar Jain [11:20 PM]
what if they do not use this tool

thats what they keep on asking me


Tim Bonnett [11:21 PM]
In the future...it may mean they don’t get an sla

It MAY mean

Today it means they are missing out on a powerful tool with tons of value add

It takes time to on board

But it provides value


Meet Kumar Jain [11:22 PM]
that they agree that its a very good tool .. but again they keep on asking - what if they do not use this tool :grinning:

they will raise a daycare for those questions and accordingly we'll reply



PRB0140591 - raised for cloud manager more access to GIT


https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1551084085 - cloud Manager - multiple repositories


https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+Troubleshooting+Tips#CloudManager-TroubleshootingTips-Q6.Dispatcherdeploymentfailed.IsthereabackuptakenorshouldIrestoreaninstancebackup - if dispatcher deployment fails


Thank you Karl for the update. Cloud Manager Git Repo is only 1 per customer and cannot be multiple as per latest update. However there are some possible solutions, depending upon how you would like to deployments from those multiple Repositories. Here we go - - - >

1) Single Deployment, Multiple Repositories:

You can explore a "merging" (although not literally git merging) strategy where branches from multiple repositories on the customer's existing system are merged into a single Cloud Manager git repository.This export/merging process can either be done in an automated fashion (e.g. by a customer-run Jenkins server) or manually. After the merged updates are pushed to the Cloud Manger git repository, the CI/CD pipeline can be triggered either automatically (using the "On Git Changes" trigger), manually, or via the API.


2) Discreet Deployments, Multiple Repositories:

The second scenario is one where when the customer does a deployment, each deployment is done using a specific set of artifacts and the sets never overlap. For example, on Tuesdays they deploy package A and on Thursdays package B, but they never deploy package A and B at the same time.

There's a relatively easy workaround for this. Git allows for branch names to be different between different repositories, so it is not overly hard to do a mapping like this:

Project A    https://github.com/mycompany/projectA    master    projectA-master
Project B    https://github.com/mycompany/projectB    master    projectB-master
Project C    https://github.com/mycompany/projectC    develop    projectC-master

And then the customer can reconfigure their pipeline to switch between the various branches to deploy just from that branch. GUIs like SourceTree support this kind of push-and-rename easily. If you want to do it from the command-line, the syntax is:

$ git push adobe master:projectA-master

where adobe is the remote name for Cloud Manager Git, master is the local branch name, and projectA-master is the remote branch name.

Please let us know if this helps.

Many Thanks.


Regards,

Meet Kumar Jain
Adobe Managed Services

=========================================

azure multisite - 

https://docs.microsoft.com/en-us/azure/application-gateway/multiple-site-overview


applying multiple certificates on a single app gateway


================Reply to customer for programmatic access only - 

Hello Rajiv,

We provide only programmatic access to the Adobe Managed GIT Repo means via terminal only. Please go through the below link and check your access again.

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/requirements/source-code-repository.html


When we checked accessing the GIT Repo using your credentials via terminal, it worked using the same private access tokens provided to you -

meejain-macOS:~ meejain$ git clone https://git.cloudmanager.adobe.com/tivo/tivo
Cloning into 'tivo'...
Username for 'https://git.cloudmanager.adobe.com': rajiv.kumar@cloudmanager.adobe.com
Password for 'https://rajiv.kumar@cloudmanager.adobe.com@git.cloudmanager.adobe.com':
remote: Azure Repos
remote: Found 4541 objects to send. (314 ms)

In case of any issue, please let us know.

Regards,

Meet Kumar Jain
Adobe Managed Services


================================

Direct Connect - 

We have identified two Adobe AMS accounts (264974395540 and 836313559619) utilizing Direct Connect in a non-resilient way - this means you could experience a potential outage should there be any failure. Please see the attached excel document that provides a list of non-resilient connections that are at risk. 

What does a “non-resilient“ state mean"?
AWS recommends connecting via at least two Direct Connect locations for physical location redundancy. The referenced accounts above has some of their DX connections configured for a particular resource/gateway at only one location.

Here are the different DX resiliency states below:
Location Redundant (Multiple connections over two locations. Meets the requirements for "High Resiliency for Critical Workloads" or "Maximum Resiliency for Critical Workloads")
Device Redundant (Multiple connections, different AWS devices (routers), same DX location. Meets the requirements for "Non Critical Production Workloads or Development Workloads")
Device NonRedundant (multiple connections but on the same device)
NonRedundant (a single connection)

If you wish to retain the current non-resilient DX configuration, please add a tag named "com.amazonaws.dx.resiliencecheck" with a value of "disabled" for the VGW/TGWs that are part of the non-resilient DX connections.

Please let me know if you have any questions. You may also see the following documentation for more information - https://aws.amazon.com/directconnect/resiliency-recommendation/.

========================================
splunk forward

https://wiki.corp.adobe.com/display/MSTeam/Forward+Splunk+Results+to+Another+Splunk+Server

       Thank you for the reply. We do support https connection though between our AMS splunk agents & Customer Splunk forwarder but via Certs with .crt & .pem files & not via HTTP Event Collector in Splunk Web.
The format of the Splunk Configuration file on the AMS instances will look something like this for Eg -
[tcpout:EXT_cluster_or1]
maxQueueSize = 32MB
sslCertPath = /opt/splunkforwarder/etc/auth/uf.pem
sslPassword = XXXXXXXXXXXXX
sslRootCAPath = /opt/splunkforwarder/etc/auth/cacert.crt
# May want to change this
sslVerifyServerCert = false
autoLBFrequency = 60
forceTimebasedAutoLB = true
useACK = false
server = splunk-ext-d.adobe.net:9998
[tcpout:splunkcloud]
server = forwarder.customer.com:9997
compressed = false
As you see above Customer will provide us the .pem & cacert.crt files which will be placed on the desired locations and update Splunk outputs.conf file with their paths.




PRB0163409

/opt/splunkforwarder/etc/apps/CQDispatcher/local  - inputs.conf files

https://daycare.day.com/home/pacificlife/pacificlife_us/managedservices/184207.html

[tcpout]
defaultGroup = index-server1,splunkcloud
disabled = false
 
[tcpout:index-server1]
server = splunkindexer.adobemsbasic.com:9997                               
[tcpout:splunkcloud]
server = forwarder.prod-ams.pacificlife.com:9997
compressed = false
 
[tcpout-server://index-server1]
[tcpout-server://splunkcloud]

=================================

AEM high priority tasks - Mitch

https://exadel.com/news/how-to-publish-high-priority-aem-website-pages-faster/


===================================

Node js 

https://jira.corp.adobe.com/browse/CMGR-21989

Hello Team, 

  I mentioned in a previous team meeting that an AMS Basic customer had run into issues with development of Single Page Applications due to the unavailability of a node.js run time in AMS. The customer had expressed frustration around AMS's inability to provide a managed run time environment , as one of the key value propositions for migrating to AMS is that customers no longer have to host any services to run AEM. Our leadership team is working with our AMS architects to better understand what the future state of SPA enablement on AMS looks like. Adobe.io has recently gone GA with an event based runtime similar to Lambda that looks like it will be the future of SPA enablement in AMS.

https://www.adobe.io/apis/experienceplatform/runtime.html

  For today, the messaging that I would like our team to adopt for our AMS Basic customers is that customers who want to leverage react or angular to develop SPA will need to bring their own node.js run time. This could be a customer hosted logic app / lambda function, customer managed instance running node.js, or any other creative means of deploying a node.js run time.   Staring today, I would like each of you to ask during our FCM if the customer has plans to develop SPAs,  so that we can deliver the message early on to minimize customer strife. 


 Here is some Adobe documentation on SPA development with AMS that you might find educational. 
https://helpx.adobe.com/experience-manager/6-4/sites/developing/using/spa-architecture.html
https://helpx.adobe.com/experience-manager/6-4/sites/developing/using/spa-getting-started-react.html
https://helpx.adobe.com/experience-manager/6-4/sites/developing/using/spa-getting-started-angular.html



I would like an acknowledgement reply from each team  so that I know this email has been seen. 

Thanks,
 Tim 

2nd email ->

 Hello Team,
 
Wanted to send you a link to our recently updated documentation on SPA implementations:
 
https://helpx.adobe.com/experience-manager/6-5/sites/developing/using/spa-ssr.html
 
 
Importing items to note:
 
Customer must be on AEM 6.5.1
SSR is not required on all projects. Although AEM fully support JS SSR for SPA, Adobe does not recommend implementing it systematically for every project.
Adobe I/O Runtime is the recommended solution for implementing SSR for SPAs in AEM.
Node.js is not supported for Adobe-hosted AEM instances.
This means AMS will not install node.js on an adobe managed instance. Period.
 
 If customer’s need support on implementation, the can refer to the Adobe.io documentation. I will be following up with Ameeth to see if there is any planned means to support this approach.
 
Reach out to me if you have any additional questions.
 


 ============================================




it is a part of the deployment cycle  as mentioned in the URL below - 

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/how-to-use/deploying-code.html#deployment-process

   
step1. detach pub1/disp1 from elb
step2. deploy code to pub1
step3. check to see if dispatcher deployment is included..if true proceed to step4
step4. Deploy configs to dispatcher & restart apache.
step5. validate services are restored on pub1/disp1
step6. place back in load balancer
step 7 move on to next dispatcher leg

====================================================
asset link 

https://helpx.adobe.com/enterprise/using/manage-assets-using-adobe-asset-link.html
https://helpx.adobe.com/in/enterprise/using/configure-aem-assets-for-asset-link.html


https://helpx.adobe.com/enterprise/using/configure-aem-assets-6-for-asset-link.html

set -x ; for a in `cat file` ; do amstool aem $a listpackages | grep -i "adobe-asset-link" && echo $a >> result ; done

==============================================================

Memory Utilization

Mazhar,

 AEM Memory usage is defined not via available system memory, but rather through JVM parameters that deal with max and min available memory. Your current virtualized machine has 8GB of memory, which is consumed by two major system functions, the JVM and the OS. The JVM is preconfigured to consume 50% of available system memory at start. This means that the moment AEM is started, it is leveraging 50% of system memory. The remaining 30% of memory is consumed by the OS. As a result AEM systems as configured by AMS consume between 70 and 85% of available system memory, regardless of the amount of memory available to the system.


 The amount of memory your instances are currently consuming, and the size of your site are in no way determinant on each other. AEM functions will never consume more than 50% of memory, as the JVM in which the application runs is unable to allocate more than 50% of available system memory.  The way to ensure that your site is performant has more to due with the efficiency of your dispatcher cache ration, rather than the amount of RAM on your production instances.

I have attached a screen shot of your system metric over the last month. You will notice that memory utilization remains constant through your pre-production deployment, limited preview, and preview site states. The drop in system memory utilization was due to your upsized instances that had more total mem.

Please respond to the ticket if you have any additional questions.

Thanks, 
Tim

========================================
fts

https://adobems.pagerduty.com/schedules#PV4CLF8

on call 

https://adobems.pagerduty.com/schedules#PN7YEOT

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1010697977
====================================================

https://adobe.medibuddy.in/IndexAdobe.aspx

=========================================

azure app gateway version change - v1 to v2

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Azure+Application+Gateway+-+Manual+Conversion+from+V1+to+V2

az network application-gateway create \
--name uniting-prod1-australiaeast-appgateway1 \
--location australiaeast \
--resource-group uniting-prod1 \
--capacity 2 \
--sku Standard_V2 \
--vnet-name uniting-prod1-australiaeast-vnet1 \
--subnet appgatewaysubnetaustraliaeast \
--public-ip-address uniting-prod1-australiaeast-appgateway1-publicipnew

az account set --subscription “DMa/AMS-Uniting-PRD (AZR1384)”

=============================================================================


Proxy pass dispatcher like in case Brunswick - 

<VirtualHost *:80>
    ServerName ww2.motorguide.com

    ProxyPreserveHost On
    ProxyPass / http://67.227.156.21/
    ProxyPassReverse / http://67.227.156.21/
    RequestHeader set Host "www.motorguide.com"
</VirtualHost>

========================================

SAML 2.0

https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_enable-console-saml.html

===================================================
dispatcher GIT Repo for AMS Basic

https://git.corp.adobe.com/Pyramid/aembasic

https://git.corp.adobe.com/Pyramid/ams-dispatcher-configuration


=====================================================

setting/change the admin password on instances - 

pass insert CQ_Admin

==========================================

bad bot 

https://www.cloudflare.com/learning/bots/what-is-bot-traffic/


============================================================
Cloud azure devops URL - 

https://dev.azure.com/adobecloudmanager-dpsslacounty
https://dev.azure.com/adobecloudmanager-equinix

===================================================

https://wiki.corp.adobe.com/display/MSTeam/Azure+Application+Gateway+-+Enhanced+logging

Adding the logs to azure - app gateway

=====================================================

ELB stickiness - 

Good Day,

It was my pleasuring speaking with you on the conference earlier today.
We investigated unexpected lost back end affinity when making use of duration based session stickiness on AWS Classic Load Balancer.

The load balancer uses a special cookie, AWSELB, to track the instance for each request to each listener.
The stickiness policy configuration defines a cookie expiration, which establishes the duration of validity for each cookie.
The load balancer does not refresh the expiry time of the cookie. After a cookie expires, the session is no longer sticky.
Any further requests will be seen as new and the load balancer chooses an instance based on the existing load balancing algorithm and issues a new cookie.

During our investigation we noted that the stickiness policy was set to a duration of 15 minutes.
This appeared to match the testing performed as the client was asked to re-authenticate after the cookie expiration time was reached.

There are three options for managing the cookie expiration.
1) Duration based where the cookie is given a set lifetime for the duration set in the stickiness policy.
2) Session based. If you do not specify an expiration period, the sticky session lasts for the duration of the browser session.
3) Application based. The load balancer uses a special cookie to associate the session with the instance that handled the initial request,
   but follows the lifetime of the application cookie specified in the policy configuration.

During the course of troubleshooting we were not able to isolate a case where a valid, in date, session cookie was not honoured.
But should this behaviour be seen during your further testing, please do capture the cookie information, when this occurred and what steps were taken to induce the issue.

Do let me know if you require any more information or if any of the above is unclear, I will be glad to assist?

References:
https://nam04.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdocs.aws.amazon.com%2Felasticloadbalancing%2Flatest%2Fclassic%2Felb-sticky-sessions.html&amp;data=02%7C01%7Cmeejain%40adobe.com%7C8f929dfb791341eae1eb08d84f5376f0%7Cfa7b1b5a7b34438794aed2c178decee1%7C0%7C0%7C637346567225296767&amp;sdata=y31b9sVu7bgdiIRkub8fmJPSyf3a6mKhOSi5Y4U16Qs%3D&amp;reserved=0

We value your feedback. Please share your experience by rating this correspondence using the AWS Support Center link at the end of this correspondence. Each correspondence can also be rated by selecting the stars in top right corner of each correspondence within the AWS Support Center.

Best regards,
Vernon K.
Amazon Web Services


============================================================



IMS 

IMS JIRA - https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=identity&title=Identity+JIRA+Support+-+IDOPS

IMS documentation - https://wiki.corp.adobe.com/display/ims/IMSS+Reference+Documentation#IMSSReferenceDocumentation-FederatedIDSupport

https://helpx.adobe.com/experience-manager/6-4/sites/administering/using/ims-config-and-admin-console.html

Adobe Granite Token Authentication Handler: Cleanup Task is the one clearing the tokens

I think Peter refers to this tool: https://adobe-apiplatform.github.io/user-sync.py/en/


https://imstracker.zendesk.com/hc/en-us/requests/31399 - Default ticket


https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1509233055#ManualSP1+IMSSetup-BindtheOAuthAuthenticationHandlerconfiguration - Best document
https://wiki.corp.adobe.com/display/MSTeam/Configure+Adobe+IMS+%28Identity+Management+System%29+for+AEM     - Self Service


https://wiki.corp.adobe.com/display/identity/Identity+JIRA+Support+-+IDOPS - new ticketing tool for IMS 

https://helpx.adobe.com/experience-manager/kt/platform-repository/using/adobe-ims-authentication-technical-video-understand.html - video 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1509233055#ManualSP2+IMSSetup-Automaticallycreatedconfigurations:

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1429807949 - sp3 guide - actual

Recording - https://captivateprime.adobe.com/app/learner?accountId=29997#/course/1183836


for httpd - 

https://wiki.corp.adobe.com/display/~insuafer/HTTPS+settings+for+AEM+IMS

IMS Debugging link - https://helpx-internal.corp.adobe.com/content/help/en/experience-manager/internal-kb/troubleshoot_ims_aem_intergation_issues.html






How to generate the client ID - reference ticket - https://imstracker.zendesk.com/hc/en-us/requests/22746

step by step - 

1) Make sure that id is federated / enterprise - 


https://helpx.adobe.com/enterprise/kb/enterprise-id-faq.html
https://helpx.adobe.com/enterprise/how-to/identity-configure-ids.html
https://helpx.adobe.com/enterprise/using/set-up-identity.html#Setupadirectory


DL - > Grp-AEM-IMS <aem-ims@adobe.com>

Configure launch via IMS - 

https://helpx.adobe.com/experience-manager/using/aem_launch_adobeio_integration.html

daycare ticket for avalara - > https://daycare.day.com/home/avalaracom/avalaracom_us/managed_services/191354.html

  Hi AMS Team,

Please share the access of the environment with test user.

Also, confirm if these nodes exist in AEM
/apps/cq/core/content/nav
/apps/cq/core/content/nav/tools/security/adobeims-configuration
/libs/cq/core/content/nav/tools/security/adobeims-configuration

Regards,
Shubham

name of the package - imsconfig.zip


==========================

jdk version download - 

https://experience.adobe.com/#/downloads/content/software-distribution/en/general.html

https://wiki.corp.adobe.com/display/MSTeam/How+to+update+Java+8

joel wiki

https://experience.adobe.com/#/downloads/content/software-distribution/en/general.html

CHG0126501

================================

seforema@hsbc-pbpws-dev-author1euwest2:/var/log/aem awk '$0 > "14.02.2022 19:59:51.000.0800"' error.log.2022-02-14 | head
14.02.2022 20:00:00.001 *INFO* [sling-default-9-com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject] com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject Starting sync process now
14.02.2022 20:00:00.006 *INFO* [sling-default-9-com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject] com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject Project: German [DE_DE]
14.02.2022 20:00:00.006 *INFO* [sling-default-9-com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject] com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject Project: Lee Test [FR]
14.02.2022 20:00:00.006 *INFO* [sling-default-9-com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject] com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject Project: Lee Test [DE]
14.02.2022 20:00:00.006 *INFO* [sling-default-9-com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject] com.adobe.cq.wcm.translation.impl.scheduler.ScheduleRepeatTranslationProject Sync process complete
14.02.2022 20:00:07.464 *INFO* [sling-default-11-com.day.cq.replication.impl.ReverseReplicator.7780] com.day.cq.replication.Agent.publish1euwest2_reverse Sending GET request to http://10.43.0.44:4503/bin/receive?sling:authRequestLogin=1
 
Finds all entired > than the timestamp, so I can redirect that to another file.
 
Sean
 

 ============================================================



Nagios Monitoring by matt - 

https://fieldreadiness-adobe.highspot.com/items/5be88b71429d7b1d128fa89b?lfrm=shp.12#1


=====

Registering a new client ID and whitelisting redirect URLs for a customer
Avatar
adobemsbasic
Today at 01:42
Customer wants to set up IMS for both the environments - Stage + PROD. We need to register a new client ID and whitelisting redirect URLs for a customer.

Customer is assets only and hence only Author URL's are available -

Stage Author URL - https://author-svenskaspel-stage.adobemsbasic.com 
PROD Author URL - https://author-svenskaspel-prod.adobemsbasic.com

Customer Name - Svenska Spel

Please do let us know, any other information if required.


Add to conversation
Requester adobemsbasic Created Today at 01:42 Last activity Today at 01:42
Id #28914 Status open  Type Problem Warroom needed No Identity subdomain IMS Client ID — Identity Environment Stage & PROD Close in 1 biz day if not answered No Feature request ? No 





=========================================================

for a generic security concern, we need to raise a Jira - 

https://fieldreadiness-adobe.highspot.com/spots/5bec71c5f7794d61bd412395



======================================================
Removing the clone from the TDL - >

compare pacific-stage.json & testingclone.json

We need to remove - >

,
        {
            "application-configuration": {
                "datastore-type": "s3",
                "micro-kernel": "crx3tar",
                "cq-type": "author",
                "run-mode": "stage",
                "port": "4502",
                "type": "CQ",
                "repository-type": "crx3"
            },
            "subnet": {"FN::getSubnet": "subnet1uswest2"},
            "cloned-instance": "true",
            "attached-storage-devices": [
                {
                    "size": "150",
                    "devices": ["/dev/xvdba"],
                    "volume-group-name": "vg0",
                    "crypto-key": {"SecretReference": "vaultnsZGlzay1lbmNyeXB0aW9uLWtleXMvODFiYTg1ZjAzODQ2MGVhM2I2MDhiOWJjN2IzNzdlZWE2YzM0MjJiMWNlOTc0ZjVhNGRkYTVmODdjZDg0NDI1MS0xNTM4MDcyNzc0MTgy"},
                    "logical-volumes": [{
                        "size": "150",
                        "mount-point": "/mnt",
                        "name": "lv0",
                        "crypted-volume-name": "CryptedRAID"
                    }]
                },
                {
                    "size": "512",
                    "devices": ["/dev/xvdm"],
                    "volume-group-name": "vg1",
                    "device-type": "ssd",
                    "logical-volumes": [
                        {
                            "size": "256",
                            "mount-point": "/mnt2/java_temp",
                            "name": "lv0",
                            "crypted-volume-name": "CryptedTMP"
                        },
                        {
                            "size": "256",
                            "mount-point": "/mnt2/s3-cache",
                            "name": "lv1",
                            "crypted-volume-name": "CryptedS3Cache"
                        }
                    ]
                }
            ],
            "name": "author1uswest2-clone-200007",
            "minor-block-revision": "3",
            "instance-type": "m5.xlarge",
            "type": "instance",
            "region": {"FN::getRegion": "us-west-2"},
            "availability-zone": "us-west-2a"
        }

===================================================


admin console - 

https://helpx.adobe.com/in/enterprise/admin-guide.html/in/enterprise/using/admin-roles.ug.html

By Rohit 

==================================================
crx2oak - 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1393756050

https://daycare.day.com/home/ampcapitalconz/ampcapitalconz_nz/managed_services/177075.html

https://docs.adobe.com/content/help/en/experience-manager-64/deploying/upgrading/using-crx2oak.html

oak upgrade - 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1586017806

Here are toms notes as well

https://wiki.corp.adobe.com/display/MSTeam/Tom+Blackford%27s+Notes+on+oak-upgrades

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1647811525


https://helpx.adobe.com/ie/experience-manager/kb/aem62-available-hotfixes/OakCumulativeFixPack.html


=======================================================


B70 SSL issue - https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=B70+SSL+Configurations+Issue

Temp Work around

Once AEM start up is complete with the crypto bundle, when Jetty SSL bundle is stopped and started again, Granite key store will be properly decrypted and therefore restart of Jetty SSL bundle will no longer encounter the above issues 

curl -u admin http://localhost:4502/system/console/bundles/com.adobe.granite.jetty.ssl -F action=stop

enter admin password

curl -u admin http://localhost:4502/system/console/bundles/com.adobe.granite.jetty.ssl -F action=start

enter admin password




=====================================================
https://helpx.adobe.com/experience-manager/dispatcher/using/dispatcher-configuration.html

configuring dispatcher

=============================================================
each URL response time in descending order
java -Xmx2g -jar crx-quickstart/opt/helpers/rlog.jar request-outage.log > rlog.log

==========================================================
Customer reviews - 

CHG0057159 - in case top 20 error messages

CHG0148720


index=ams_cq cluster="RSM US LLP" environment="prod" (host="*") sourcetype=cq-error LogLevel="*ERROR*" | rex field=_raw ".*] (?<MESSAGE>.*)" |uniq message |  common limit=20 MESSAGE

====================================================

status of new relic

https://status.newrelic.com/incidents/k3f9l8w4lf1y


======================================================

proper FCM Notes - 

AMS held the first customer meeting this afternoon with several resources from the content and technical teams. Customer is looking to leverage AEM Assets to implement a simple DAM implementation, but will look to leverage Dynamic Media and Adobe Campaign later this year. ACS is engaged on the project, and will help with the intial implementation of DAM, but will roll off the project after go live. Customer confirmed the following details around their provision in the FCM.

1. Customer has existing infrastructure in AWS, and would like to be provisioned in AWS 
2. Customer's bulk of content teams sit near Chicago, and requested that they be provisioned in US - East 1 
3. Customer confirmed that there is no need for a VPN

Closing FCM ticket

=============================================

ohai -d /etc/chef/ohai_plugins/ ams/other

otc / segment store

==================================================
FTS - ON CALL 
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1010697977

=================================================
install imagemagic + ffmeg y Rohit

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Install+and+Configure+ffmpeg

===================================================
top 20 errors - splunk - 

To the team -  This is a useful Splunk query that can help you provide customers with a top 20 list of errors on their AEM instances. All you need to do is change the cluster field to the customer you are looking to provide the report to. If you are unsure of the customer’s cluster id, run this script to find it (index=ams_cq | stats count by cluster). If you don’t see the customer’s cluster, please reach out to Akshay, and he will work on ensuring it is present in Splunk for the future. Feel free to change the “host” designation to tool it to specific AEM instances as well.
 
 
index=ams_cq cluster="RSM US LLP" environment="prod" (host="*") sourcetype=cq-error LogLevel="*ERROR*" | rex field=_raw ".*] (?<MESSAGE>.*)" |uniq message |  common limit=20 MESSAGE
 
cluster="City of Sacramento"

 ==================================================================

 Configuring target via IMS

 miscadmin#/etc/cloudservices/testandtarget

 

 (1) https://helpx.adobe.com/experience-manager/6-5/sites/administering/using/integration-ims-adobe-io.html
 
(2) https://wiki.corp.adobe.com/display/DMSArchitecture/KT+-+Target+Standard+API

======================================================================
lion bridge connector - 

https://connectors.lionbridge.com/docs/Online_Help_Only/Product_Pages/AEM.htm

https://daycare.day.com/home/ptc1com/ptc1com_us/managed_services/157264.html

==============================================================


Security questions - 

Manuel,
 
For security questions around the AMS Basic platform, please reach out to SalesSecurityQuestions@adobe.com. Our implementations are identical to Enterprise, but we do allow production level admin access to the customer, along with back end ssh access on whitelisted ips.
 
Reports should be provided to you by that group as well.
 
AMS does not provide access to any of our security monitoring tools to non AMS Security members.
 
Please follow the instructions listed here to obtain access to the customer’s daycare account.
https://helpx.adobe.com/experience-manager/kb/accessing-aem-support-portal.html
 
 
Thanks,
Tim
 

 ==============================================================

 Yes, as confirmed from Cloud Manager Engineering team, it is unlikely this is something the customer can workaround. We need to implement caching of these downloads within Cloud Manager (honoring our tenant boundaries, of course) & this is either the #2 or #3 priority item from AMS at present. 

We were looking at a handful of cases earlier in the week and while there was a lot of variance, the amount of time spent downloading was rarely greater than the actual build time. So come to think of it, it actually might be a way for the customer to help with this perhaps their build downloads dependencies which aren't actually used. 

Looking at the Cloud Manager Build logs - you could shave ~90 seconds of time here by not building the it.tests module in CM since (assuming this is AMS), that module isn't used in the CM pipeline. 

Hope this gives some direction & we'll keep you posted via CM monthly release when this caching strategy will come in place. 



Justin build issues explanation 

=====================================================================


Go Live follow up email 

reply from: lemmens@adobe.com

Hi Bernard,

Can you send some dates to the Mgd Service team (or just reply to all) that you and the people responsible for your AEM implementation are available, please?

The goal of the call is to touch base on your project development and preparation, and to discuss plans for Go-Live of your AEM site.

Based on the plans you share with us, we would like to start having regular meetings to ensure you will have a successful launch. In these meetings we would like to cover the topics listed in below emails along with answering any additional queries that you may have.

Please advise.

Thank you
Met vriendelijke groeten, Kind regards,
Tommy Lemmens
+32 496 575 915


==================================================================================


https://helpx.adobe.com/experience-manager/how-to/use-asset-link-sharing.html
https://helpx.adobe.com/experience-manager/6-4/assets/using/link-sharing.html

sharing the link for assets


===================================================
Message from James - 

We sometime face situation where customer is not able to download their dev AEM license due to logistical or user error issues.  Some customers have legitimate need for access to begin their development project.  To unblock them you can create a trial license on their behalf via the AEM trial license site [1].  This should come in handy and will get our customers through the hump temporarily until their dev license access is sorted.

[1] https://aemtrials.corp.adobe.com/content/cq-trials/en/cq-trial-request.html

========================================================
backup script  - 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1483313924

backup policy to remove the scheduled back up 

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1459425970

============================================================
AMS BASIC Training - 

https://adobe-my.sharepoint.com/:x:/r/personal/rohiverm_adobe_com/_layouts/15/guestaccess.aspx?email=meejain%40adobe.com&e=4%3AuKUrOw&at=31&share=ETCB6Ez9qS1DtF_Lok0yM4QBMT0z3vpSPSEayhRhWsJ9AQ

shared by Rohit

================================================================================

https://wiki.corp.adobe.com/display/MSTeam/Migrate+to+Minor+Block+Troubleshooting.

===================================================
				
	Azure Customers	Contributors already added	Owner to the Subscription	
	Nutanix Inc	Harsh Chauhan	Harsh & Tim	done
	Aimco Properties LP	Barry Harper	Barry Harper 	done
	HSBC Global Services Limited	Meet k Jain	Rohit & Meet	done
	Lloyds Register Group Services LTD	Meet k Jain	Meet Kumar Jain	done
	Maison Battat Inc	Rishi pandey	Mihai, Tim & Meet	done
	Merrill Corporation	Larry Raab	Larry	done
	FPL Energy Services Inc.	Meet k Jain	Mihai, Tim & Meet	done
	Kennametal Inc.	Harsh Chauhan	Harsh, Raja, Meet & Larry	done
	Healthcare Financial Mgmt Association	Rohit Verma	Rohit Verma	
	The Tile Shop	Raja Yadav	Meet & Raja	done
	CAA Atlantic Limited	Rohit Verma	Rohit & Tim	done
	University of Canberra	Rishi pandey	Rishi Pandey	
	Northgate Espana Renting Flexible	Meet & Mohit	Meet Kumar Jain	done
	Education Malaysia Global Services 		Rishi & Rohit	

	===================================================================
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1500650859

default SSL
=====================================

to start AEM in particular time zone 
-Duser.timezone=NZDT

============================================
cloud manager - git issue - 

       git credential-osxkeychain erase
  508  git clone https://git.cloudmanager.adobe.com/riverbed/riverbed
  509  git config -l
  510  cdl
  511  cd
  512  ls -la
  513  rm ~/.gitconfig
  514  git config -l


===============================================================

https://fieldreadiness-adobe.highspot.com/items/5be88b68429d7b1d128fa423#1 - related to cloud manager

https://fieldreadiness-adobe.highspot.com/items/5be88b71429d7b1d128fa89b?lfrm=srp.0#3 - related to Monitoring

customer facing docs - Security pen test latest reports by Rohit Shujat - soc latest

https://fieldreadiness-adobe.highspot.com/items/5d519d03f7794d7371d83917?lfrm=shp.0



=========================================
cache ratio - 
caching
(((dispatcherrequestcount - publishrequestcount)/dispatcherrequestcount)*100

============================================
AWS Outages - 

"Please refer to the AWS Service Health Dashboard: https://status.aws.amazon.com/. Under the Status History section, you can see the service interruptions for the past year."

Also you may go through the AWS Post-Event Summaries as well which shows a list of post-event summaries from major service events that impacted AWS service availability:

https://aws.amazon.com/premiumsupport/technology/pes/

=====================================================


2937663

Dear Valued Managed Services Customer,

Please join the bridge - >

https://bluejeans.com/9560118690

Phone: Dial a number from http://bluejeans.com/numbers and enter the meeting ID followed by #

Regards, 

Meet Kumar Jain
Adobe Managed Services
================================
gym

Magic Home Gym Multi Grip Pull Up Bar


============================
disable ssl

https://helpx.adobe.com/experience-manager/6-2/sites/deploying/using/config-ssl.html

===================================
https://uk.flightaware.com/live/
live flight status 

====================================

aws issue - p1
status page

https://status.aws.amazon.com/#EU_block

==========================================
https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=WEM&title=Cloud+Manager+-+Release+Schedule

main wiki link for Cloud Manager

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/release-notes/release-notes-current.html

Cloud manager release notes

===========================================

https://skms.adobe.com/tools.oct/index/

List of On call's
Incident Manager

=============================================


Agenda: 


To join the meeting on a computer or mobile phone: https://bluejeans.com/9810685486?src=calendarLink



Content only: https://bluejeans.com/9810685486/share
Use for simple screen sharing if already joined via conference room or dial-in number.

Adobe conference room: *02 <Meeting ID mentioned in the Blue Jeans URL>


If you are unable to use the app, dial a phone number from https://www.bluejeans.com/numbers and enter the meeting ID followed by #
Noida Toll: +91 11 64802008 (Preferred)
Bangalore Toll: +91 80 64802008 (Preferred)
India Toll Free: 1-800-266-8972
US Toll Free: +1-888-240-2560

External or non-Adobe conference room: Dial bjn.vc or 199.48.152.152 and enter the meeting ID followed by #

Thanks & Regards,

Meet Kumar Jain
Adobe Managed Services

================================================================
VLT command

Run this in `/tmp/`
`wget https://www.adobeaemcloud.com/content/companies/public/adobe/filevault/filevault/_jcr_content/top/download/file.res/vault-cli-2.4.40-bin.tar.gz`

Meet Kumar Jain [2:35 AM]
okay

Larry Raab [2:36 AM]
`/tmp/vault-cli-2.4.40/bin`

https://www.urlencoder.org/

to enclode the password with special characters


eg:

./vlt rcp -r -b 100 http://admin:booted15%2Bvolition@auth01-prod-aws.kennametal.siteworx.com:4502/crx/-/jcr:root/content/dam/kennametal/widia/tr http://admin:nKpjVHoZjAM4Gbe%255BUPQi324%257B@40.76.54.89:4502/crx/-/jcr:root/content/dam/kennametal/widia/tr

=============================================================
larry - ssl pem files

https://wiki.corp.adobe.com/display/MSTeam/SSL+Keys

=========================================================
Azure Security Testing


Hello Team,
 
True, in Azure we don’t need to take any prior approval for security testing. But we require to fill form[0] on behalf of the customer and require these information beforehand –
 
• Contact email address - ?
 
• The dates the test will occur -
       Start Date - ?
       End Date - ?
 
• Detailed description of the test - ?
 
Please make sure to include the following
        ->  A list of all assets which will be targeted (IP or FQDN)
        ->  The types of tests which will be performed
 
 
Once customer provide above information , fill the form along with the respective subscription ID of the customer.
 
[0]-  https://portal.msrc.microsoft.com/en-us/engage/pentest
 


 ===========================================================

 https://helpx.adobe.com/legal/product-descriptions/adobe-experience-manager-managed-services-1.html

 AEM product description - pslt

 Tim EOL - 

 https://helpx.adobe.com/support/programs/eol-matrix.html
 https://www.adobe.com/content/dam/cc/en/legal/terms/enterprise/pdfs/PSLT-AEM-ManagedServices-WW-2021v1.pdf
 https://www.adobe.com/content/dam/cc/en/legal/terms/enterprise/pdfs/SLA-AEMMgdSvcs-17DEC2021.pdf



 https://wwwimages2.adobe.com/content/dam/acom/en/legal/terms/enterprise/pdfs/MasterSLA-2016DEC5.pdf

 Tim excluded minutes from SLA 


 index=ams_cq cluster="General Motors Holdings LLC" environment="prod" source= "/mnt/var/log/httpd/access_log" NOT req_path="/health/checkboth"

 CSE do and not as per Tim - 

 https://fieldreadiness-adobe.highspot.com/items/5be88af3429d7b1d128f69cb#1

 ===============================================================
 AEM 6.5 UPGRADE 

 https://theblog.adobe.com/adobe-experience-manager-2019-cloud-content-personalization-CXM/

 =============================
 Tim golden words for upgrade


 Riz,
Please accept my apologies for throwing out a number without the calculation. I misspoke on the earlier figure, and apologize to the group for sharing an incorrect value.  Please note that values listed below are rounded.
Total Annual Subscription Fee: 204,000.00
Total Monthly Subscription Fee: 17,000.00
Total Monthly Uplift Fee: (Total Monthly Subscription Value * 50%) = 8,500.00
Total Monthly Subscription w/ uplift :  (Total Monthly Subscription Fee  + Total Monthly Uplift Fee) = 25,500.00
The value listed would only be levied for the months that AMS was required to maintain a 6.3 production environment after the October 31st deadline. As stated on our previous call, AMS requires sr leadership approval for any exception. Exceptions are reviewed on a case by case basis, and require that customers provide a narrative around why they will not be able to hit the upgrade deadline. Cases where customers provide a reasonable new target upgrade date, and commit to paying any uplift fees if the new date is missed, have a greater chance of being approved. Our goal is to ensure that customer’s complete the upgrade, not penalize customers for circumstances that are unforeseeable and beyond control.
I would love to jump on another call to discuss further.
Thanks,
Tim

email by James - 

The upgrade uplift fee works as follows.  As an example, this customer’s ACV is $120,000.
 
Monthly subscription fee: $12,000 (120,000 / 12)
50% of monthly subscription: $6,000 (12,000 * .5)
 
Total uplift fee will be calculated based on the number of months customer old AEM environment is kept past the 6.5 upgrade deadline of October 31, 2019 multiply by 50% of monthly subscription.
 
Let’s say the customer fails to complete the upgrade by April 30, 2020 as promised on the exception letter (6 months after the initial deadline), the total uplift fees would be $36,000.
 
Hope this makes sense.




Will needs to know that they entire value proposition of AEM with AMS boils down to our SLA. In order to obtain the SLA, we need the customer to submit a load and performance test. They are currently not entitled to an SLA under our Product Specific Licensing Terms, as they have not submitted proof of that testing. As a result, if the customer experiences a large scale outage, Adobe is not legally obligated to pay them any credits. We need an executive at UOB to understand the following:
1. The ludicrously of paying for an SLA that they are not entitled to.
2. Performance and security testing are critical to understanding how robust their implementation is.
 
  The ask of Will is to make this a priority, and enable his team in any way he can to source a partner and completed this testing. Let me know if you need me to jump on a call.
 



Matt's golden words 

3. Can we have a regular meeting with AMS team to discuss on usage metrics for AEM. - As part of your contract we set up regular Quarterly meetings with your team to check in on your implementation and to discuss any issues.  We do not set up weekly meetings as this could eat into your 90 hrs/yr access to our team of CEEs.  If there are issues that pop up where we need to schedule a meeting with your team we can do that on an ad hoc basis, just open an AEM support ticket and let us know.



If this customer is to stay here in AMS basic, we need to hold them to our support model. We can no longer go above and beyond. If they need assistance for every single issue because we have allowed them to abuse us, that needs to stop.
 
Scott, John and Carola – The discussion to move to AMS Enterprise was never about requests or service limits. It was about support. Please note that moving forward, we will be holding the customer to the scope of our standard support model. If the customer responds negatively to our enforcement of scope, it may be time to discuss a move to Enterprise.


===========================
SP6 issue - 

With GRANITE-31505 newly discovered and a work around determined, we need to send a strong communication to the team that they need to implement the work around when they 1) install SP6 on running customers 2) New provisions who are implemented with 6.5.6. Work around steps are as shown.
 
Go to http://<server>:<port>/system/console/configMgr
Search for hc.impl
Open the mapping and add a new mapping -  com.adobe.granite.repository.hc.impl=[user-reader-service]
Save the configuration. This should solve the security test issue



https://adobe.sharepoint.com/sites/ams/Shared%20Documents/6.5.6%20Update%20Package/aem-service-pkg-6.5.6-1.0.zip
https://artifactory.corp.adobe.com/artifactory/maven-aem-release-local/com/adobe/cq/aem-service-pkg/6.5.6-1.0/aem-service-pkg-6.5.6-1.0.zip

===========================================
 

 Thank you Robert for the reply.

Yes, at the time of Upgrade Process, there will be NO associated costs from Adobe Managed Services side, but the Customer's Customizer/partner will most likely charge the customer for work done to prepare for the Upgraded Environment. Plus the impact will be that customer may need to adjust the scope of their day to day operational code releases / freeze their Code deployment, and focus efforts on completing the upgrade.



Regards,

Meet Kumar Jain

Adobe Managed Services

Thanks for the update. Good to know you and 3|Share are aware and aligned on the AEM 6.5 upgrade requirements. The pre-briefing meeting is a chance for my team to provide valuable information about the timeline, expectations, and Q&A. Since the deadline to complete upgrade is this October we would like to provide our customers ample time to do proper planning and budgeting. May I request 30-45 mins of your and 3|Share's time in the next couple of weeks to attend this pre-briefing meeting? Please let us know a few possible date/time slots. Thanks again and look forward to speak soon.



https://helpx.adobe.com/experience-manager/6-4/sites/deploying/using/pattern-detector.html

pattern detector via Cloud Manager	

====================================================================
contacts & contracts

Dear Customer, 

Please update on the below. We are excited to work with you on your AEM implementation. To get started we will need to collect some additional information: 

1) List of users to invite to your Sharepoint site • This site is hosted by Microsoft and therefore you'll need to register your email address using Microsoft ID. Instructions for creating a Microsoft ID can be found here: http://windows.microsoft.com/en-us/windows-live/sign-up-create-account-how. Once you have Microsoft IDs set up reply to this email to request access to you Sharepoint site. • OR if you are already using Office365 in your organization we just need a list of these users and their email addresses. 

2) List of users who need SSH access • This provides each registered user direct SSH access to your Managed Services instances. • For each user we will provision user account and send credentials via email individually. Users will be asked to change their password on first login. • Please also provide your network egress IP(s) so we can whitelist them for SSH access. 

3) List of users you want to authorize on your Platinum Enterprise Support contract • These users will have access to create, view, and update support tickets in the Daycare portal on behalf of your company. • These users should have a working knowledge of AEM to be able to communicate effectively with Adobe support engineers and thus expedite resolution of your issues. • Your contract allows you to designate up to 10 authorized users. 

Simply reply to this email with the requested information above. We look forward to hearing from you shortly. 

Best regards, 
Adobe Managed Services


Tim for BPA - 

 Our team consistently informs customers of our BPA tooling, and encourages them to review ways in which they can adhere to best practices well in advance of a move to AEM CS. Our goal is to see how effective our messaging to is to our customers by monitoring deltas in our customers average complexity scores. We also want to ensure our team has access to more recent BPA reports so that we can speak to their complexity during AEM CS discovery and deep dive discussions.



====================================================================
AZURE APP Gateway logs
search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
| search requestUri_s == "/content/dam.assetdownload.zip/Assets.zip"
search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
| where ( httpMethod_s == "POST" )
| where /content/dam/microsoft/rad/surface-fy19-cycle-2-holiday/*
| search requestUri_s == "/content/dam.assetdownload.zip/Assets.zip"
search *
| search "NORDSTROM-PROD-WESTUS2-APPGATEWAYV2"
| where ( Type == "AzureMetrics" )
| where MetricName == "ResponseStatus"
search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
| where ( requestUri_s == "/mnt/overlay/granite/ui/content/shell/header/actions/pulse.data.json" )
search *
| where ( Type == "AzureDiagnostics" )
| where ( httpMethod_s == "GET" )
| where ( httpStatus_d == 404 )
| where ( requestUri_s !contains "128.128.png")
search *
| where ( Type == "AzureDiagnostics" )
| where ( httpMethod_s == "GET" )
| where ( httpStatus_d == 404 )
| where (requestUri_s !contains "128.128.png")
| summarize count() by requestUri_s
search *
| where ( Type == "AzureDiagnostics" )
| where ( httpMethod_s == "GET" )
| where ( httpStatus_d == 401 )
| where (requestUri_s contains "/content/microsoft/rad/home.html/api/entities/query/Definition.Name")
https://docs.microsoft.com/en-us/azure/log-analytics/query-language/search-queries
https://docs.microsoft.com/en-us/azure/log-analytics/query-language/useful-operators?toc=/azure/azure-monitor/toc.json
docs.microsoft.com
Search queries in Log Analytics
This article provides a tutorial for getting started writing search queries in Log Analytics.
docs.microsoft.com
Useful operators in Azure Log Analytics queries
Common functions to use for different scenarios in Log Analytics queries.

https://wiki.corp.adobe.com/display/MSTeam/Azure+Application+Gateway+-+Enhanced+logging


Eg - 

search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
| search host_s == "hillrom-stage1.adobemsbasic.com"
| search userAgent_s == "Mozilla/5.0 (X11; Linux 86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.167 Safari/537.36 CloudManagerTest"




search *
| where Type == "AzureDiagnostics"
| search "ApplicationGatewayAccess"
| search host_s == "author-dynamic-stage2.adobemsbasic.com"



https://nagaseamer-stage1.adobemsbasic.com/content/shop

https://mcstagingus.prinovausa.com


=====================================================================

Matt - 

You enable the Aggregated Usage Statistics Collection setting by following this wiki https://wiki.corp.adobe.com/display/MSTeam/Customer+Name+for+AEM+Analytics

==================================================================

akshay link for java memory parameters for cq5 file

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Performance#Performance-JAVA8withAEM6.1,6.2and6.3(B25andup)

=================================================================

Tim Bonnett [10:15 PM]

daycare links access - 

https://daycare.day.com/home/ticket_tracking0/ticket_tracker_tool.nonav.html?forms_validation=1&FullText=&Status=raised&Status=in_progress&Status=re_opened&Status=more_info_req&Status=on_hold&Status=escalated&Status=fixed&AssignedTo=%2Faccess%2Fusers%2Fsuperuser%2Fdayusers%2Fadobemsbasic&IssueType=%09&PartnerStatus=%09&TechSuppContract=%09&ProdVersion=&DispatcherVersion=&StartTime=&Priorization=yes&Sorting1=%09&Sorting2=%09&Sorting3=%09&Sorting4=%09&Display=ID&Display=Created&Display=LastMod&Display=Assigned&Display=Owner&Display=Title&Display=Severity&Display=SevPrio&Display=Scope&Display=Status&parent=&th

https://daycare.day.com/home/ticket_tracking0/ticket_tracker_tool.nonav.html?forms_validation=1&FullText=&Status=in_progress&Status=escalated&Status=raised&Status=reopened&AssignedTo=%2Faccess%2Fusers%2Fsuperuser%2Fdayusers%2Fadobemsbasic&IssueType=%09&PartnerStatus=%09&TechSuppContract=%09&ProdVersion=&DispatcherVersion=&StartTime=&Priorization=no&Sorting1=LastMod&Sorting2=%09&Sorting3=%09&Sorting4=%09&Display=ID&Display=Created&Display=LastMod&Display=Assigned&Display=Owner&Display=Title&Display=Severity&Display=SevPrio&Display=Scope&Display=Status&parent=&th


==========================================================================

Importance of day care - daycare

Please open a Daycare ticket for all support requests:
By going to Daycare for support, regardless of the nature (network, access, AEM application) you will always be receiving 24x7 ticket routing, of course depending on ticket priority. If the ticket is indeed infrastructure related Daycare will place it in the AMS queue and we will action on it.  In case of a P1 Daycare will follow a defined SOP to get in touch with someone live. Having your tickets in the Daycare system will also allow you to access them directly and reprioritize when necessary.

Thanks for your understanding.


=================================================================

https://helpx.adobe.com/legal/product-descriptions/adobe-experience-manager-managed-services.html#Definitions

Product definitions for load balancer

===================================================================

Content Backflow by Tim - 

we dont own this at all
they are responsible for providing us with the precise cron commands
we are not responsible for it if it breaks
no sla around the utilization of it
no responsible for any performance issues if it tips their production site over
we set no timeline for how long it will take for us to impliment it
anything else i may have missed.



https://wiki.corp.adobe.com/display/MSTeam/Content+Backflow

By JOEL - 

It is available as a "beta" currently, via Bigbear ( see 

https://wiki.corp.adobe.com/display/cemcloud/Automated+Content+Backflow+for+AMS

 and 

 https://wiki.corp.adobe.com/display/cemcloud/Perform+Content+Backflow)

 Check with Abhishek Dwevedi, he is maintaining a list of interested customers, he wants to be involved when they try it out to make sure everything is working properly.

======================================================

Shares -  

https://inside.corp.adobe.com/benefits-wellbeing/retirement-financial/india.html

Additional Resources 
Please review the Retirement and Financial Benefits Page on Inside Adobe for more information on Adobe’s Employee Stock Purchase Program. A short video is also provided for general information on the ESPP program. 
View the details of your Adobe stock purchase plan on E*TRADE by navigating to www.etrade.com/stockplans > Stock Plan > My Account > Stock Plan Confirmations. Please contact E*TRADE for any questions related to your stock plan at 000 800 1008 938.  
 
Please contact the Adobe equity team at equity@adobe.com for any questions related to this change.   
 
Kind Regards, 
Adobe Equity 
 
meetkjain83
normal with 1234

============================================================

Marketing Cloud meeting - 

https://bluejeans.com/playback/s/aGB5RnOQjv9ihJeHgBfKQIiDgW1rtTB9EJNKCQC2ei4HxtsY0TT726Z9ZEClvWxj

===================================
https://wiki.corp.adobe.com/display/MSTeam/AEM+-+Configure+Brand+Portal+Cloud+Service

brand portal link

=============================================================

Scheduled backup - non prod - stage 

0 0 1 ? * SAT *

cron 
====================================================

target isssues

Maria,

Target Support requires that tickets originating from an @adobe.com email are submitted via the following internal form here: https://ark.omniture.com/bat/newIncident.php Please open the ticket using the form specified above. This ticket has been closed.
 
Thank you for your understanding.
 
Mihnea Docea  | Technical Support Rep, Customer Care | Customer & Employee Experience | Adobe | (:: 1 (800) 497-0335 x3 | 8:: docea@adobe.com



Supported users can open a ticket by sending a direct email tt-clientcare@adobe.com If the end user is not supported they can become supported by:

1. Having one of the supported users send in a request to tt-clientcare@adobe.com to make the new user a supported user.

2. Having the account manager open a new ticket requestign that they get set up as a supported user. (That would be done from: https://ark.omniture.com/bat/newIncident.php)

This ticket has been re-archived. Please either have one of the supported users open a new ticket by emailing: tt-clientcare@adobe.com additionally you can open the ticket on behalf of the customer from: https://ark.omniture.com/bat/newIncident.php


=============================================================

Thank you for updating the report into Runbook.
Let us know if you decided when AMS can make those changes on Dispatchers for points 2.5.3 and 2.5.8 and after that the SLA will be officially uphold by Adobe.

Our support to Aimco it is the same that AMS Basic is providing to all Live customers in our portofolio and there isn't any concernn from that perspective.

mihai

================================================================

john Clawson

When closing NR synthetic incidents in ServiceNow and are related to customer deployment, the correct issue caused by selection is scheduled maintenance.  Thanks.

================================================================

derek wiki - app gateway logs & activity - 

https://wiki.corp.adobe.com/display/MSTeam/Azure+AppGW+Logs

=========================================================

AWS S3 sync

Hi Team,
 
During upgrade or upon customer requests we may need to sync up S3 buckets. I have found the following method helpful for faster sync:
aws configure set default.s3.max_concurrent_requests 100 
aws s3 --profile bpbuX --region <region> sync s3://<source bucket> s3://<Destination bucket>
 
Hope this helps.
 
Note: Run all commands on Linux “Screen” . For further help on screen visit [0].
I was able to sync 100Gb in 45mins for 2 buckets in the same region with m4.xlarge instance and concurrent requests set to 250.
 
[0]: https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/
 
Reference: https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1444265139

Apologies for the weird formatting. Forgot to mention one important part i.e. Cloudwatch storage metrics for S3 buckets updated only once in a day so you won’t be able to see the increased size of your S3 bucket after sync. You can use the following command to get the current status of bucket:
 
aws --profile=BPBUx s3 ls s3://bucketname --recursive --human-readable --summarize

aws --profile=bpbu18 s3 ls s3://thoughtworks-stage1 --recursive --human-readable --summarize


aws s3 --profile prod-bpbu17-useast1 ls s3://fleetcor-stage

S3-SYNC-Test-machine

Download AWSCLI - 


New Steps - 

$ curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install


https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html



curl "https://s3.amazonaws.com/aws-cli/awscli-bundle.zip" -o "awscli-bundle.zip"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 11.8M  100 11.8M    0     0  6175k      0  0:00:01  0:00:01 --:--:-- 6174k
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ 
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ 


root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ unzip awscli-bundle.zip
Archive:  awscli-bundle.zip
  inflating: awscli-bundle/install   

  root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws
Running cmd: /bin/python virtualenv.py --no-download --python /bin/python /usr/local/aws
Running cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///root/awscli-bundle/packages/setup setuptools_scm-1.15.7.tar.gz
Running cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///root/awscli-bundle/packages awscli-1.16.218.tar.gz
You can now run: /usr/local/bin/aws --version
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ 
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ 

root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ aws --version
aws-cli/1.16.218 Python/2.7.5 Linux/3.10.0-862.14.4.el7.x86_64 botocore/1.12.208
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ 

root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ aws configure --profile bpbu18
AWS Access Key ID [None]: AKIA4WLLFF75CEAWVFET
AWS Secret Access Key [None]: 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
Default region name [None]: 
Default output format [None]: 
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ 
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~ 


aws configure set default.s3.max_concurrent_requests 100 

aws s3 --profile bpbu18 --region eu-central-1 ls s3://nskeuropeltd-qa --recursive --human-readable --summarize


nohup aws s3 --profile bpbu18 --region eu-central-1 sync s3://nskeuropeltd-qa s3://nskeuropeltd-dev1 >> /tmp/s3migrationlogs &
[1] 5878
root@nskeuropeltd-dev-daycare188558-author1eucentral1-clone:~


nohup aws s3 --profile bpbu17 --region us-west-2 sync s3://expedia-prod1 s3://expedia-prod2 >> /tmp/s3migrationlogs &

nohup aws s3 --profile bpbu17 --region ca-central-1 sync s3://brp-prod s3://brp-prod-aemaacs >> /tmp/s3migrationlogs &

aws s3 --profile bpbu --region us-west-2 sync s3://torrid-prod s3://torrid-stage2-new


nohup aws s3 --profile bpbu17 --region us-west-2 sync s3://torrid-prod s3://torrid-stage3 >> /tmp/s3migrationlogs &

nohup aws s3 --profile bpbu17 --region us-west-2 ls s3://torrid-stage3 --recursive --human-readable --summarize >> /tmp/torrid-stage3-stats &

nohup aws s3 --profile bpbu17 --region us-west-2 ls s3://torrid-prod --recursive --human-readable --summarize >> /tmp/torrid-prod-stats &

BPBU17

AKIAT3MNUNCKMPBKBBFB
Nkcj1/H+krqRJJofGXeDDFoImWSGSQ6Uy/4+GOK/


nohup aws s3 --profile bpbu17 --region us-west-2 sync s3://newrelic-prod1 s3://newrelic-prod1-aemaacs >> /tmp/s3migrationlogs &

BPBU18

AKIA4WLLFF75I7W5JS7S
W/0fKYQOxX3+lEke/Y+Ou1YMJPTQoomFtZxcvUkB

BPBU10

AKIAYVFKPNMXXAAHQ3HP
wx7Px6Cf8+ustFlKoqF9DQFHGtlANSMY/L1Z+9Ty


root@ncrcorporation-stage2-author1useast1:/home/meejain cat credentials 
[bpbu17]
aws_access_key_id = AKIAT3MNUNCKOD5VGLHY
aws_secret_access_key = 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
root@ncrcorporation-stage2-author1useast1:/home/meejain 


aws s3 --profile bpbu17 --region us-west-2 ls s3://expedia-prod1 --recursive --human-readable --summarize

nohup aws s3 --profile bpbu17 --region us-east-1 ls s3://bmc-stage-new --recursive --human-readable --summarize >> /tmp/stages3size &

how to delete objects inside the S3 bucket - 

https://docs.aws.amazon.com/AmazonS3/latest/dev/delete-or-empty-bucket.html#empty-bucket-awscli


https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html


meejain@Meets-MacBook-Pro ~ % aws ec2 --profile bpbu17 --region us-west-2 create-managed-prefix-list \
    --address-family IPv4 \
    --max-entries 200 \
    --entries Cidr=10.0.0.0/16,Description=vpc-a Cidr=10.2.0.0/16,Description=vpc-b \
    --prefix-list-name CM-AssetPerfTest-MSFT-USEast-IPs
    --current-version 13052021


aws ec2 --profile bpbu17 --region us-west-2 get-managed-prefix-list-entries \
    --prefix-list-id pl-09787c399c58d5e9b



meejain@Meets-MacBook-Pro ~ % aws ec2 --profile bpbu17 --region us-west-2 get-managed-prefix-list-entries \
    --prefix-list-id pl-09787c399c58d5e9b
{
    "Entries": [
        {
            "Cidr": "10.0.0.0/16",
            "Description": "vpc-a"
        },
        {
            "Cidr": "10.2.0.0/16",
            "Description": "vpc-b"
        }
    ]
}
meejain@Meets-MacBook-Pro ~ % 





================================================================
 


tim

714293-3058

r"SZ+_hj`nu<V7K'

r"SZ+_hj`nu<V7K'

s7 password for adobemsbasic

r"SZ+_hj`nu<V7K'

r"SZ+_hj`nu<V7K'

=======================================================

Conference Code: 3387493589
Owner Number: 93274102
Leader PIN: 796085
DELETE



for elkay

================================================
splunk
dynamic media s7 email

root@bmwag-prod-author1eucentral1:/etc/sysconfig grep -i dynamic cq5
CRX_OPTS="-r author,prod,crx3tar-nofds,dynamicmedia_scene7  -r nosamplecontent -nofork -nobrowser"
root@bmwag-prod-author1eucentral1:/etc/sysconfig 

you can go to /is/image url of that instance



received from: s7support@adobe.com

Dear AdobeMsbasic MS Basic,

Welcome to Adobe Scene7, the industry-leading hosted cross media platform for managing, enhancing and delivering dynamic, rich content to any channel – web, print, email, and mobile. We are committed to delivering superior solutions, services and support for all of your on-going rich media initiatives.

Getting Started Resources: We provide a broad array of self-serve help and support materials to get started with Adobe Scene7 – available to you on login: 
Watch getting started video tutorials [http://microsite.omniture.com/t2/help/en_US/home/index.html#Scene7] or look for the video tutorials in the upper-right corner of different screens.
Review the Getting Started Help [http://help.adobe.com/en_US/Scene7/4.0/WS5CA9360D-8841-4f0e-B1C2-59523E813C83.html] section providing the basics of the platform, navigation, setup, user and group setup, asset management, and building rich media.
Check out the Imaging Best Practices [http://help.adobe.com/en_US/scene7/using/WS249d0d693fdd1490-5931ca1b142b5608194-8000.html] section with information about how to get started optimizing image quality with Scene7.

Technical support is available at your convenience: 
US: Monday – Friday, 6:00 AM to 6:00 PM Pacific Time, 800-898-9743 (toll-free in US) or 415-884-9910. Email us at s7support@adobe.com [mailto:s7support@adobe.com].
Europe/UK: Monday – Friday, 0900 to 1800 London Time, +44 (0) 20 8150 6563. Email us at s7intsupport@adobe.com [mailto:s7intsupport@adobe.com].

Consulting services are available to help you get the most out of the Adobe Scene7 platform. The consulting team can help you with everything from defining a workflow to meet your specific needs to guidance on advanced Adobe Scene7 features and development of custom solutions such as workflow automation, custom Adobe Scene7 viewers, and complete rich Internet application development. Please contact your sales account representative for more information, or email us at s7consulting@adobe.com..

Below please find your Adobe Scene7 account and sign in information. As a company administrator, you will also find additional information on your set up process.

Once again, welcome to Adobe Scene7!

Adobe Scene7 Team
Adobe Systems Incorporated
www.adobe.com/products/scene7

Your Account Information

Adobe Scene7 account: portaldemodm

Sign in URL for Scene7 Publishing System:
https://s7sps1.scene7.com/IpsWeb/
We recommend that you bookmark this web page for quick access.

User name and temporary password:
Name: AdobeMsbasic MS Basic
User name (email address): adobemsbasic@adobe.com
Temporary password: a7SmZzrA_
User role: Company Administrator
On initial sign-in, you will be prompted to change your password.

Scene7 FTP account: The Scene7 FTP Server is available for batch uploading of large numbers of assets (including folder hierarchies). Your Scene7 FTP Server account has been set up for this purpose.
Server: ftp://s7ftp1.scene7.com
User Name: portaldemodm
Password: See your company admin for password

Adobe Scene7 Image Server name: When your content is uploaded and published using SPS, you will serve your Scene7 rich media through URL calls to Scene7 Image Servers. These URL calls use a server name specific to your account:
CDN: http://s7d2.scene7.com/

Adobe Scene7 Media Portal: 
Adobe Scene7 Media Portal account: portaldemodm
Sign in URL for Scene7 Media Portal:
https://s7sps1.scene7.com/MediaPortal/ 
We recommend that you bookmark this web page for quick access.

(Note: User name and password for Media Portal admin are the same as SPS credentials.)

Getting started with Adobe Scene7 Publishing System (SPS) account setup:

As an SPS administrator, you will need to complete the following basic setup tasks to get started with Adobe Scene7. Please reference the Getting Started [http://help.adobe.com/en_US/Scene7/4.0/WS5CA9360D-8841-4f0e-B1C2-59523E813C83.html] and Setup chapters in online help for more information.

1. Add users and groups: In the Setup admin panel, you can add users and define groups to set file/folder permissions on the User & Group Management screen. Each new user will receive a Welcome email with sign in information.

2. Define Image Presets and Viewer Presets: Click the Setup button, select Application Setup on the Setup screen, and examine the Adobe Scene7-provided Image Presets and Viewer Presets. Image Presets are defaults for displaying master images at different sizes; Viewer Presets determine how your rich media viewers appear and behave. In Setup, you can change company default presets or create your own. In Export Settings, you have the option to define approved export formats ("presets") and access to original master files. 

Getting started with Adobe Scene7 Media Portal (MP) account setup:

As a Media Portal administrator, you will need to complete the following basic setup tasks to get started. Please reference the online help for more information. 

1. Add users and groups: In the admin panel, you can add users and define groups to set file/folder permissions on the User & Group Management screen. Each new user will receive a Welcome email with sign in information.

2. Define Image Presets: In Export Settings, you have the options to define approved export formats ("presets") and access to original master files for portal users. 

3. Define custom metadata: In Export Settings, you have the option to define custom metadata fields for assets within your portal.

Adobe, the Adobe logo, and Scene7 are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries. All other trademarks are the property of their respective owners.

© 2012 Adobe Systems Incorporated. All rights reserved.

==========================

URLs's for S7:

yes for north America: https://s7sps1.scene7.com/IpsWeb/IpsWeb.jsp

Meet Kumar Jain [4:59 AM]
?

Anubha . [5:00 AM]
emea: https://s7sps3.scene7.com/IpsWeb/IpsWeb.jsp
apac: https://s7sps5.scene7.com/IpsWeb/IpsWeb.jsp




66.235.153.97/32, 66.235.153.98/32, 66.235.143.38/32, 66.235.141.173/32, 66.235.153.99/32, 192.243.237.86/32
 
 
[1] https://wiki.corp.adobe.com/display/MSTeam/Dynamic+Media+Configurations

Dynamic media classic - > 

https://experienceleague.adobe.com/docs/experience-manager-65/administering/integration/scene7.html?lang=en#aem-scene-integration-versus-dynamic-media

=============================================================================

dynamic media, s7 and brand portal explanation:

Hi,
 
Here is info which should help:
 
S7/Dynamic Media
 
Adobe Scene7 is a hosted solution for managing, enhancing, publishing, and delivering rich media assets to Web, mobile, email, and Internet-connected displays and print. To use Scene7, you need to configure the cloud configuration so that Scene7 and AEM Assets can interact with one another.
AEM users have a choice between two solutions to work with dynamic media: Either integrating their instance of AEM with Scene7 or using the Dynamic Media solution that is integrated into AEM. Use the following criteria to determine which solution to choose:
If you are an existing Scene7 customer whose rich media assets reside in S7 for publishing and delivery, but you want to integrate those assets with Sites (WCM) authoring and/or AEM Assets  for management, then use the AEM/Scene7 point-to-point integration described in this document.
Scene7 Connector (S7Connect) - refers to the S7 cloud service integration with AEM whereby assets can be automatically published to S7 and S7 assets can be browsed for page authoring in Sites.
If you are a new AEM customer who has rich media delivery needs, select the Dynamic Media option. This option makes the most sense if you do not have an existing S7 account and many assets stored in that system.
Dynamic Media Hybrid (DMHybrid) - refers to the architecture whereby the image server is embedded in AEM and images are hybrid-published via replication agent.
Dynamic Media S7 (DMS7) - refers to the new architecture where S7 features are accessible within AEM UI but referencing assets remotely managed and delivered by S7. All asset processing, renditions, automation and delivery are handled by S7.
In certain cases, you may want to use both solutions. The dual-use scenario describes that scenario. 
 
Refer [0] for more detailed overview.  Also found two useful info links at [1] and [2]
 
Brand Portal
 
Its primarily use case is around asset distribution with additional features as highlighted in [3].
 
With above info and links hope it would help understand which solution to propose to customers based on specific use cases and feature set.
 
Thanks,
Gaurav Jain | Quality Engineering Manager, Adobe Experience Manager | gaujain@adobe.com| Ext: 33470
 
[0] https://helpx.adobe.com/in/experience-manager/6-4/sites/administering/using/scene7.html
[1] http://exploreadobe.com/dynamic-media-upgrade/faq.html
[2] https://helpx.adobe.com/legal/product-descriptions/adobe-dynamic-media-classic.html
[3] https://helpx.adobe.com/experience-manager/brand-portal/using/brand-portal.html

https://Ip of server/is/image

#S7Z OK
#Wed Jul 04 09:59:23 UTC 2018
copyright=Copyright (c) 2001-2017 Adobe Systems Incorporated. All rights reserved.

===================================================================================


Top output:

run script with the --timing option:

script --timing=top.timing topscript

execute the top command, let it run as long as you want

exit top using q or control-c.

exit the script session with control-D (EOF) or by typing exit

run scriptreplay to replay the script:

scriptreplay top.timing topscript

==============================================================
Kindly keep the tag name and value both as “Keep2019Q1”
==========================================================

Cloud manager template - 


Dear Firstrand Bank Limited Team,

Welcome to Adobe Managed Services! We would like to meet with you and your AEM customiser (integration partner or the team implementing the project) to introduce Cloud Manager which enables organizations to self-manage Experience Manager in the cloud. It includes a continuous integration and continuous delivery (CI/CD) framework that lets IT teams and implementation partners expedite the delivery of customizations or updates without compromising performance or security.

Below is the URL for information on the same. 

https://helpx.adobe.com/experience-manager/cloud-manager/user-guide.html



Could you propose a couple time slots that would work for you and your team? We will need about an hour to cover the materials. To respond, simply reply to this email. We look forward to speaking with you soon!

 

Regards,

Meet Kumar Jain

Adobe Managed Services






Cloud manager

https://docs.adobe.com/content/help/en/experience-manager-cloud-manager/using/getting-started/setting-up-program.html

set up program above 



errors Cloud Manager - 

1) fatal: unable to access 'https://git.cloudmanager.adobe.com/pacificlifersd/pacificlifersd/': SSL certificate problem: unable to get local issuer certificate. 

https://stackoverflow.com/questions/23885449/unable-to-resolve-unable-to-get-local-issuer-certificate-using-git-on-windows


==========================

https://adobe-my.sharepoint.com/:x:/r/personal/kynaston_adobe_com/ger_layouts/15/Doc.aspx?sourcedoc=%7B4780053e-09d4-469e-a7f2-57053a5b9d7a%7D&action=default

https://helpx.adobe.com/experience-manager/cloud-manager/user-guide.html


http://sj1010010247071.corp.adobe.com:3000/weretail/programs.html


https://helpx.adobe.com/experience-manager/cloud-manager/using/understand-your-test-results.html
(where customer can download the sonar rules and check if they can supporess CM issues)

https://wiki.corp.adobe.com/display/MSTeam/Cloud+Manager+-+Things+Left+to+Do - Tim session


meetings:


1) What is vsts?
2) 

=====================================================
Dynamic Media and S7 migration

Upgrade/Migration Program Guide:
https://wiki.corp.adobe.com/display/AdobeDAM/Dynamic+Media+Upgrade+Program+Guide

Technical Steps & Documentation:
https://wiki.corp.adobe.com/display/AdobeDAM/DMC-DM+Migration+Steps

Client Facing Page:
http://exploreadobe.com/dynamic-media-upgrade/


=========================================================

change the time zone - 

https://kerneltalks.com/howto/how-to-change-timezone-in-linux-server/

=======================================================s

EXCELLENT  EMAIL explaining the customer

Hi Mr. Takeomi, 

Thank you for the great phone conversation we had ! 
In this moment you should be able to access your stage and production infrastructure using the following links: 

For stage: 
https://ctc-stage.adobemsbasic.com 
https://author-ctc-stage.adobemsbasic.com 

For production: 
https://ctc-prod.adobemsbasic.com 
https://author-ctc-prod.adobemsbasic.com 

These URLs are publicly available and they do not point directly to the machines but there is a LoadBalancer in front which is forwarding the traffic to the corresponding machine. 

It is possible to access the machines in the stage and production topologies, directly but for that we have to permit this access in our security system. 
To enable your access to the individual machines, please provide me your egress ip address from where the access will be initiated and I will configure the firewall rules to permit connections from that specific address. 

To findout your egress ip address, simply access the next url . and provide me the out put: 
https://whatismyipaddress.com/ 

After I will enable access, you will have access to the following links: 

Production: 
Author Console: https://13.115.90.94/libs/granite/core/content/login.HTML 
Publisher Console: https://13.230.5.87/libs/granite/core/content/login.html 

Stage: 
Author Console: https://13.113.204.54/libs/granite/core/content/login.html 
Publisher Console: https://54.65.46.24/libs/granite/core/content/login.html 

and also to perform ssh on all your machines, like in the next example: 

stage author: ssh 13.113.204.54 
stage dispatcher: ssh 54.64.140.220 
stage publisher: ssh 54.65.46.24 

and 
prod author: ssh 13.115.90.94 
prod dispatcher: ssh 13.115.202.214 
prod publisher: ssh 13.230.5.87 

If you need further help, please provide a time frame so that we can meet online and discuss in real-time about how to fix these issues and I will also send the meeting invite. 
Please provide me a list of other engineers who should be also invited. 

I am looking forward for your update. 

Ștefan 

==================================================

My Meeting ID: 660 453 3518

https://adobe.bluejeans.com/6604533518


Adobe conference room: *02 plus the meeting ID 6604533518

Non-Adobe conference room: Dial bjn.vc or 199.48.152.152 and enter the meeting ID followed by #
Screen share only: https://bluejeans.com/6604533518/share

Phone: Dial a number from http://bluejeans.com/numbers and enter the meeting ID followed by #

Regards, 

Meet Kumar Jain
Adobe Managed Services





To join the meeting on a computer or mobile phone: https://bluejeans.com/3853452792?src=calendarLink



Adobe conference room: *02 plus the meeting ID 3853452792
Non-Adobe conference room: Dial bjn.vc or 199.48.152.152 and enter the meeting ID followed by #
Screen share only: https://bluejeans.com/3853452792/share
Phone: Dial a number from http://bluejeans.com/numbers and enter the meeting ID followed by #


===========================================
https://www.cosco.in/health-fitness-details/domestic/motorised-treadmills/run-series/run-10-treadmill
https://www.powermaxfitness.net/treadmill/maxtrek-series-dc-motorised-treadmills/tda-230m-multifunction-motorized-treadmill-with-auto-lubrication-pd-464.html
https://www.amazon.in/Powermax-Fitness-TDA-230-Inclination-Lubrication/dp/B01N4J4YO6/ref=as_li_ss_tl?_encoding=UTF8&psc=1&refRID=2NHSTVYXFS0HTAX6MA85&linkCode=sl1&tag=allrasoi-21&linkId=1c1dd4c745b0d4c4e46b31fd2b8df1c5

https://www.powermaxfitness.net/treadmill/maxtrek-series-dc-motorised-treadmills/tdm-100m-semi-auto-lubrication-multifunction-treadmill-pd-29.html

https://www.amazon.in/Powermax-Fitness-TDA-230-Semi-Auto-Lubrication/dp/B01N4J4YO6/ref=as_li_ss_tl?SubscriptionId=AKIAJVYF2RCLSDFQOJZA&linkCode=sl1&tag=bestproduc079-21&linkId=b993213e628df9ff8d6e085baf75de24&language=en_IN#customerReviews

=================================================

the DR# for BMW Corporate Analytics contract is DR1049235





=========================================================
dns

http://qnimate.com/pointing-domain-to-aws-elastic-load-balancing/

================================================

https://status.aws.amazon.com/

==================================================

My adobe connect details:

https://my.adobeconnect.com/meetkjain

Conference code: 
8284986306 

Leader PIN: 
285882

==========================================================
https://wiki.corp.adobe.com/display/cemcloud/Upgrade+AEM

in place upgrade

=====================================================
vanity URL's

https://helpx.adobe.com/experience-manager/dispatcher/using/dispatcher-configuration.html#EnablingAccesstoVanityURLsvanityurls


Update size of Vanity Bloom Filter and rebuild the Vanity bloom filter [1]
Go to /system/console/configMgr and locate Apache Sling Resource Resolver Factory
Increase the size of "Maximum number of vanity bloom filter bytes" from 1024000 to 10240000
Now find the bundle ID of org.apache.sling.resourceresolver bundle
Stop AEM
Go to the crx-quickstart/launchpad/felix/bundle<ID>/data/vanityBloomFilter.txt
Delete the vanityBloomFilter.txt
Start AEM
Once AEM start, reindex /oak:index/slingVanityPath by going to /oak:index/slingVanityPath in crx/de and setting the property reindex from false to true
Once the reindex finishes, test that the vanity URL's such as /sites.html work


Vanity URLs - reindex vanity index path but this to me made after Offline Tar Compaction.

Reindex - 

https://experienceleague.adobe.com/docs/experience-manager-65/deploying/deploying/oak-run-indexing-usecases.html?lang=en#usecase3reindexing

==============================================================
https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=AEM+Troubleshooting+Dispatcher+Client+Headers

Client headers troubleshooting by larry

================================================================

https://wiki.corp.adobe.com/display/MSTeam/New+Relic+Extension+installation

Newrelic installation wiki
=======================================================

sp-support@adobe.com

search & promote
============================================
https://nagios-ams.or1.goc.adobe.net
nagios new URL

=========================================

Cloud Manager email templates

Hello Tim and Peter,
 
Thanks for joining the cloud manager call this afternoon. As a follow up, I wanted to request that you provide the following information for our onboarding team. 

Users (name and email address) who need access to your adobe provided Git Repo. Limited to 3 users.
Users who will need access to the cloud manager UI, and the roles that they fall into.
https://helpx.adobe.com/experience-manager/cloud-manager/using/security-and-privacy.html
 
 
Here are some additional resources for you to review on Cloud Manager and its implementation.
User Manual
https://helpx.adobe.com/experience-manager/cloud-manager/user-guide.html
Public Webinar
https://my.adobeconnect.com/pexzc3t3ctjx
 
Thanks Again,
Tim

========================================================

Quarterly meeting with customers


Hello, Team!

We at Adobe Managed Services would like to have a quarterly check-in meeting with you. We would love to hear how your experience with Adobe Managed Services and AEM is going now that you have gone live on the platform. We can also use the time to help with any issues you might be having or at least show you the right direction to make sure you are getting any help you need.

Please let us know of a time in the next few weeks that we could meet for 30 min.s7


Regards, 

Meet Kumar Jain
Adobe Managed Services


next email:


Good morning, Laura

I was just following up with you and wanted to know how things are going and if there is anything that Adobe Managed Services can do to assist your project.
Let me know if there are any issues or concerns.

Hope you have a fantastic day,

Regards, 

Meet Kumar Jain
Adobe Managed Services

=====================================================================
azure penetration test / security test

For customers to do a security test on Azure we do not need a formal request.
All we need to do is tell the customer that they need to follow the rules of engagement listed on this MS page:
 
https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement?rtc=1
 

 ===================================================================
 sudo -u crx /usr/java/latest/bin/jstack -l $(jps | grep -v Jps | awk '{print $1}') | grep GET | awk '{print $4}' | sort | uniq -c | sort -release-notes

 sudo -u crx /usr/java/latest/bin/jstack -l $(jps | grep -v Jps | awk '{print $1}') | awk '{print $4}' | sort | uniq -c | sort -rn

 sudo -u crx /usr/java/latest/bin/jstack -l $(jps | grep -v Jps | awk '{print $1}') | grep GET | awk '{print $4}' | sort | uniq -c | sort -rn

 Tim's command - 
 for getting max. requests on pubs

 =====================================================================

 Tommy splunk query - 

 Hey Brad,
 
You can use this Splunk search query to get the BPA result. If you only want to get the result of one host, please add “host=” .
 
index=ams_cq com.adobe.cq.patterndetector.reporter.core.impl.PatternDetectorReaderTask | rex field=_raw "\"code\":\"(?<code>.*)\",\"type\":\"(?<type>.*)\",\"subtype\":\"(?<subtype>.*)\",\"importance\":\"(?<importance>.*)\",\"identifier\":\"(?<identifier>.*)\",\"message\":\"(?<message>.*)\",\"context\":\"(?<context>.*)\""
 
Thanks,
Tommy



Hey David,
 
The BPA report is held in memory(lost if restarted, reinstalled) and is valid for 24-hrs by default before it must be refreshed.
 
I think there should a way to extend the default lifetime(24 hours), but I need to confirm with the BPA developer.
 
I personally don’t suggest extending the default lifetime because the report will be lost with restart or reinstall even we extend the lifetime.
 
I see 3 options to get the report for now,
As you mentioned, export to csv file.
The report is stored in error.log and uploaded to Splunk. I can share with you the Splunk query if you need.
Regenerate the report according to the steps documented in https://wiki.corp.adobe.com/display/WEM/How+to+access+BPA+Report .  
 
Please feel free to let me know if you choose to extend the default lifetime(24 hours). I will talk to BPA developer and back to you.
 
Thanks,
Tommy

===========================================================================

Venu,
This is working as intended.
The way to resolve this is to create a DNS entry for example: author.goaem.kp.com or something similar.  You will then need to get a new SSL Cert that contains the new url.  Then you would point the SAML configuration to that URL so it is covered in you SSL.

If we change back to the cert that is valid for adobemsbasic.com you will not longer be using your goaem.kp.com ssl cert.

You could also open the /saml_login up so goaem.kp.com/saml_login is valid but sometimes that does not meet security standards of different organizations.

Please let me know if you have any questions about this.

Larry Raab


certificate issue 



https://www.cscglobal.com/cscglobal/pdfs/Certificate-Installation.pdf

steps to install the Certs 

======================================================================
Hello Team,
 
    As you are aware, customers sometimes ask us to install certain packages or 3rd party applications that are not OTB AMS AEM. Brad has informed me of a new process that he is trying to formalize that describes how we are to request approval. Please review the wiki link, and reach out to me if you have any questions. Please note, Brad and his team require 5 business days to process.
 
 
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1451662978
 
 In case customer ask to install any 3rd party package
 ======================================================================
CHG0036171 - dynatrace

=============================================
 aem6.4

 http://18.208.81.114:4502/content/ams/healthcheck/regent.html

 https://wiki.corp.adobe.com/display/MSTeam/Fix+author+login+clientlibs+whitelist

 the place to download the package


 ======================================================

 delete customer 
 remove instances

https://wiki.corp.adobe.com/display/MSTeam/How+to+Delete+a+Customer+Topology
 ======================================================

 https://docs.microsoft.com/en-us/azure/security/azure-security-pen-testing

 PEN Test - azure

 ======================================================

 https://helpx.adobe.com/legal/product-descriptions/adobe-experience-manager-managed-services.html
 Storage details while provisioning the new customer

 ========================================================

 knowledge sharing on Service Now:

 Knowledge > AEM > Troubleshooting > Stuck replication agent

https://helpx.adobe.com/experience-manager/kb/replication-stuck.html

 ================================================

 Red - Need a push (50% uplift)

Yellow - Planning, but don't have ETA yet

Green - Have a plan and ETA

Purple - Completed

Black - Dead accounts

Blue - Out of compliance but paying fee or otherwise excused

===================================================

 My default dispatcher config is very restricted, it's a block all and allow individually for security purposes. 

To allow access to OSGI console you should see something like this in the dispatcher.any:
# /0013 { /type "allow" /url "/system/*" } # allow OSGi console

If it's commented you can uncomment, restart apache and test. That should do the trick. 

to allow system/console after the author URL 
=================================================================

To view SLA. 
There are some tips if Marketing Cloud are not displaying data correctly and using this will show your SLA.

Use below URL and change the Year and Month on which SLA report month you need. Below I checked it for January.
https://bmc.marketing.adobe.com/content/mac/bmc/managedservices/sla.html?yyyy-MM=2018-01&refreshCache=true

Example : - for December use yyyy-MM=2017-12&refreshCache=true 

2. As per Monitoring alerts , on Prod Publishers, for 5th and 6th of February, no alerts triggered. This can be on the fact that as shown previous in this ticket, Threads were Runnable and locking the same resource of custom code and CPU Load or JVM Memory it isn't mandatory to trigger and neither the thread number alert if the requests are not filling up the threads allocated. 
ELB Alert is one of the alerts that are pointing directly into a Dispatcher-Publisher pair that may have issues.
AMS monitoring team is working constantly to develop further checks to improve our awareness and response time and we'll increase diligence on alert checks and notification from AMS side to our customers.


Please let us know if Marketing Cloud SLA and monitoring access it is ok with above mentions.


================================================================
stefan reported the new relic issue - 

During a nagios incident reported by GOC, AEM instance running on the production author had to be restarted.
The instance stopped but was not able to start again.
During my investigations I've found out that customer new-relic agent was configured into the /etc/sysconfig/cq5 file and pointing to an invalid location.
To have the instance starting up, cq5 configuration file had to be corrected as described:
 
 
Wrong content of the /etc/sysconfig/cq5 file:
-------------------------------------------------------------

Ip block - dispatcher

root@fortinet-stage1-dispatcher1uswest1:/etc/httpd/conf.d cat block-offending-ips.conf 
<LocationMatch "/.*">
Order Allow,Deny
Allow from all
SetEnvif X-Forwarded-For "157\.119\.204\.221" DenyAccess
#repeat the SetEnvlf X-Forwarded-For ... for each IP you want to block
Deny from env=DenyAccess 
</LocationMatch>


https://helpx.adobe.com/experience-manager/kb/block-ips-apache-http-server.html


Here is what are the latest / tested steps - 

1) Disable Remote IP module by commenting the LoadModule remoteip_module

root@lambweston-prod1-dispatcher1useast1:~ grep remote /etc/httpd/conf.modules.d/00-base.conf
#LoadModule remoteip_module modules/mod_remoteip.so
root@lambweston-prod1-dispatcher1useast1:~

2) Change the Log Format file with the format below - 

LogFormat "%{X-Forwarded-For}i %a \"%{Host}i\" %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined

root@lambweston-prod1-dispatcher1useast1:~ cat /etc/httpd/conf.d/logformat.conf
## Logging format to capture the Host requested, and the referer to assure we get direct requests IP and proxied requests proper public	addresses in our log entries of	the access_log
<IfModule log_config_module>
#        LogFormat "%h %a \"%{Host}i\" %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%{X-Forwarded-For}i %a \"%{Host}i\" %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
</IfModule>
root@lambweston-prod1-dispatcher1useast1:~


3) Create a file block-offending-ips.conf under /etc/httpd/conf.d & update it with the content below - 

root@lambweston-prod1-dispatcher1useast1:/etc/httpd/conf.d cat block-offending-ips.conf 
<LocationMatch "/.*">
Order Allow,Deny
Allow from all
SetEnvif X-Forwarded-For "122\.161\.50\.167" DenyAccess
SetEnvif X-Forwarded-For "89\.38\.224\.104" DenyAccess
#repeat the SetEnvlf X-Forwarded-For ... for each IP you want to block
Deny from env=DenyAccess 
</LocationMatch>
root@lambweston-prod1-dispatcher1useast1:

You may add as many IP's in this file & restart httpd. 

Hope the above helps. Please keep us posted in case of any further issues. 


===============================================================
RENGA_OPT=
#NEW_RELIC_JAVA_OPTS="-javaagent:/opt/newrelic/newrelic.jar"
ROOT=/mnt/crx
CRX_USER=crx
CQ_HEAP_MIN=4096m
CQ_HEAP_MAX=4096m
CQ_PERMGEN=
CQ_PERMGEN_MAX=
JAVA_IO_TMP_DIR=/mnt/tmp
TIMEOUT=240
CRX_OPTS="-r author,prod  -r nosamplecontent -nofork -nobrowser"
CQ_JAVA_OPTS="${NEW_RELIC_JAVA_OPTS} -server -Djava.awt.headless=true -Djava.io.tmpdir=${JAVA_IO_TMP_DIR} -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=${JAVA_IO_TMP_DIR} -XX:NewRatio=1 -XX:+UseConcMarkSweepGC -XX:MaxMetaspaceSize=1024m -XX:ParallelGCThreads=2 -Djackrabbit.maxQueuedEvents=1000000 -Doak.segmentNodeStore.commitFairLock=true -javaagent:/mnt/crx/author/newrelic/newrelic.jar -Dnewrelic.environment=production"
CQ_AUTHOR=author
CQ_PUBLISH=publish
CQ_DISPATCHER=dispatcher
# CQ5 services running on this node
R_DISPATCHER=0
R_AUTHOR=1
R_PUBLISH=0
 
 
 
must be replaced by:
 
Correct content of the /etc/sysconfig/cq5 file:
--------------------------------------------------------------------
RENGA_OPT=
#NEW_RELIC_JAVA_OPTS="-javaagent:/opt/newrelic/newrelic.jar"
ROOT=/mnt/crx
CRX_USER=crx
CQ_HEAP_MIN=4096m
CQ_HEAP_MAX=4096m
CQ_PERMGEN=
CQ_PERMGEN_MAX=
JAVA_IO_TMP_DIR=/mnt/tmp
TIMEOUT=240
CRX_OPTS="-r author,prod  -r nosamplecontent -nofork -nobrowser"
CQ_JAVA_OPTS="${NEW_RELIC_JAVA_OPTS} -server -Djava.awt.headless=true -Djava.io.tmpdir=${JAVA_IO_TMP_DIR} -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=${JAVA_IO_TMP_DIR} -XX:NewRatio=1 -XX:+UseConcMarkSweepGC -XX:MaxMetaspaceSize=1024m -XX:ParallelGCThreads=2 -Djackrabbit.maxQueuedEvents=1000000 -Doak.segmentNodeStore.commitFairLock=true "
CQ_AUTHOR=author
CQ_PUBLISH=publish
CQ_DISPATCHER=dispatcher
# CQ5 services running on this node
R_DISPATCHER=0
R_AUTHOR=1
R_PUBLISH=0
 
The delta between the two files is:
-----------------------------------------------
-javaagent:/mnt/crx/author/newrelic/newrelic.jar -Dnewrelic.environment=production
 
Via INC0274187   I am asking customer about their current newrelic status but no reply has been received so far.
Via CHG0038077, I am tracking this update on all customers’ aem instance
 



 ==============================================================================================================
reply to customer :

 Not everything that Amazon offers has been vetted by Adobe to be used in our managed services offerings.
 =======================================================================

Hi team,
 
Today there were issues with disk space on Tods Production Publishers. They have custom logs as big as 30GB and that because they set LOG LEVEL on DEBUG.
 
Basic customer have full access to AEM configuration and they can set DEBUG as Log Level on their AEMs and this is not the best practice on Production and it even on Stage it is recommended for short period of times.
When we are troubleshooting disk space issues and logs are huge, go to /system/console/slinglog of AEM and see what is the setup for their logs.
If there is a chance that disk will remain out of space, change log level to INFO and inform customer that this change was made.
 
Regards,
Mihai


=================================================================================
Marketing portal 

MC portal

Pratik Piyush Panchal <ppanchal@adobe.com>
David Wagner <dwagner@adobe.com>
Subrahmanya Giliyaru <giliyaru@adobe.com>

==================================================================

eam,

The CERT that is on your STAGE ELB expired last October.

[cid:image001.png@01D3AC94.61EBFFB0]

This is a security risk.  Please obtain an new cert for stage or add the stage DNS to the PROD SSL cert and we can update both of them.
Please once you have the new cert 	
Please include the following:

 1.  Private key
 2.  Cert
 3.  Any chain cert.

Thank you and please let us know if you have any questions.

Larry Raab
Jr. Customer Success Engineer


Once you have the CSR file and you submit it to get the cert you can use those files where ever.  Once you have the cert files on the AMS host we will go in and covert it to the format that the ELBs use which is PEM.

Larry Raab

=====================================================

for a in `cat file1a` ; do eccid=`echo $a | awk -F"#" '{print $3}'`;array=(`echo $eccid | tr ',' ' '`) ; for b in ${array[@]}; do echo $b ; done ; array=();done 

array use into strings
====================================================
NR JSON file 

https://s3.amazonaws.com/nr-synthetics-assets/nat-ip-dnsname/production/ip.json

https://s3.amazonaws.com/nr-synthetics-assets/nat-ip-dnsname/eu/ip.json

New relic newrelic synth


Script for managing - 

grep DC ip.json* | sed 's/\(.*\)\[\(.*\)\]\,/\2/' | tr '\n' ', ' | tr ',' '\n' | sed 's/"//g' | sed 's/$/\/32/' | sed 's/ //g' > NewRelicIPList
wget https://s3.amazonaws.com/nr-synthetics-assets/nat-ip-dnsname/production/ip.json
wget https://s3.amazonaws.com/nr-synthetics-assets/nat-ip-dnsname/eu/ip.json


meejain-macOS:.aws meejain$ aws ec2 describe-security-groups --profile=testbpbu --region us-west-2 --group-ids $(aws ec2 describe-instances --profile=testbpbu --region us-west-2 --instance-id i-058c168918ad168f7 --query "Reservations[].Instances[].SecurityGroups[].GroupId[]" --output text) --output text | grep "sg-" 
SECURITYGROUPS  Security Group for all instances within the topology. (bluenileinc-stage1)  sg-0fa95b3700ce38ae2  bluenileinc-stage1-vpc1uswest2TopologySecurityGroup-10CNXB4C4MHXR 264974395540  vpc-05c1b862939ce9fa5
SECURITYGROUPS  Security Group for HTTP access to author instances within the topology. (bluenileinc-stage1)  sg-0ca323dd117313e57  bluenileinc-stage1-vpc1uswest2AuthorSecurityGroup-10ZKCW6JY3G2C 264974395540  vpc-05c1b862939ce9fa5
SECURITYGROUPS  Security Group for Adobe Managed Services access to all instances within the topology. (bluenileinc-stage1) sg-0d85d93fed4f33be5  bluenileinc-stage1-vpc1uswest2ManagedServicesSecurityGroup-JR080O228CC2 264974395540  vpc-05c1b862939ce9fa5
meejain-macOS:.aws meejain$ 

The final script - 

wget https://s3.amazonaws.com/nr-synthetics-assets/nat-ip-dnsname/production/ip.json;cat ip.json | tr -s ' ' | sed 's/ //g' | sed 's/^[{}]$//g' | sed '/^[ ]*$/d' > file1; for a in `cat file1` ; do region=`echo $a | awk -F"\"" '{print $2}'` ; regioncode=`echo $region | awk -F"," '{print $2}'`; echo $region ; grep $regioncode file1 | sed 's/\(.*\)\[\(.*\)\]/\2/' | tr '\n' ', ' | tr ',' '\n' | sed 's/"//g' | sed 's/ //g' | sed '/^[ ]*$/d' |  sed 's/$/\/32/' > file3 ; cat file3 | tr '\n' ','; echo -e "\n" ; done ;rm file[13] ; rm ip.json


=================================================

rpm -e hubblestack;salt-call state.sls hubble7;salt-call state.sls salt-hubble-cronjob-restart;bash /etc/cron.daily/Salt-Hubble-Restart.sh;service splunk restart;salt-call state.sls salt-hubble-cronjob-restart

salt issue by larry

=================================================

ELB certificates:

1. Private key and a text file with the passphrase if there is one.
2. New cert
3. Any chain certs.

========================================================
connect details in snow

##########Connect Room update by Meet   ############################

https://my.adobeconnect.com/plex/
Conference code -> 4406602434
Leader Pin - > 897903
================================================================

=========================================
https://wiki.corp.adobe.com/display/MSTeam/Performance

cq5 value
heap memory
=========================================================

H&M youtube channel

https://www.youtube.com/channel/UCl76Y3IFX6xwMMHFNj_DWIw

===============================================================
Private IP addressing

10.0.0.0/8 IP addresses: 10.0.0.0 -- 10.255.255.255
172.16.0.0/12 IP addresses: 172.16.0.0 -- 172.31.255.255
192.168.0.0/16 IP addresses: 192.168.0.0 – 192.168.255.255

=========================================================
https://splunk.or1.adobe.net

splunk for basicfs7 


Where all log files live - 

/opt/splunkforwarder/etc/apps/CQAuthor/local

cat input.conf


=============================================================

s3 ingestor

https://wiki.corp.adobe.com/display/MSTeam/S3+Ingestor



The S3 asset ingestion option is provided as one of several options for ingesting assets into an AEM environment already hosted in AWS. This process does not use the same S3 bucket as that used by AEM, and is only intended to be a potentially temporary S3 bucket used during the duration of the data transfer. The handling of assets that already exist is explained in the documentation here: https://adobe-consulting-services.github.io/acs-aem-commons/features/mcp-tools/asset-ingestion/s3-asset-ingestor/index.html Short answer is that you don't get duplicated content but you do have the option to skip duplicated content if it already exists in the same target location in AEM, e.g. if you are running the same import twice against the same s3 bucket going to the same target AEM location, and no files were moved in S3, etc. You can also tell it to version existing assets or replace the current version only (which doesn't retain the previous copy of the asset.) In most cases, you can do fine using the "Skip" option if S3 is used only for transferring data and is not used for moving in-progress work copies of assets.


======================================================

IPS IDS 

Hello FIL Team,

During the period where the AMS hosted stage environment was exposed to the public web, AMS received no alerts that pertained to your environment from our IDS system.

AMS also implements firewall controls at the VPC and individual instance level that ensures that instance and VPC access follow POLP.

Thanks,
Tim

======================================================
INC0260443 - looking glass report

splunk queries:

host="avalara-prod-*" 
"Request header read timeout"

encrypt

cluster = Thomas Jefferson University


cse=adobemsbasic environment=prod role="cq-publisher" host="intersections-prod-publish1useast1" source="/mnt/crx/publish/crx-quickstart/logs/error.log" sourcetype="cq-error" *query without index*

cse=adobemsbasic environment=prod host="intersections-prod-author1useast1" source="/mnt/crx/author/crx-quickstart/logs/error.log" *Conflict*


index=ams_cq environment=prod role=cq-author source=/mnt/crx/author/crx-quickstart/logs/access.log cluster="Nuance Communications" SOURCE="\"Xenu Link Sleuth/1.3.8\"" | stats count by SOURCE

Ping identity access logs - 

index=ams_cq | stats count by cluster

cluster="F-Secure Oyj"

cluster="The Bank of Nova Scotia"


cluster="Fiesta Hotels and Resorts"

cluster="RSA Security LLC"
cluster="Hunter Douglas"
cluster="Banque Pictet and CIE SA"

cluster="Avery Dennison Corp"
cluster="Renta 4 Banco SA"



https://splunk.or1.adobe.net/en-US/app/TA-AMS_ui/search?q=search%20cluster%3D%22Hunter%20Douglas%22%20host%3D%22huntdougnj-prod-publish*%22%20source%3D%22%2Fmnt%2Fcrx%2Fpublish%2Fcrx-quickstart%2Flogs%2Faccess.log%22%20*GET*%20index%3Dams_cq%20NOT%20req_path%3D%22%2Fcontent%2Fams%2Fhealthcheck%2Fregent.html%22&display.page.search.mode=verbose&dispatch.sample_ratio=1&earliest=1598918400&latest=1599264000&display.general.type=events&display.events.fields=%5B%22host%22%2C%22sourcetype%22%2C%22ssl_protocol%22%2C%22elb%22%2C%22environment%22%2C%22role%22%2C%22userId%22%2C%22client_ip%22%2C%22request_processing_time%22%2C%22response_processing_time%22%2C%22source%22%2C%22url%22%2C%22barclays_domain%22%5D&sid=1599481158.1696618_39B23932-47CE-4B62-96E4-23715F7A5675

cluster="Hunter Douglas" host="huntdougnj-prod-publish*" source="/mnt/crx/publish/crx-quickstart/logs/access.log" *GET* index=ams_cq NOT req_path="/content/ams/healthcheck/regent.html"

cluster="Hunter Douglas" host="huntdougnj-prod-disp*" source="/mnt/var/log/httpd/access_log" index=ams_cq NOT req_path="/health/checkpublish"

Shujat - Tim query - 

host="generalmotors-prod1-dispatcher*" source="/mnt/var/log/httpd/access_log" req_path=*.html*
cluster="Thomas Jefferson University" host="tju-prod1-disp*" source="/mnt/var/log/httpd/access_log" req_path=*.html*



cluster = Thomas Jefferson University
cluster = Finning International Inc


cluster = Vizio Inc
cluster = Old Navy LLC

Latest - 

index IN ("ams_aws_elb_access","aws_elb_access")   sourcetype="aws:alb:accesslogs" alb=tju-prod1-alb *new-chief-administrative-officer-appointed-at-abington-lansdale-hospital*




elb="rsa-dev1" sourcetype="aws:elb:accesslogs" *GET*

elb="pingidentity-prod1" sourcetype="aws:elb:accesslogs" *GET* | stats count by SOURCE

index="ams_aws_elb_access" elb="rsa-prod" sourcetype="aws:elb:accesslogs" *GET*

get the log files - 

index=ams_cq host="cargill-stage2-dispatcher1useast1" source="/mnt/*"| rare limit=20 source

cluster = Hill-Rom Services Inc


index=ams_cq host="pacificlifersd-prod2-dispatcher1uswest2" source="/mnt/*"


we get 	GET requests in 1 month

cluster="Ping Identity" pingidentity-prod host="pingidentity-prod-dispatcher2useast1" source="/var/log/httpd/access_log" 


on Pub1 - 

cluster="Ping Identity" host="pingidentity-prod-publish1useast1" source="/mnt/crx/publish/crx-quickstart/logs/request.log"

5,720,183 events

5,816,534 events for Pub2


1,441,658 events	for disp1


Alexandra - 

 index=ams_cq cse=adobemsbasic cluster="BMW*" |dedup cluster|table cluster

 index=ams_cq cluster="BMW AG"| dedup environment, host, sourcetype, source|table environment, host, sourcetype, source




==============================================================
Mail for daycare ACS

All teams, regardless of internal or external, are required to leverage the daycare portal when making requests of the AMS Basic team. Since there are no dedicated resource in this AMS offering, our pooled resource subscribes to a ticket queue, from which we pick up requests and work them. If we were to make exceptions for internal teams, our team would loose visibility to these requests, and they would get dropped.
 
To gain access to Nearmap, or any other customer’s daycare portal. You will need to open a daycare ticket and select the “account request and feedback” ticket type. You are also required to pick a customer, but since you do not have access to Nearmap, please choose any customer in the dropdown, and proceed with opening the ticket. In the ticket body, please input the customer you wish to gain access to, and why you require that access. You will also be required to input when you need it by. Once you have the tickets opened under the correct customer, please share the tickets with me and I will expedite their resolution.
 
 
@Rob Noll – This is the 4th of this type of request I have fielded in 2 days from ACS. Is there any way I can schedule some time with your team to help inform on the AMS Basic Operational model?

============================================================

adobemsbasic sharepoint template - 

https://adobe.sharepoint.com/sites/amsaembasic/basicreview/SitePages/Home.aspx

==========================================================


[Attention Needed] Adobe Managed Services Log Review

Hello  Intersections Team, 

Being our Customer, it's our responsibility to be Proactive and have a close look on all the error messages and inform you what are the possible reasons and at the same time Recommendations how to fix those. AMS observed some errors with high frequency on your Production Systems and we made a log review and below are our findings:



1) We did get lots of notifications related to "is not modifiable" as shown below:

javax.jcr.RepositoryException: org.apache.sling.api.resource.PersistenceException: Resource at '/xiaoma.php' is not modifiable.
... 88 lines omitted ...
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:128)
	at org.apache.felix.http.base.internal.dispatch.DispatcherServlet.service(DispatcherServlet.java:49)
... 18 lines omitted ...
Caused by: org.apache.sling.api.resource.PersistenceException: Resource at '/xiaoma.php' is not modifiable.

Possible Reason: The actual issue is AEM could not resolve the servlet and assumes it as a resource path but this is not a valid resource path, the below exception will be thrown when AEM tries to set the property values.

Recommendation:  Please check with your customiser on the same. 


For any other guidance and investigation, please raise a Daycare ticket if it is the case. 


Best regards, 

Meet Kumar Jain
Adobe Managed Services


closing speech

Thank you for confirmation. 
For any other guidance and investigation, please raise a Daycare ticket if it is the case. 


Email by Tim - 

Wanted to ensure that we level set on Adobe Managed Service’s expectations around LookingGlass Reports. These reports are automatically generated and shared as a means to help our customers obtain a quick picture into what errors we are seeing on your environments. While it is highly recommended that your team pursue underlying issues that cause these error messages to be present in your logs, you are not obligated to pursue their remediation. Our goal is to empower customers to run as performant as possible. Please reach out to me if you have any additional questions.
 
Thanks,
Tim
 


==========================================================
performance splunk query

Tim Bonnett [11:54 PM]
index=ams_cq cluster="Kennametal Inc" environment="prod" sourcetype=cq-error LogLevel="*ERROR*" | rex field=_raw ".*] (?<MESSAGE>.*)" | uniq message  | search message=locationresults | common  limit=20 MESSAGE
all you need to do is change the clusters

============================================================
GLRM regular update email

Being our customer, its our responsibility to have a pro active check with you, just making sure that things are going fine and in a planned manner . If you would like to share any update on the developments, please do share with us so that we all are on same page. Please reply ASAP and if possible, we can also have a quick Connect call today over the same so that we can discuss how preparations / tests are going on and where exactly you are facing challenges, if any. Any small update will be helpful. 

Thank you once again . 

Meet Kumar Jain

Adobe Managed Services





===========================================================
?sling:authRequestLogin=true

in SAML is not allowing to login 

======================================================

AEM forms WIKI pages

https://wiki.corp.adobe.com/display/MSTeam/End-To-End+system+provision

https://helpx.adobe.com/aem-forms/kb/aem-forms-releases.html

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1073058876 is the main one 

https://wiki.corp.adobe.com/display/MSTeam/Things+Left+to+Do




Install Configure the Automated Forms Conversion service

https://docs.adobe.com/content/help/en/aem-forms-automated-conversion-service/using/configure-service.html#downloadAEMFormsAddon
https://docs.adobe.com/content/help/en/experience-manager-65/forms/install-aem-forms/osgi-installation/installing-configuring-aem-forms-osgi.html
https://docs.adobe.com/content/help/en/experience-manager-65/release-notes/service-pack/sp-release-notes.html

Forms add on package - https://experienceleague.adobe.com/docs/experience-manager-release-information/aem-release-updates/forms-updates/aem-forms-releases.html?lang=en#aem-64-forms-releases


https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1530093404


https://docs.adobe.com/content/help/en/aem-forms-automated-conversion-service/using/configure-service.html


Setting up Author and Publisher with Forms Feature Pack (OSGI Forms)
Use the commands below to Install 32-bit libraries on Author and Publisher (required to run AEM Forms add-on package):
yum -y install libX11.i686 libxcb.i686 libXau.i686 zlib.i686 libXext.i686 fontconfig fontconfig.i686 expat.i686 freetype.i686 libSM.i686 libICE.i686 libXrandr.i686 libXrender.i686 libXinerama.i686
yum -y install libicu libicu.i686 libcurl libcurl.i686
Install Forms Feature Pack on Author and Publisher(s) , here is a page that lists out AEM Forms add-on packages for various versions: https://helpx.adobe.com/aem-forms/kb/aem-forms-releases.html Whenever you install a Service Pack or upgrade from a previous version of AEM to a newer version, always install the corresponding AEM Forms add-on package for compatibility.
Stop AEM servers and then add the following properties to /mnt/crx/[author][publish]/crx-quickstart/conf/sling.properties file
sling.bootdelegation.class.com.rsa.jsafe.provider.JsafeJCE=com.rsa.*
sling.bootdelegation.class.org.bouncycastle.jce.provider.BouncyCastleProvider=org.bouncycastle.*
Restart AEM and add sun.util.calendar package to the whitelist field in Deserialization Firewall Configuration in config manager (http://[server]:[port]/system/console/configMgr)
Stop Salesforce bundle (AMSSEC021) - com.day.cq.mcm.cq-mcm-salesforce
Change customer name in /mnt/crx/license.properties



  Hello Alan,

Thank you for the response. Yes Adobe IO console did change a bit. But before moving to Adobe IO Console, as per the document - https://docs.adobe.com/content/help/en/aem-forms-automated-conversion-service/using/configure-service.html, I created a new profile under Automated Forms Conversion by the name - > Automated Forms Conversion Profile1 & added you as developer + admin to that profile. If you want you may delete that profile and create your own.

Also you might need to add yourself to the forms-users group as mentioned in the document.

Post that I went to https://console.adobe.io/ to Create Adobe I/O integration. Here the process is changed a bit -

Integrations are now created as part of a "project" within Adobe Developer Console.Please check the below - >

https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/AuthenticationOverview/ServiceAccountIntegration.md

How to create an integration is via this - >

https://www.adobe.io/apis/experienceplatform/console/docs.html#!AdobeDocs/adobeio-console/master/services-add-api-jwt.md

And while selecting the API, I am able to select Automated Forms Conversion as an API, as attached screen shot & hit next & proceed further.

I hope this will help you a lot to proceed further. Please update this daycare ticket in case of any further concerns.




===========================================
	Hi Awesome team,
	 
	As FYI, when making E2E for AEM Forms Customers step “AEM Forms Configuration Updates (AMSAUTO-2968)” needs to be made even it is not mentioned in TLTD for B50+ specific blocks.
	 
	I worked with Dorian today on Loyalis NV – Basic AEM Forms Customer and fixed this.
	 
	Regards,
	Mihai

=====================================================================================

https://git.corp.adobe.com/ManagedServices/bigbear

Tim - Git for bigbear & dispatcher configs


==================================================================================

https://splunk.or1.adobe.net/en-US/app/TA-AMS_ui/performance_dashboard?form.field1.earliest=-7d%40h&form.field1.latest=now&form.field4=*&form.field6=1h&form.field2=New%20Relic&form.field3=prod

Rohit's email for dashboard, cache ratio


====================================================================================================
https://wiki.corp.adobe.com/display/MSTeam/AMS+Standard+Alias

alias of the commands
============================================================================================

Which block is having what - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=MSCentral+BigBear+Block+Specifications#MSCentralBigBearBlockSpecifications--BlocksTestPlan-BlocksInfo

====================================================================================

AWS security has the potential to be very strong, but poor configurations have led to more than one serious security breach.It is imperative to analyze the trust relationships between external services you use, and perform regular penetration testing against your AWS environment. We understand that you are not using sites and that's why Load testing has been waived off. Now security in case Assets only environment, depends upon how content authors are accessing the AEM Author instance. If they are restricting via IP whitelisting, for example, then they are exempted. Our whole purpose is that there should be some sort of security walk, through your environment just to avoid any future security breach. We do have other Assets Only customers who have done the same and thereby confirmed their environment to be safe. And that's why we strongly recommend any kind of minor PEN test .. to be on the safer side. Please advise further. 

Security pen testing - assets only


AMS Update

Thank you Lesly for the update. There is no any standard checklist or any acceptance criteria as such for the Security (Penetration Testing).

More than us, we want our customer to be satisfied with the results. We hope that our customer should diligently perform the Security Testing and satisfy with the results that their upcoming site is not subjected to any vulnerability.

Of course, we'll go through the final Penetration results, which you will upload into the RunBook , post your testing and if there are no major or high alarming issues in the final results, we'll approve the RunBook. So please let us know your plan on the same and we'll move accordingly. As per the last update, 22nd June'18 is the expected Go Live date and hence we are running short of time. We do not want a last minute hurry during the Go live. Awaiting your update on the same.

Many Thanks,

Meet Kumar Jain
Adobe Managed Services



Dear Customer, 

Just to add further on the same that without Security (Penetration) testing, Adobe will not be responsible for SLA (but will still offer the same level of support and incident response). Which means You can still Go Live without the PEN Test but in that case Adobe is not bound to provide you contractually decided SLA. As discussed on our last call, regarding Load & Penetration Testing, the content authors will be accessing the author instance publicly and hence there will be no IP whitelisting while accessing the authors. Hence Security walk through is a must. 


AWS security has the potential to be very strong, but poor configurations have led to more than one serious security breach.It is imperative to analyse the trust relationships between external services you use, and perform regular penetration testing against your AWS environment. We understand that you are not using sites and that's why Load testing has been waived off. Now security in case Assets only environment, depends upon how content authors are accessing the AEM Author instance. If they are restricting via IP whitelisting, for example, then they are exempted. Our whole purpose is that there should be some sort of security walk, through your environment just to avoid any future security breach. We do have other Assets Only customers who have done the same and thereby confirmed their environment to be safe. And that's why we strongly recommend any kind of minor PEN test .. to be on the safer side. Please also refer to the Product Specific Licensing Terms to provide additional contractual justification as to why you need to conduct security and pen testing.

https://wwwimages2.adobe.com/content/dam/acom/en/legal/terms/enterprise/pdfs/PSLT-ExperienceManager_ManagedServicesBasic_NA_2017v1.1.pdf




Regards, 

Meet Kumar Jain 

Adobe Managed Services 



Security Testing (Penetration Testing) is important for RunBook approval. And we want RunBook to be approved prior the Go Live since after the Runbook approval only, Adobe can commit SLA as per the contract .. which means You can still Go Live without the PEN Test but in that case Adobe is not bound to provide you contractually decided SLA. 

AWS security has the potential to be very strong, but poor configurations have led to more than one serious security breach.It is imperative to analyze the trust relationships between external services you use, and perform regular penetration testing against your AWS environment. Hence taking care of all these factors, RunBook is designed and that's why we always advise our customers to complete all their testing, complete the RunBook, we'll get that approved and then they are good to go LIVE. 

As discussed with Lesly in today's meeting, and in previous meetings as well, we need a 3 business days prior notice when you are planning to do the actual Security testing on your PROD environment. In case you are planning to do do, please provide the mentioned below details ASAP which we'll further share with our Cloud Partner - Amazon for approval:

Source IP Range: 
Expected peak bandwidth (Gbps): 
Region: 
Timezone: 
Start Date/Time: 
End Date/Time: 

Awaiting your response. 


larry comments:

https://www.owasp.org/index.php/OWASP_Top_Ten_Cheat_Sheet

https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/security.html


load testing:S

https://helpx.adobe.com/experience-manager/6-4/sites/deploying/using/best-practices-for-performance-testing.html


====================================================================================

understand the stat level - dispatcher

https://docs.adobe.com/content/help/en/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html#invalidating-files-by-folder-level


==================================================================================
AMSSEC026 - 

Hello 
from Tim to Everyone:    3:16  AM
https://p.typekit.net/p.css?s=1&k=gll5yad&ht=tk&f=25996.25998.25999.26000.26001.26004.26005.26006.26007.26008.26009&a=4054339&app=typekit&e=css
from Srinivasa Dammati (internal) to Everyone:    3:16  AM
/etc/clientlibs/gigamon-pagelibs/js/pagelibs.bundle.js
from Tim to Everyone:    3:21  AM
/0041 { /type "allow" /method "GET" /path "/etc/clientlibs/" /extension 
'(css|eot|gif|ico|jpeg|jpg|js|gif|png|svg|swf|ttf|woff|woff2)' }  


https://docs.adobe.com/content/help/en/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html#defining-a-filter

https://gigamon-prod2.adobemsbasic.com/crx/explorer/index.jsp;%0aa.ico


Troubleshooting and working filter rules - 

/0032 { /type "allow" /method "GET" /url " */content/dam*"}
/0022 { /type "deny" /extension '(css|eot|gif|ico|jpeg|jpg|js|gif|pdf|png|svg|swf|ttf|woff|woff2|html)' /path "/crx/*" }


# Deny querybuilder
/0138 { /type "deny" /method "GET" /url "/bin/querybuilder.json" }
/0139 { /type "deny" /method "GET" /url "/bin/querybuilder.feed.css" }
/0140 { /type "deny" /method "GET" /url "/bin/querybuilder.json.servlet;*.css" }





/1001 { /type "deny" /extension '(css|eot|gif|ico|jpeg|jpg|js|gif|pdf|png|svg|swf|ttf|woff|woff2|html)' /path "/crx/*" }
/1002 { /type "deny" /method "GET" /url "/bin/querybuilder.json" }
/1003 { /type "deny" /method "GET" /url "/bin/querybuilder.feed.css" }
/1004 { /type "deny" /method "GET" /url "/bin/querybuilder.json.servlet;*.css" }



===================================================================================

https://helpx.adobe.com/experience-manager/6-3/communities/using/dispatcher.html

dispatcher.any for testing

===============================================================

sharepoint site

https://wiki.corp.adobe.com/display/MSTeam/Checklist+-+Create+a+Customer+SharePoint+Site

=======================================================================
IP address to subnet calculator:

https://mxtoolbox.com/subnetcalculator.aspx

http://jodies.de/ipcalc?host=10.47.55.192&mask1=26&mask2=28



https://www.browserling.com/tools/ip-to-bin
https://www.browserling.com/tools/bin-to-ip

========================================
papa





===========================================================
PMI Case for xforwarder - this is most correct - 
 
In B50, there is a module (mod_remoteip) which is enabled. Because of this, the customer was not able to get the client ip (using X-Forwarded-Forheader).​ 
We disabled the mod_remoteip module, for the customer code to work and fetch the client IPs.

File: /etc/httpd/conf.modules.d/00-base.conf 
Change: commented out the line - #LoadModule remoteip_module modules/mod_remoteip.so​ 

If you want to keep mod_remoteip enabled, then you need to modify /etc/httpd/conf.d​/remoteip.conf: 

make sure "/etc/httpd/conf.d/remoteip.conf" files exists and looks like this:
#
# Extract true client IP from header added by load balancer/CDN
#
<IfModule remoteip_module>
 # valid for ALB, ELB, AppGateway or Load Balancer + CloudFront
 RemoteIPHeader X-Forwarded-For
# valid for ALB, ELB, AppGateway or Load Balancer + Akamai
 #RemoteIPHeader True-Client-IP
</IfModule>


edit "/etc/httpd/conf.d/logformat.conf" and add "%a" after "%h" (this file is immutable):
Before:

LogFormat "%h  \"%{Host}i\" %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined



After:

Update /etc/httpd/conf.d/logformat.conf to be:
<IfModule log_config_module>
LogFormat "%{X-Forwarded-For}i %a \"%{Host}i\" %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
</IfModule>



restart httpd and check "/mnt/var/log/httpd/access_log"; both IP and EIP are logged in there
 
We chose to just disable the module in PMI.


https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=CQ+AMS+Dispatcher+Proper+IP+logging


Rohit - Azure - True Client IP - 

root@virtusa-prod-dispatcher2eastus2:~ cat /etc/httpd/conf.d/remoteip.conf
#
# Extract true client IP from header added by load balancer/CDN
#
 
<IfModule remoteip_module>
    RequestHeader edit X-Forwarded-For ([0-9]+(?:\.[0-9]+){3})(:[0-9]+)? $1 early
    # valid for ALB, ELB, AppGateway or Load Balancer + CloudFront
    #RemoteIPHeader X-Forwarded-For
 
    # valid for ALB, ELB, AppGateway or Load Balancer + Akamai
    RemoteIPHeader True-Client-IP
</IfModule>
root@virtusa-prod-dispatcher2eastus2

root@virtusa-prod-dispatcher2eastus2:~ cat /etc/httpd/conf.d/logformat.conf
## Logging format to capture the Host requested, and the referer to assure we get direct requests IP and proxied requests proper public	addresses in our log entries of	the access_log
<IfModule log_config_module>
        LogFormat "%h %a \"%{Host}i\" %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
</IfModule>
root@virtusa-prod-dispatcher2eastus2:~

=================================================================
service now details:

normal with H



Username: admin
Password: qzQvkR6sMCAJP8bl

dev69452
Online
URL
https://dev69452.service-now.com/

Build
Kingston
Remaining inactivity
10 days


https://developer.servicenow.com/app.do#!/lp/new_to_servicenow/app_store_learnv2_buildmyfirstapp_kingston_getting_around_in_servicenow?v=kingston

https://www.youtube.com/watch?v=HdhMweIjinc&index=1&list=PLkTXT4ICyaO89iLUlPF6svWO6yvvwgsQa

https://www.youtube.com/watch?v=l8Y85skJQnA&list=PLVl032aRVM5Vqc36IigNwTbQpbysCZItF&index=1
(meet)

https://www.youtube.com/watch?v=StF3bXCbtJ8

Links by Keshab Sir:


https://developer.servicenow.com/app.do#!/catlist/technical_best_practices?v=kingston

https://community.servicenow.com/community?id=community_question&sys_id=ba3ac3a9db5cdbc01dcaf3231f961953

=== - current SN videos ======

https://www.safaribooksonline.com/library/view/mastering-servicenow-/9781786465955/
https://www.youtube.com/watch?v=7M4qsuJ3SHg&list=PLiIfaoYiHlY9ihP9FXHMlHSs7tjYNVm_D

================================

https://www.youtube.com/watch?v=G5V63wFKLVE&list=PLVl032aRVM5Vqc36IigNwTbQpbysCZItF&index=7
(current SN)



================================================================

how to connect AEM with azure active directory

https://docs.microsoft.com/en-us/azure/active-directory/saas-apps/adobeexperiencemanager-tutorial

==============================================================

https://helpx.adobe.com/experience-manager/dispatcher/using/dispatcher-configuration.html#ConfiguringtheDispatcherCachecache

cache
=============================================================

On AEM default URL 

How to change ?
Most likely, we would want to change the root mapping from /geohome to our own application in the publish instance and the same can be done in below mentioned ways

/content :
We know, in publish instance root mapping is set to /content.html. So go to /content node in crx de. Change the URL for the property sling:target to map to your own application content node and save. Package the same from the author instance and deploy it on the publish instance.

Note: when you package it and add the /content as the filter, make sure you add ‘exclude’ rule as ‘/content/*’ so that it doesnt include the child pages of the content node.

Package Manager FilterPackage Manager Filter

 

configMgr :
Login to the config manager console directly either in author or publish which you want to change, search for ‘Day CQ Root Mapping’ and change the ‘Target Path’ and click on Save. Next time when you access instance, it should redirect to the configured path.

custom config :
Create /apps/<projectname>/config.<runmode>/com.day.cq.commons.servlets.RootMappingServlet (runmode = author or publish)
Add a property rootmapping.target with value equal to home page path.
Activate or deploy /apps/<projectname>/config.<runmode>/com.day.cq.commons.servlets.RootMappingServlet
Refer OSGi Configuration to understand how to create the config files for each runmode

This approach would be best as it does not need any manual configuration across your instances and it get deployed to any instance as part of your project deployment.




=============================================================

github

meejain
normal password

meetkjain83@gmail.com

https://github.com


https://github.com/meejain/devtraining-needit-jakarta.git


explanation about git - cloud manager

git is like UNIX. User friendly but picky about its friends. It's about as powerful and as user friendly as a shell pipeline.

That being said, once you understand its paradigms and concepts, it has the same zenlike clarity that I've come to expect from UNIX command line tools. You should consider taking some time off to read one of the many good git tutorials available online. The Pro Git book is a good place to start.

To answer your first question.

What is git remote add ...

As you probably know, git is a distributed version control system. Most operations are done locally. To communicate with the outside world, git uses what are called remotes. These are repositories other than the one on your local disk which you can push your changes into (so that other people can see them) or pull from (so that you can get others changes). The command git remote add origin git@github.com:peter/first_app.gitcreates a new remote called origin located at git@github.com:peter/first_app.git. Once you do this, in your push commands, you can push to origin instead of typing out the whole URL.

What is git push origin master

This is a command that says "push the commits in the local branch named master to the remote named origin". Once this is executed, all the stuff that you last synchronised with origin will be sent to the remote repository and other people will be able to see them there.




When you use pull, Git tries to automatically do your work for you. It is context sensitive, so Git will merge any pulled commits into the branch you are currently working in.  pull automatically merges the commits without letting you review them first. If you don’t closely manage your branches, you may run into frequent conflicts.

When you fetch, Git gathers any commits from the target branch that do not exist in your current branch and stores them in your local repository. However, it does not merge them with your current branch. This is particularly useful if you need to keep your repository up to date, but are working on something that might break if you update your files. To integrate the commits into your master branch, you use merge.

https://web.microsoftstream.com/video/7df9f9aa-bd31-49ae-8251-296242315072
https://web.microsoftstream.com/video/0ed04bbd-ebf5-49cd-9129-c9e2f2b4bdfb

How GIT works in CM - >


GIT Equiniux issue - 

https://docs.github.com/en/enterprise-server@2.22/actions/using-github-hosted-runners/about-github-hosted-runners

https://docs.github.com/en/actions/hosting-your-own-runners/using-self-hosted-runners-in-a-workflow


=================================================


Git cheat sheet -  https://www.youtube.com/watch?v=HVsySz-h9r4

meejain-macOS:~ meejain$ git --version
git version 2.14.3 (Apple Git-98)
meejain-macOS:~ meejain$ 

git help config
manual pages for any action

git config --help
git add --help

meejain-macOS:testgit meejain$ git config --global user.email "meetkjain83@gmail.com"
meejain-macOS:testgit meejain$ git config --global user.name "Meet-CEE"
meejain-macOS:testgit meejain$ 


if you want to track any project with git - 

go to that directory - 

git init
this will create .git directory in that folder. 

if we remove .git folder, it means we are not tracking our code directoiry via git

we haven't commit anythiung, 1st check the status - 


meejain-macOS:testgit meejain$ git status 
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	file1
	file2

nothing added to commit but untracked files present (use "git add" to track)
meejain-macOS:testgit meejain$ 



we want ignore some files - 

create .gitignore

we can creat a wildcard entry as welll inside the .gitignore file by doing a vi to it




meejain-macOS:testgit meejain$ git status 
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	.gitignore
	file1

nothing added to commit but untracked files present (use "git add" to track)
meejain-macOS:testgit meejain$ 




to add a file to the staging area - 

meejain-macOS:testgit meejain$ git add -A
meejain-macOS:testgit meejain$ git status
On branch master

No commits yet

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

	new file:   .gitignore
	new file:   file1

meejain-macOS:testgit meejain$ 
meejain-macOS:testgit meejain$ 
meejain-macOS:testgit meejain$ 

the above will add all files to the staging area. 

we can also add the files individually

git add filename


Now if we do a git commit - it will add commit those files which are in our staging area


If we want to remove the files from the staging area - 

meejain-macOS:testgit meejain$ git reset 
meejain-macOS:testgit meejain$ git status
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	.gitignore
	file1



we can see they have been removed from the staging area. 

Now we can commit with a message - 

meejain-macOS:testgit meejain$ 	git commit -m "Initial Commit"
[master (root-commit) 33b6a14] Initial Commit
 2 files changed, 2 insertions(+)
 create mode 100644 .gitignore
 create mode 100644 file1
meejain-macOS:testgit meejain$ 



we can check the logs as well - 

meejain-macOS:testgit meejain$ git log
commit 33b6a149c6c2bdfca5a16d9098c3dc15aa04e47f (HEAD -> master) - gives the Hash No. of that commit
Author: Meet-CEE <meetkjain83@gmail.com>
Date:   Sun Mar 17 17:40:14 2019 +0530

    Initial Commit
meejain-macOS:testgit meejain$ 




the aov are commands with th local repository




now lets check the remote repository - 


cloning a remote repository - 


git clone https://github.com/meejain/repo1


git clone git@github.com/meejain





how to view information aout that remote Repository - 

do a git clone and go into that repo and then perform

meejain-macOS:repo1 meejain$ git remote -v
origin	https://github.com/meejain/repo1 (fetch)
origin	https://github.com/meejain/repo1 (push)



meejain-macOS:repo1 meejain$ git branch -a
* master
  remotes/origin/2nd-Branch
  remotes/origin/HEAD -> origin/master
  remotes/origin/master
meejain-macOS:repo1 meejain$ 


Now make some changes to the file and then check - 

do a vi to the file1 and then save

meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ git diff file1
diff --git a/file1 b/file1
index e7c82c1..a799ee5 100644
--- a/file1
+++ b/file1
@@ -7,3 +7,4 @@ vegas
 salt lake city
 
 Testing new branch
+testing file via terminal
meejain-macOS:repo1 meejain$ 



meejain-macOS:repo1 meejain$ git status 
On branch master
Your branch is up-to-date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   file1

no changes added to commit (use "git add" and/or "git commit -a")
meejain-macOS:repo1 meejain$ 

do a git add -A to add all files to the staging environment

meejain-macOS:repo1 meejain$ git status 
On branch master
Your branch is up-to-date with 'origin/master'.

Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

	modified:   file1

meejain-macOS:repo1 meejain$ 


Now its confirmed that all went to the statging environment 


meejain-macOS:repo1 meejain$ git commit -m "Edit via terminal from local machine"
[master 4394a1d] Edit via terminal from local machine
 1 file changed, 1 insertion(+)
meejain-macOS:repo1 meejain$ 




Now we need to make sure and check about the delta's - 

meejain-macOS:repo1 meejain$ git pull origin master
From https://github.com/meejain/repo1
 * branch            master     -> FETCH_HEAD
Already up-to-date.
meejain-macOS:repo1 meejain$ 



meejain-macOS:repo1 meejain$ git push origin master
Counting objects: 9, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (9/9), done.
Writing objects: 100% (9/9), 1.04 KiB | 1.04 MiB/s, done.
Total 9 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 1 local object.
To https://github.com/meejain/repo1
   02d1e04..22481bb  master -> master
meejain-macOS:repo1 meejain$ 


Note - git pull will automatically edit the file on our local. 

But for pushing, we need to 1st edit, diff , git status, git add, git status and then git commit and then git pull again and git push

Let's create a new branch on our local machine - 

meejain-macOS:repo1 meejain$ git branch 3rd-branch
meejain-macOS:repo1 meejain$ 


meejain-macOS:repo1 meejain$ git branch
  3rd-branch
* master
meejain-mac

* means I am working on the master branch. 


meejain-macOS:repo1 meejain$ git checkout 3rd-branch
Switched to branch '3rd-branch'
meejain-macOS:repo1 meejain$ 


meejain-macOS:repo1 meejain$ git branch
* 3rd-branch
  master
meejain-macOS:repo1 meejain$ 

do a vi to the file1, diff, status, add, commit

and then do a push - 


meejain-macOS:repo1 meejain$ git push -u origin 3rd-branch
Counting objects: 3, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 355 bytes | 355.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
remote: 
remote: Create a pull request for '3rd-branch' on GitHub by visiting:
remote:      https://github.com/meejain/repo1/pull/new/3rd-branch
remote: 
To https://github.com/meejain/repo1
 * [new branch]      3rd-branch -> 3rd-branch
Branch 3rd-branch set up to track remote branch 3rd-branch from origin.
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ 

We'll see a 3rd branch will automatically get created. 



meejain-macOS:repo1 meejain$ git branch
* 3rd-branch
  master
meejain-macOS:repo1 meejain$ git branch -a
* 3rd-branch
  master
  remotes/origin/2nd-Branch
  remotes/origin/3rd-branch
  remotes/origin/HEAD -> origin/master
  remotes/origin/master
meejain-macOS:repo1 meejain$ 


let's do a merge now to the master branch - 

1st of all checkout to the master branch - 


meejain-macOS:repo1 meejain$ git checkout master
Switched to branch 'master'
Your branch is up-to-date with 'origin/master'.
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ git branch
  3rd-branch
* master
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ 

do a Git Pull so that we take care of all the delta's 

meejain-macOS:repo1 meejain$ git pull origin master
From https://github.com/meejain/repo1
 * branch            master     -> FETCH_HEAD
Already up-to-date.
meejain-macOS:repo1 meejain$ 



To check with branches we have merged - 

meejain-macOS:repo1 meejain$ git branch --merge
* master
meejain-macOS:repo1 meejain$ 


meejain-macOS:repo1 meejain$ git merge 3rd-branch
Updating dab3f9c..3727a1d
Fast-forward
 file1 | 2 ++
 1 file changed, 2 insertions(+)
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ 



meejain-macOS:repo1 meejain$ git push -u origin master
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/meejain/repo1
   dab3f9c..3727a1d  master -> master
Branch master set up to track remote branch master from origin.
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ 



meejain-macOS:repo1 meejain$ git branch --merged
  3rd-branch
* master
meejain-macOS:repo1 meejain$ 

Now it shows that we have merged the branch 

lets delete the branch


meejain-macOS:repo1 meejain$ git branch -d 3rd-branch
Deleted branch 3rd-branch (was 3727a1d).
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ 



it is deleted locally 


In order to delete the branch remotely - 

meejain-macOS:repo1 meejain$ git branch -a 
* master
  remotes/origin/2nd-Branch
  remotes/origin/HEAD -> origin/master
  remotes/origin/master
meejain-macOS:repo1 meejain$ 
meejain-macOS:repo1 meejain$ 





GIT Submodules - 

https://www.youtube.com/watch?v=ZYq3NJnO08U

https://www.youtube.com/watch?v=8Z4Cmhji_FQ



=======================================

Rpm pinning - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Private+Yum+Repo+-+Pinning


yum install yum-plugin-versionlock
yum versionlock mod_ssl-2.4.6-97.el7_9.4.x86_64
yum list mod_ssl* --show-duplicates
yum check-update



root@telstra-prod12-rpmpinning-dispatcher1apsoutheast2-clone:~ rpm -qa | grep -i mod_ssl
mod_ssl-2.4.6-97.el7_9.4.x86_64
root@telstra-prod12-rpmpinning-dispatcher1apsoutheast2-clone:~ yum versionlock delete mod_ssl-2.4.6-97.el7_9.4
Loaded plugins: amazon-id, search-disabled-repos, versionlock
Deleting versionlock for: 1:mod_ssl-2.4.6-97.el7_9.4.*
versionlock deleted: 1

=========================================

java script youtube

https://www.youtube.com/watch?v=PlbupGCBV6w&list=PLsyeobzWxl7rrvgG7MLNIMSTzVCDZZcT4&index=1


Telusko

https://www.youtube.com/watch?v=rRgD1yVwIvE - High order functions



https://www.youtube.com/watch?v=PwsigsH4oXw

https://www.youtube.com/watch?v=vEROU2XtPR8&t=402s

===============================================================

Queries regarding upsize

- If AEM dispatcher or publish got high-load, what sort of support you can provide for us?

Yes, in case CPU or Memory usage has passed its threshold value, we do get alert right away due to our strong Monitoring tools in place. We do wait for some time & in case the high CPU / Memory usage continues, we let customer (everyone you list as an emergency contact) know about that by raising a P1 / P2 ticket depending upon the severity (PROD / STAGE), and simultaneously we take the thread dumps / heap dumps and let customer knows about the location  of those dumps for their further investigation. Now its upto customer or the customiser whether they themselves analyse the dumps or raise a day care ticket mentioning the location of the dumps so that Day CARE Team (AEM Product TEAM) can analyse them to get the root cause. 



- Do you expand the infrastructure resource such as vCPU/vMem/storage for customer?

Yes, we do expand the infrastructure in the form of Instance upsize which takes care of vCPU/vMem/storage automatically but that only after proper business justification from the customer and post Leadership's approval on the same. Incidents like customer is launching any new product, or any feature and customer knows that the No. of requests hitting their site will be too much during a particular time period. In such cases, yeah we do consider these situations but not always. It's not like that after every month customer is coming back asking to upsize and we simply approve that. That's not the case. 




- If yes, does it based on customer's request or you manage it voluntarily and proactively?
As mentioned above, yes but it all depends upon customer request and busines justication and also the no. of times customer raise such kind of requests in a particular time span. 

In the event that an AMS instance shows performance deterioration due to resource limitations, AMS is authorized to upsize the instance to ensure that your site remains available. If the frequency of emergency upsize activities is more than once a quarter, AMS will reach out to the customer to conduct a performance review, to help discover the underlying performance issue. We will also support pre-emptive system upsizing to help support known resource intensive activities. These pre-emptive upsize tasks are also limited to once a quarter, and require approval from AMS leadership.




- Will it be charged?

No, such situations mentioned above are not charged. 

- Doe it even cover the unexpected and sudden high-load without no consultation in advance?

Yes, pro actively we do that so that site is not hampered at any point of time. But yes, we update the customer and try to help them as much as possible with their performance issues, post the sudden spikes in their PROD environment. 

There is no any wriiten document for the same. It's all there in the AMS policies that we have been following for all our customers on courtsey basis. There is no contractually obligation on us that we need to upsize the environment but yes we do that Reactively OR Proactively as a cortsey to our customers. Please let us know in case of any issue. 



GIT Submodule - 

https://www.youtube.com/watch?v=8Z4Cmhji_FQ


@ororke “sub-modules” is a Maven concept, ie “multi-module Maven project”





5:17
“git submodules” is something else
5:18
but yes @meejain, git submodules is supported
5:18
but we shouldn’t lead with that, we’d rather see customers consolidate repos

https://www.vogella.com/tutorials/GitSubmodules/article.html


https://experienceleague.adobe.com/docs/experience-manager-cloud-service/implementing/managing-code/cloud-manager-repositories.html?lang=en

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Cloud+Manager+-+Git+Submodules





=====================================================================
Retriction

https://www.youtube.com/watch?v=PwsigsH4oXw

https://wiki.corp.adobe.com/display/MSTeam/How+To+Restrict+Access+To+Author+With+Apache+2.4

author whitelisting

https://wiki.corp.adobe.com/display/MSTeam/Apache+Access+Logs+and+ELB+ips


https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Block+attacker+IP+addresses+at+Dispatcher+level

devika wiki 

(xforward - client ip if customer want to see)

CHG0177888  - x forward for


Dispatcher whitelisting - email - AMSSEC1_69 dispatcher RPM remoteip config change

Hi folks,
 
While performing Dispatcher RPM installation as a part of AMSSEC1_69a implementation for one of my Customers, I found out that the IP whitelisting was not invoked as the request returned 403 error despite correct values set on the relevant vhost i.e.,    and relevant Source IPs’ in place in Whitelist rules (/etc/httpd/conf.d/whitelists/*_whitelist.rules).
It was deduced to be an Apache-wide issue since the same problem persisted for all domains on the corresponding enabled vhosts.
 
Issue was resolved by adding RequestHeader edit X-Forwarded-For ([0-9]+(?:\.[0-9]+){3})(:[0-9]+)? $1 early to remoteip module configuration (/etc/httpd/conf.d/remoteip.conf) as shown in the screenshot below.
 

 
 
This header request  RequestHeader edit X-Forwarded-For ([0-9]+(?:\.[0-9]+){3})(:[0-9]+)? $1 early existed on the erstwhile dispatcher configurations for the customers only on Azure while it’s missing in the Dispatcher RPMs 2.6-17/18 as shown in the comparative screenshot below.
 

 
I would call out your attention to have some clarity on this.

===============================================

https://helpx.adobe.com/experience-manager/kb/analyze-unusual-repository-growth.html#BIfAEMisstoppedandordiskspaceisalmostout

disk space issue AEM

Disk usage is abnormally and rapidly increasing on an AEM server.

===============================================
https://wiki.corp.adobe.com/display/MSTeam/AMSSEC021%3A+AEM+Salesforce+Patch

salesforce
================================================
https://git.corp.adobe.com/Pyramid/aembasic/blob/master/cookbooks/ams/files/default/basicsudoers/dispatcher

GIT dispatcher - sudo file 

=========================================

FTS page

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1010697977

=================================================

https://helpx.adobe.com/experience-manager/kb/block-ips-apache-http-server.html

how to block IP at apache level - http

==============================================

https://www.onlinevideoconverter.com/video-converter

online video converter


=======================================================

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=849085149

aws support details for adobe

================================================

my adobe connect details

https://my.adobeconnect.com/meetkjain/
Conference code: 
8284986306 

Leader PIN: 
285882 


================================================
https://adobe.sharepoint.com/sites/gns/SitePages/Egress%20IP.aspx

list of Ip ranges

==============================================

https://daycare.day.com/home.html

https://daycare.day.com/home/createaticket.html

=================================================

https://wiki.corp.adobe.com/display/MSTeam/Show+Boat+

https://provisioninghub.corp.adobe.com/form 

showboat

https://dx-aaui.cloud.adobe.io

to check the products


Please add AEM Managed Services product context for provisioned customer.

Please add the customer's CSE, adobemsbasic@adobe.com, as an organization administrator for the AEM Managed Services product context.
==========================================

Root CA cert from stephen

https://gist.github.com/fntlnz/cf14feb5a46b2eda428e000157447309


=======================================
to check Hubble version

hubble --ignore_running --version

===========================================
adobe.io recordings

https://wiki.corp.adobe.com/display/MSTeam/MS+Gems

=============================================

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=AMS+Basic+-+Blue+Jeans+Setup
https://inside.corp.adobe.com/itech/kc/using-bluejeans-at-adobe.html

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=BlueJeans+Bridge+Speed-dial

blue jeans

*02 is replaced by 67777

=========================================
https://wiki.corp.adobe.com/display/MSTeam/AWS+Resource+Clean+up

keep tag for snapshot

===============================================
Asset ingestion & Chinook

https://wiki.corp.adobe.com/display/cemcloud/Chinook+-+Release+Notes

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1357789421

============================================

Schedule backups manually:

https://wiki.corp.adobe.com/display/MSTeam/How+to+Verify+a+Custom+Backup+Retentions+Schedule+via+Curl

https://wiki.corp.adobe.com/display/cemcloud/Configure+Backup+Schedule


AEM curl commands

https://wiki.corp.adobe.com/display/MSTeam/AEM+Curl+commands

To check the cron issue for back up policy - 

for a in `cat file1` ; do curl -D - http://bigbear-basic.ams.adobe.net:8080/cxf/lassen/api/v0.1.0/backup-schedules?instance=$a | grep -i cron && { echo $a ;echo "***********************************************";} done > result

=========================================================

Upgrade dispatcher - 

Hi Christopher,
Dispatcher version 4.3.1 has been found to have significant issues, and should be replaced with version 4.3.2. Please follow the steps below to perform the replacement.
1) Download the replacement module attached to this ticket and put it in /etc/httpd/modules and name it "dispatcher-apache2.4-4.3.2.so"
2) Stop dispatcher: service httpd stop
3) Update the symbolic link /etc/httpd/modules/mod_dispatcher.so: ln -sf /etc/httpd/modules/dispatcher-apache2.4-4.3.2.so /etc/httpd/modules/mod_dispatcher.so
4) Change the ownership, permission and selinux settings for dispatcher-apache2.4-4.3.2.so:
chown root.root /etc/httpd/modules/dispatcher-apache2.4-4.3.2.so
chmod 755 /etc/httpd/modules/dispatcher-apache2.4-4.3.2.so
restorecon -F /etc/httpd/modules/dispatcher-apache2.4-4.3.2.so
5) Restart the dispatcher: service httpd start
Hope the above steps would help. Let us know when we can start with the upgrade of dispatcher binary on stage environment.

==============================================================

Requested a Trial license of AEM for FCCI customer. We can request a demo AEM license for our customer in case they do not have access to LWS portal via 

http://cqtrials.corp.adobe.com/content/cq-trials/en/trial-sign-in.html

 Thanks @John Clawson for the help.
 
 licensing portal 


 developer license :-

 https://licensing.adobe.com

 customers can have the Jars also from Daycare portal
https://daycare.day.com/home/products/cq_wcm/aem-63.html
https://daycare.day.com/home/products/cq_wcm/aem-65.html

 =====================================================

 apache release - 

 https://github.com/apache/httpd/releases

yum info httpd

rpm -q --changelog httpd | head -10


 ===============================================

in place upgrade 

orgain-stage2-1933839487.us-west-1.elb.amazonaws.com



root@dropbox-prod2-publish1uswest1-clone-Upgrade:/mnt/crx/publish/crx-quickstart cat preUpgradeHCStatus.properties 
#Tue Jan 09 01:36:37 PST 2018
areAllPreUpgradeHealthChecksOK=true
Maintenance\ Task\ WorkflowPurgeTask=OK
Modified\ Deprecated\ Indexes=OK
Maintenance\ Task\ com.day.cq.audit.impl.AuditLogMaintenanceTask=OK
Replication\ Agents\ Disabled=OK



http://13.57.164.162:4503/system/console/jmx/com.adobe.aem.upgrade.prechecks%3Atype%3DPreUpgradeTasks

upgrade email:

As discussed in our prior meetings as well, here is the upgrade plan from AEM 6.2 to AEM 6.4 :

AMS will provision an upgrade topology starting with the customer's lowest environment and deliver it to the customer upon request - Day Care ticket. As an example, if the customer has staging and production environments with AMS, they would request the staging upgrade first. Once new Stage environment on AEM 6.4 delivered by AMS in approximately 5 working days, old and new staging will be available in parallel for a two-week period. After the two-week migration period, AMS will need to terminate the old staging environment.

The same pattern applies for all AMS environments. Then production will be done in the same way that AMS will take 5 working days to deliver new AEM 6.4 PROD Topology upon customer request and then another two-week period when both old and new PROD env's will run in parallel, followed by a cutover of the live site to the 6.4 production systems.





=============================================================

DNS email before Go live 

Hello Matt,

As discussed on the weekly call today, here are the issues that customers do get while doing a DNS Cutover - during Go Live. 



You have to point your URL to the ELB (Load Balancer) FQDN and not to the ELB Ip address since IP address in AWS always changes . For Eg: 

Suppose your End User URL is www.website.com



website-elb1euwe-n3jgilt9z4xq-1033267145.eu-west-1.elb.amazonaws.com -> FQDN of ELB 



hence the DNS record will be the like this below: 

www.website.com 3241 IN CNAME website-elb1euwe-n3jgilt9z4xq-1033267145.eu-west-1.elb.amazonaws.com. 

now this will work for www.website.com but will not work for simply website.com 


For eg: - 

website.com IN CNAME customer1.mycompanydomain.com //this is invalid 
www.website.com IN CNAME customer1.mycompanydomain.com //this is valid and will work 



Here are the options that you can try for your Root domain website ​ (Without www): 



1) Check with your DNS Provider if they have the option of Alias A name apart from C Name to point that ELB FQDN. (Which happens in AWS Route 53)

2) Check with your DNS Provider, if they do provide any Cloud front option or any Re direct rules which will only be used to re route traffic from website.com to www.website.com. So basically you will assign website.com to Cloud front IP and then Cloud front will further re route traffic to www.website.com.



Please check with your DNS provider for the suitable options prior the Go Live. We just want your Go Live to be as smooth as possible. 


Regards, 



Meet Kumar Jain 

Adobe Managed Services

===================================================================
https://wiki.corp.adobe.com/display/MSTeam/Setting+Up+robots.txt

===============================================================

Rohit 


https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Troubleshooting+Guide+-+Tips%2C+Tricks%2C+Recommendations#TroubleshootingGuideTips,Tricks,Recommendations-SetroubleshootdIssuesorHowtofixalertsonmemoryusagewherethereisapparentlynothingwrong
 
On B7x blocks, the setroubleshootd may cause high cpu. It turns out it is not supposed to be installed or running on these blocks and therefore you can remove it by running:
 
yum remove setroubleshoot-server

===============================================================

sar examples

https://www.thegeekstuff.com/2011/03/sar-examples/?utm_source=feedburner

=====================================================
block threads

sudo -u crx /usr/java/latest/bin/jstack -l $(jps | grep -v Jps | awk '{print $1}') | grep GET | awk '{print $4}' | sort | uniq -c | sort -rn

===================================================

Block specifications - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=MSCentral+BigBear+Block+Specifications


====================================================

when segment not found - repository failed

https://helpx.adobe.com/ca/experience-manager/kb/offline-compaction-fails-with-SegmentNotFoundException-and-IllegalArgumentException.html

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=granite&title=Oak+Support+Enablement#OakSupportEnablement-Howtofixcorruptionwhenencountering%22ConsistencyChecker-Nogoodrevisionfound%22onconsistencycheck

download this file to server somehwere https://gist.githubusercontent.com/stillalex/e7067bcb86c89bef66c8/raw/d7a5a9b839c3bb0ae5840252022f871fd38374d3/childCount.groovy


index=ams_cq cluster="Duluth Trading" environment=stage host=*author* source=*error.log* SegmentNotFound


==============================================================
Splunk training - 

https://primetime.bluejeans.com/a2m/events/playback/1d45ac28-4564-45e7-b857-b43ec4a1d91a




===============================================

https://wiki.corp.adobe.com/display/WEM/Cloud+Acceleration+Manager+%3A%3A+Beta

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/cloud-acceleration-manager/using-cam/getting-started-cam.html?lang=en



CAM provides a one-stop experience to customers to assess their existing AEM implementation and helps guide, navigate and manage their journey to AEM as a Cloud Service, following Adobe's recommended migration methodology. CAM has built-in intelligence to provide context-based enablement for customers throughout their migration journey. 
 
What problem is CAM solving?
Every AEM implementation is a snowflake. Every customer's AEM instance is unique, complex and intricate. Migrating an existing AEM implementation to AEM as a Cloud Service is a time-consuming and daunting endeavour. We built Cloud Acceleration Manager (CAM) to streamline the migration journey and provide a thoughtful guided experience from start to finish for our customers. Additionally, CAM will provide best practices and contextual help throughout the journey to ensure a successful migration to AEM as a Cloud Service.

CAM is a free application. It is not related to the AEMaaCS contract. No hidden cost at all.

Just like Best Practices Report that we shared with you, this is another tool which will further help Customer / Customizer to have the roadmap defined for the Migration.


https://experienceleague.adobe.com/docs/experience-manager-cloud-service/moving/cloud-acceleration-manager/using-cam/getting-started-cam.html?lang=en


CAM bulk upload - 

CAM report bulk upload has 2 parts: 1) BPA report name follow the required naming convention 2) the BPA report to send to CAM team to upload

https://wiki.corp.adobe.com/display/WEM/BPA+Report+Process+for+AMS+Customers

Section E has details step

3 Update the BPA file name with the required naming convention if the file name didn't compliant with the required naming convention: $SnowCustomerName_$IMSOrgID_BPA.csv
4 Upload the BPA file to a shared folder
5 Contact Guy Pelletier to initiate the BPA report bulk upload to customer's CAM site.

==================================================================




Azure weblinks - wiki pages

azure resize - 

https://wiki.corp.adobe.com/display/MSTeam/Azure+VM+how-to+increase+data+disk+space


https://wiki.corp.adobe.com/display/MSTeam/Azure+Backup+and+Restore
(backup and restore from snapshots)

https://wiki.corp.adobe.com/display/cemcloud/Getting+Azure+credentials

https://docs.microsoft.com/en-us/azure/storage/common/storage-azure-cli
(blob storage size azure cli)

https://wiki.corp.adobe.com/display/MSTeam/Azure+-+Provisioning+a+new+customer

http://www.azurespeed.com/Information/AzureRegions

https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sizes-general


Azure supported cloud locations - 

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=cemcloud&title=Supported+Cloud+Regions



DSv2-series
ACU: 210-250

Premium Storage: Supported

Premium Storage caching: Supported

Size	vCPU	Memory: GiB	Temp storage (SSD) GiB	Max data disks	Max cached and temp storage throughput: IOPS / MBps (cache size in GiB)	Max uncached disk throughput: IOPS / MBps	Max NICs / Expected network bandwidth (Mbps)
Standard_DS1_v2	1	3.5	7	4	4,000 / 32 (43)	3,200 / 48	2 / 750
Standard_DS2_v2	2	7	14	8	8,000 / 64 (86)	6,400 / 96	2 / 1500
Standard_DS3_v2	4	14	28	16	16,000 / 128 (172)	12,800 / 192	4 / 3000
Standard_DS4_v2	8	28	56	32	32,000 / 256 (344)	25,600 / 384	8 / 6000
Standard_DS5_v2	16	56	112	64	64,000 / 512 (688)	51,200 / 768	8 / 12000




https://wiki.corp.adobe.com/display/MSTeam/Configure+Instance+SSL+for+AEM+6.40096
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1500650859
(SSL Configuration)

openssl genrsa -aes256 -out localhostprivate.key 4096
openssl req -sha256 -new -key localhostprivate.key -out localhost.csr -subj '/CN=localhost'
openssl x509 -req -days 365 -in localhost.csr -signkey localhostprivate.key -out localhost.crt
openssl pkcs8 -topk8 -inform PEM -outform DER -in localhostprivate.key -out localhostprivate.der -nocrypt

  

Publish SG will same for both the Publishers

Azure keys credentials:

key1 rjsPA389WHaR8vMNPF40WnPffyjEnvbMmUuJIUzqjZk=



xumak


7t9kxT=G7~5KhD_q



Display name
MeetKJain-automation
Application type
Web app / API
Home page
http://meetkjain.adobe.com
Application ID
f9061f99-39b7-42dc-b651-3d7e5f8b65fb
Object ID
d8c720f3-82cf-4d29-b518-9430a9473a7e
Managed application in local directory



https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-macos?view=azure-cli-latest

Azure CLI installation


jayan ask:

Here's the info Rick and I/Caleb need:

1) Name of customer
2) Azure Region
3) CEEs who need to provision the topology, and therefore needs OWNER role (two, for each shift)
4) AEM SKU (SITES, ASSETS etc.)
4) SLA (99.50%, 99.90%)

- Jayan

https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-vpn-faq

https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-about-vpn-devices#RouteBasedOffers
(Shujat - Policy with Encryption and Hashing algorithm)

https://blogs.technet.microsoft.com/canitpro/2017/06/28/step-by-step-configuring-a-site-to-site-vpn-gateway-between-azure-and-on-premise/

https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-about-vpn-devices (About router and life time - azure)

(Azure VPN)

https://blogs.technet.microsoft.com/netgeeks/2017/07/11/creating-a-site-to-site-vpn-ipsec-ikev2-with-azure-and-mikrotik-routeros/

https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-connect-multiple-policybased-rm-ps#:~:text=About%20policy%2Dbased%20and%20route%2Dbased%20VPN%20gateways,-Policy%2Dbased%20vs&text=Policy%2Dbased%20VPN%20devices%20use,devices%20that%20perform%20packet%20filtering.

Route based / policy based routing


Customer Gateway (VPN device) IP address ?
Routing option (Dynamic or Static) ?
VPN Device Manufacturer ?
VPN Device Model ?
VPN Device Firmware Version ?
Device VPN Router supports – Policy Based Routing / Route Based Routing ?
What all your internal subnets needs to be whitelisted at our end (Encryption domain) ?

=========================================

how to force stop azure vm - > 

Solution –
 
In Azure, force stop a VM is possible only via Azure CLI  / PowerShell and hence we want every one of us to be efficient enough to start using Azure CLI, at least.
 
·         Please follow the instructions for the Azure CLI installation –
 
https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-macos?view=azure-cli-latest
 
 
·         Once the installation is done, please run - 
·         If the CLI can open your default browser, it will do so and load an Azure sign-in page.

Otherwise, open a browser page at https://aka.ms/devicelogin and enter the authorization code displayed in your terminal.
Sign in with your account credentials in the browser.
·         Check the version –
 
·         az --version

az login
 
·         Check the list of Subscriptions –
 
·         az account list
 
·         Switch to the required Subscription – Suppose, I would like to switch to our new Customer Subscription - DMa/AMS-MinitabLlc-PRD with Resource group - minitabllc-stage & stop the machine - publish2centralus
 
az account set --subscription DMa/AMS-MinitabLlc-PRD
 
 
·         Show the current assigned Subscription –
·         az account show
 
 
·         How to stop the VM –
·         az vm stop -g minitabllc-stage -n publish2centralus
 
 
·         How to forcefully stop the machine without waiting for long running operations / processes to finish –
·         az vm stop -g minitabllc-stage -n publish2centralus --no-wait
 
·         How to skip Shutdown and Power Off immediately –
 
·         az vm stop -g minitabllc-stage -n publish2centralus -–skip-shutdown
 
 
·         How to start the VM –
·         az vm start -g minitabllc-stage -n publish2centralus
 
For more details - https://docs.microsoft.com/en-us/cli/azure/vm?view=azure-cli-latest





===============================================================

Cloudmanager dockers crawler - 

https://git.corp.adobe.com/experience-platform/self-service

https://git.corp.adobe.com/experience-platform/self-service-crawler

docker run -it --rm --env-file env.sh -v ~/load-test:/tmp/load-test crawler

export ARTIFACTORY_USER=meejain
export ARTIFACTORY_API_TOKEN=AKCp5ekHmvqtNgMp7CBZagwDdKthNEjBVBV6mPhCgWmmCCjAfghX3mM2cQozbngPpMqYW5Mix













https://daycare.day.com/home/brunswickcom/brunswickcom_us/managed_services/206344.html

INC0832199 for Education affliates

INC0832266 for CAA Atlantic Limited

INC0832418

INC0832447 - education affliates



================================================


pen mutual

ip whitelist

HTTP
TCP
80
172.16.18.0/23
HTTP
TCP
80
172.16.48.0/24
HTTP
TCP
80
172.16.64.0/24


HTTP
TCP
80
172.23.4.131/32
HTTP
TCP
80
172.23.5.73/32
HTTP
TCP
80
172.23.5.90/32



subnet-7071855d





===============================================================

SNOW to Day Care integration

https://daycare.day.com/home/cbtnuggetscom/cbtnuggetscom_us/managed_services/153734.html


==========================================================

Dear Customer, 

An industry-wide, hardware-based security vulnerability was disclosed on 1/3/2018. Keeping customers secure is always our top priority and we are taking active steps to mitigate any Adobe Managed Services customer exposure to these vulnerabilities. The primary risk associated with these vulnerabilities is the processors on the physical hardware. We have been working closely with our 3rdparty partners, including AWS and Azure, to mitigate this risk. We have confirmed that AWS and Azure have deployed patches to address the vulnerabilities and we have cooperated with them in their mitigations, including the rebooting of any impacted instances. There is a possibility that these patches may have a performance impact. We are monitoring the system performance and will make instance sizing adjustments if needed. Additional patching to the kernel on the individual instances is being evaluated. Should this be necessary, we will notify you. If you have further questions please let us know.

Please propose a date and time for this maintenance before coming Wednesday i.e. 10th January 2018 IST that falls within Adobe Managed Services support hours (24x5).  

 Sincerely,

 Adobe Managed Services





=========================================================

whats new in CS - 

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/overview/what-is-new-and-different.html?lang=en

=================================================



aws-adobe-notify@amazon.com <aws-adobe-notify@amazon.com>


[5:40] 
Sharma, Deepak <dshar@amazon.com>


[5:40] 
Mushtaq, Rizwan <riz@amazon.com>

==============================================


"P1 ticket - INC1481400 raised for the issue, both PROD Publihsers were unavailable due to an untested Code which did get deploy just before the Outage. Thus making AEM unresponsive & leading into an Outage. AMS has attached forensic data to the P1 for your review. AMS offers Cloud Manager as a deployment Tool which provides Code Quality indicators that could have possible prevented this Outage. Please reach out to AMS for further details on Cloud Manager."

Tim P1's narrative - 




==============================================================
Quarterly patching by Tim - 

aws s3 ls s3://cqms-automation-downloads/rpm-repo/qe/redhat-snapshots/

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2729625683





======================================================

AMS Tool

https://wiki.corp.adobe.com/display/MSTeam/AMSTOOL

remember:

amstool cache basic


git.corp.adobe.com

Go to your profile and update your ssh key



AMSTool + Python drives - 

Segment Store + Disk Usage - 

rm stat* final* file* result*

set -x ; for a in `cat file` ; do value=`echo $a | grep author && { amstool cmd $a "sudo du -sh /mnt/crx/author/crx-quickstart/repository/segmentstore ; df -h /mnt" ; } || { amstool cmd $a "sudo du -sh /mnt/crx/publish/crx-quickstart/repository/segmentstore ; df -h /mnt" ; }` ; SS=`echo $value | head -5 | grep segmentstore | awk '{print $1}'` ; diskspaceusage=`echo $value | head -5 | grep "/mnt" | awk '{print $5}' | grep "%"` ; echo "$a#$SS#$diskspaceusage" >> stats.txt ; done

for a in `cat stats.txt`; do value=`echo $a | awk -F"#" '{print $2}'` ; if [ ! -z $value ] ; then ; variable=`echo $value | grep G` ; if [ ! -z $variable ] ; then ; Mvalue=`echo $value | sed 's/\(.*\)G/\1/' | xargs -n1 | awk '{print $1*1024}'` ; instance=`echo $a | awk -F"#" '{print $1}'` ; diskspace=`echo $a | awk -F"#" '{print $3}'` ; SS=`echo "${Mvalue}"` ; echo "${instance}#${SS}#${diskspace}" ;else ; Mvalue=`echo $value | sed 's/\(.*\)M/\1/' | xargs -n1 | awk '{print $1}'` ; instance=`echo $a | awk -F"#" '{print $1}'` ; diskspace=`echo $a | awk -F"#" '{print $3}'` ; SS=`echo "${Mvalue}"` ; echo "${instance}#${SS}#${diskspace}"; fi; fi  ; done > stats1.txt

cat stats1.txt | sort --field-separator="#" -k 2 -V -r > stats2.txt

set -x ; default=1024; echo "Instance Name\tSegment Store\tDisk Space Utilization" > finalstats.txt; for a in `cat stats2.txt`; do instance=`echo $a | awk -F"#" '{print $1}'` ; diskspace=`echo $a | awk -F"#" '{print $3}'` ; Mvalue=`echo $a | awk -F"#" '{print $2}'` ; if (( $(echo "$Mvalue $default" | awk '{print ($1 > $2)}') )) ; then ; Mvalue=`echo $Mvalue | xargs -n1 | awk '{print $1 / 1024}'` ; SS=`echo "${Mvalue}G"` ; echo "${instance}\t${SS}\t${diskspace}" ; else ; SS=`echo "${Mvalue}M"` ; echo "${instance}\t${SS}\t${diskspace}" ; fi ; done >> finalstats.txt

cat finalstats.txt | egrep -- "prod|Instance Name" > AMS-Basic-PROD-Instances-SegmentStoreSize-DiskSpaceUtilization.txt

rm stats*


==============================================================

https://s3.amazonaws.com/nr-synthetics-assets/nat-ip-dnsname/production/ip.json

new relic ip addresses nodes

adobe office


Adobe Locations IP ranges subnets

192.150.9.200/32,192.150.9.201/32 - Lehi

103.43.112.97/32,103.43.112.98/32,130.248.112.30/32,130.248.112.29/32,103.43.112.99/32 - Noida

193.105.140.131/32 - Bucharest

https://adobe.sharepoint.com/sites/gns/SitePages/Egress%20IP.aspx
https://git.corp.adobe.com/IT-Network/egress/blob/master/nets.json

192.150.9.200/32,192.150.9.201/32,103.43.112.97/32,103.43.112.98/32,130.248.112.30/32,130.248.112.29/32,193.105.140.131/32


New relic Repo by Akshay - 

https://download.newrelic.com/infrastructure_agent/linux/yum/el/7/x86_64

======================================================


Any communication with the GOC can be facilitated by using #goc in Slack or calling x51900 (+1-385-345-1900) regardless of who is on shift.
 

 ======================================================

Download AEM license

Please follow the steps below in order to get access to a development license:

To Login
• Log in to LWS at https://licensing.adobe.com
• Your Login ID is the email address you provided with your order.
• If you don’t have the password, you may reset it and receive a password reset link at your email address.
• Login with the credentials available with you.
• Check the tabs on the top left side of screen after login
• Under Licenses tab, a dropdown menu would be available.

To download the Software
• Please click on “Licenses” and on the drop-down click on “Downloads”.
• A new page will appear. Select the correct ID from the “End User/Deploy-to ID” drop-down and click on “View All”.
• Locate the relevant software and click on Download.
• Install the product that you would get on your machine.

To Retrieve Serial Number
• Please click on “Licenses” and on the drop-down click on “Retrieve Serial Numbers”.
• A New page would open up. Select the correct ID from the “Deploy-to ID” box and click on “Search”.
• To filter the serial numbers that appear, select an item from the End User ID or Deploy-To ID list.
• Click Search to see all the serial numbers.

You can grant LWS access to other contacts following the steps below.
• Sign in to the LWS with your Adobe ID and password.
• Choose Accounts > Manage Your Accounts.
• Click Add Contact.
• Type the first name, last name, and email address for the new contact.
• Select the account or accounts to which you want to add the contact.
• Click Save.

Also, refer the link below for instructions on “Using Adobe Volume Licensing Website.”
https://helpx.adobe.com/x-productkb/policy-pricing/volume-licensing-site.html

Please let us know if you face any issues.

The 6.3 jar can be found on our daycare portal. I have provided a link for your convenience .
https://daycare.day.com/home/products/cq_wcm/aem-63.html


================================================================
DL-TechOps-NOC <TechOps-NOC@adobe.com>

noc email address

===========================================================

https://helpx.adobe.com/in/manage-account/using/create-update-adobe-id.html

how to register as  adobeid

===============================================================

The dispatcher logs are rotated every 14 days and they are compressed nightly.

=================================================================
How to change the slingid 

mate .. need ur assistance - how to change the Sling Id

Larry Raab [3:03 AM]
`java --jar oak-run.jar resetclusterid /path/to/segmentstore`
if oak-run isn't there
do this `/usr/local/bin/otc`
As soon as it downloads the oak-run break out of it

Meet Kumar Jain [3:04 AM]
ok

Larry Raab [3:04 AM]
It iwll put in in /mnt/crx/publish/crx-quickstart/
I think

Meet Kumar Jain [3:04 AM]
and what will be `/path/to/segmentstore`
checking

Need to stop AEM 1st and then run this command. 

Larry Raab [3:05 AM]
crx-quickstart/repository/segmentstore/

Meet Kumar Jain [3:05 AM]
ahh .okay
okay
-rwxrwx---. 1 crx crx 47655130 Oct 26 21:37 oak-run-1.8.3.jar
this get downloaded
java --jar oak-run-1.8.3.jar resetclusterid ./repository/segmentstore/
like this ?
i am at /mnt/crx/publish/crx-quickstart
root@socautocon-prod-publish2uswest2:/mnt/crx/publish/crx-quickstart java -jar oak-run-1.8.3.jar resetclusterid ./repository/segmentstore/
Apache Jackrabbit Oak 1.8.3
clusterId deleted successfully. (old id was 928a3550-599a-4c37-ac6a-32e405b8bccc)
root@socautocon-prod-publish2uswest2:/mnt/crx/publish/crx-quickstart
Now shall we restart AEM ?
@lraab

Larry Raab [3:12 AM]
wait... you did take down AEM before doing that right?
oak-run is always run w/o AEM being started

Meet Kumar Jain [3:13 AM]
:pensive:
let me restart AEM

Larry Raab [3:13 AM]
It might not be a problem

Meet Kumar Jain [3:13 AM]
and then check ..
if i would like to check the sling id ..
any command for that

Larry Raab [3:15 AM]dns

clusterId deleted successfully. (old id was 928a3550-599a-4c37-ac6a-32e405b8bccc) that means it worked
Maybe stop AEM and run the oak-run command one more time?

Meet Kumar Jain [3:50 AM]
restarted AEM fine .. it came up .. how to check the sling id
java --jar oak-run.jar resetclusterid /path/to/segmentstore
this will delete that

Larry Raab [3:51 AM]
Umm... It is in the OSGi some where one sec
I am not sure... if you think it might not be changed I would stop AEM...run the command agian then start it.
Then it will for sure be changed
Message Input

Message @Larry Raab

=====================================================================

Unique Sling ID
AEM author instance uses Sling ID to identify from where the data is coming and to which publishers it needs to (or need not) send the package back to.
Make sure all the publishers in a publish farm have a unique Sling ID. If the Sling ID is the same for multiple publish instances in a publish farm, then user synchronization will fail. As the author won't know where to fetch the package from and where to install the package.

==============================================================

manual clone command - 

https://wiki.corp.adobe.com/display/MSTeam/Clone+instance+failed+with+error%3A+One+or+more+status+check+failed

devika 

curl -i -d '{ "actionId": "clone-instance", "parameters": { "newInstanceName" : "modsec-dispatcher1canadacentral-clone", "keepInstanceOnError" : "true", "skipPreflightCheck" : "true", "keepSeedInstanceRunning":"true" }}' https://bb-basic.ams.adobe.net/cxf/bigbear/api/v0.1.0/topologies/3k1ohhmh5qd4jtj2np6e3contb/dispatcher1canadacentral/actions -H "Authorization: Bearer $ims_token"

==========================================================


dns change

unregister dns for the one we do not want
486  curl -s http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/1ihk0isels68fngmbnhj9h8jl2 > oldTDL.json
 487  vim oldTDL.json

 edit only author / publish dns entries only and edit them
 488  curl -D - -X PUT -d @oldTDL.json -H "Content-Type: application/json" http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/5ejblng0udc8kqbdf8beu3i3vc
 register dns


meejain@Meets-MacBook-Pro ~ % curl -H "Authorization: Bearer $ims_token" -D - -X PUT -d @oldTDL.json -H "Content-Type: application/json" https://bb-basic.ams.adobe.net/cxf/bigbear/api/v0.1.0/topologies/3umamk418ggej8fjegblf6pcc5
HTTP/1.1 100 Continue

HTTP/1.1 204 No Content
Connection: keep-alive
bigbear.request.interceptor.received: 1632169168264
bigbear.request.interceptor.uuid: 9dd8c295-868e-4373-82cc-3ed59b37f82e
Date: Mon, 20 Sep 2021 20:19:28 GMT
Server: Jetty(9.4.28.v20200408)




 curl -X PUT -H "Content-Type: application/json" -H "Cache-Control: no-cache" -d @oldTDL.json "http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/2ieolop8nfrmds69h552jr5j9r"


 Updating TDL - 

 https://wiki.corp.adobe.com/display/MSTeam/Generate+or+Update+a+BigBear+TDL

 ==========================================================
 https://helpx.adobe.com/experience-manager/kt/platform-repository/using/upgrade-aem-article-understand.html 

 ssl

  upgrade URL

 ===========================================================

winter shutdown

Please note that for AMS it is in Winter Shutdown period and only P1 issues will be handled and based on P1 support Policy. Hence any activity apart from P1 will be done after the winter shut down period only(After 2nd Jan'18).



NOTE: A friendly reminder to start with Daycare for all future requests.  By going to Daycare for support, regardless of the nature (network, access, AEM application) you will always be receiving 24x7 ticket routing, of course depending on ticket priority. If the ticket is indeed infrastructure related Daycare will place it in the AMS queue and we will action on it.  In case of a P1 Daycare will follow a defined SOP to get in touch with someone live. Having your tickets in the Daycare system will also allow you to access them directly and reprioritize when necessary. 

===============================================================

ccep

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=986381585#CCEPrivateTestAccountsforStageEnv-4%2F17DesktopClientsand5%2F12MobileClientsworkflowTesting%28InProgress%29-TestAccounts


[10:41] 
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=849085149#AmazonWebServices(AWS)-AWSRoles

switch to bpbu21

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=986381585#CCEPrivateTestAccountsforStageEnv-4%2F17DesktopClientsand5%2F12MobileClientsworkflowTesting%28InProgress%29-TestAccounts

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=849085149#AmazonWebServices(AWS)-AWSRoles

================================================================

vpc peering


Any update on the same. As discussed with you 2 days back, VPN is NO more required . Only VPC Peering is required since you want to make connection from your existing Amazon VPC's to our PROD + STAGE VPC. Please let us know with the following information so that we can proceed further with VPC Peering activity :
 
1) Your AWS Account ID
 
2) VPC ID with which VPC Peering needs to be done
 
3) VPC CIDR
 
4) Any other information that is relevant, please let us know.
 
Also yes, please let us know the list of users along with their email addresses, who want SSH access on both STAGE + PROD Instances. We'll provision those users and email them with the credentials.


https://www.youtube.com/watch?v=Xj69FkoFxP0&t=382s


Azure Vnet peering - 

https://docs.microsoft.com/en-us/azure/virtual-network/create-peering-different-subscriptions#portal



===================

We also would like to know in case you would like to access your new Stage + PROD Topologies via VPN connection. Normally, we whitelist customer's public Egress IP's on our Cloud firewall and connection works fine. No issues with that. But some customers do ask for VPN as well. By VPN, we mean to say that your On Premise network will reach your cloud instances via Secured tunnel over internet.

In case VPN is required, we would require Encryption Domain information from you means in what all subnets your On Premise Network is configured right now. We'll provision your new Topologies on Cloud in a different subnet than yours in order to avoid any conflict.

Just for your information - The subnet where we provision your Topologies ->

10.43.0.0/16

Please advise further.




Hello TEAM, 

As discussed with Julian during our First Customer Meeting regarding VPN, elaborating our ask for the same. Basically, we would like to know if you want to access your new Stage + PROD Topologies via VPN connection. Normally, we whitelist customer's public Egress IP's on our Cloud firewall and connection works fine. No issues with that. Hence VPN, is not a mandate. But some customers do ask for VPN as well. By VPN, we mean to say that your On Premise network will reach your cloud instances via Secured tunnel over internet.

 
In case VPN is required, we would require Encryption Domain information from you means in what all subnets your On Premise Network is configured right now. In case your On Premise Network subnets conflict with our subnet range where your Cloud instances are provisioned which is - 10.43.0.0/16,  we have to terminate Cloud instances both Stage & PROD Topologies and Re provision your them in a different subnet in order to avoid that conflict. In case your On Premise subnet range does not conflict with 10.43.0.0/16, then we are good to go. 
  
Please discuss & advise further.



===================================================================
http2 issue

Dear Customer, 

We understand your concern but our Cloud Provider which is Amazon do not support HTTP 2.0 on the Load Balancers that we use in our AMS environment. However, HTTP2.0 can be enabled at Cloudfront level - CDN Layer. Means traffic which will come from browser to CDN will be on HTTP2.0 while the traffic to the last leg will still be HTTP1.1. AMS Basic do not support cloudfront and hence whatever CDN layer in case you purchase, will be supported by the CDN provider only. Please advise. 


Regards, 

Meet Kumar Jain 
Adobe Managed Services

===================================================================

load testing required for assets only customers


Dear Customer, 

Hope things are doing good & your Assets handling experience with AEM is great. 

We would like to know more as to how you are using AEM, we know its for Assets only but would like to know more about the same like
 
1) Is Author URL exposed to world or limited to certain subnets or certain users of your organisation. Appx. how many users. We just want to understand the max. load your author URL might get at any instance may be during a big Marketing push / new product launch.
 
2) Any major workflows that you are using AEM for. We could see your workflows mentioned in the RunBook but just want to make sure that in case of such scenario when heavy Authoring is done by all the authorised users plus AEM is also following all workflows mentioned in the RunBook, is there any measure or Test required to test this scenario. So that we may apply appropriate measures or investigate on those areas beforehand rather than waiting for Author site down during any major business activity. 

Please advise. 


Regards, 

Meet Kumar Jain
Adobe Managed Services

===============================================================
ftp to day care

https://wiki.corp.adobe.com/pages/viewpage.action?spaceKey=MSTeam&title=Upload+file+to+Daycare+FTP

US FTP server
Host : 204.236.227.102
If you don't have an account yet, please contact dsupport@adobe.com.

Alternative FTP server
Host : sjftp.adobe.com
user : ftpaem1680
pass : Wtfits5$ag
folder : aem_support



#!/bin/sh
#README START###########################################################################################################################
# Daniel Micu
# Adobe Managed Services
# Created 28 July 2016
# Last updated 30 May 2017
# Daycare data upload script
# This script uploads the file provided to Daycare.
# Usage:
#  - the script does not take arguments, it prompts for Daycare ticket number and file to upload.
# Output is printed out:
#  - progress
#  - filename uploaded to Daycare FTP server
# 30.05.2017 - Updated to new Daycare FTP requirements - ftp-s
#README END###########################################################################################################################
HOST='sjftp.adobe.com'
USER=ftpaem1680
PASS='Wtfits5$ag'
read -p "$(tput setaf 6)Daycare ticket number: $(tput sgr0)" DAYCARE
DAYCARE=${DAYCARE:-`date +%Y-%m-%d`_}
read -p "$(tput setaf 6)File to upload: $(tput sgr0)" FILE
FILENAME=`echo $FILE | rev | cut -d '/' -f1 | rev`
FILENAME="$DAYCARE-$FILENAME"
echo "$(tput bold && tput setaf 3)Uploading: $(tput setaf 1)" $FILENAME
tput sgr0
 
lftp -c "open -u $USER,$PASS $HOST; put -a -O aem_support/ $FILE -o $FILENAME; bye"
[[ $! -eq 0 ]] && echo "$(tput bold && tput setaf 6)Done!$(tput sgr0)"

==============================================================

Hello Gourav,
 
The Analytics Essentials account is a dummy account that helps the AEM MS team finish configuration on their side. This account does NOT provide the customer access to Analytics full product, thus the reason for the error the customer is receiving..
As mentioned before, the customer doesn’t have an analytics account. If you believe they do, please provide the ECC ID or the login company name.
 
Thank you,
Regards,
Magda

===================================================================

Tim script - 

sudo -u crx /usr/java/latest/bin/jstack -l $(jps | grep -v Jps | awk '{print $1}') | grep GET | awk '{print $4}' | sort | uniq -c | sort -rn


===================================
Groovy script:

https://gist.github.com/andrewmkhoury/0e92d9ec54755d359624ed49a0f0df7a

Look at the instructions at the very bottom and install the JAR files via system console & install. 
Whitelist the mentioned in the error just in case and then again execute


https://helpx.adobe.com/experience-manager/kb/AEM6-Maintenance-Guide.html

https://splunk.or1.adobe.net/en-US/app/search/search?q=search host="csmbakerysolutions-prod2-author1useast1" MarkSweepGarbageCollector&display.page.search.mode=smart&dispatch.sample_ratio=1&earliest=1535846400&latest=1537488000&sid=1537458719.570697_6E8AC42E-EEAC-4681-96A5-7CAF7AC2AC68

=========================================================

AEM 6.4 only UPGRADE:

https://wiki.corp.adobe.com/display/cemcloud/Upgrade+AEM

Issues:

Hi Manas, Meet, Mihai
 
1) For cosmopolitan-stage3, I just finished the upgrade on publish1uswest2 and publish2uswest2, topology URL here [0].
 
As Manas mentioned, the AEM process remained stuck in level 16 without going further through the next STARLEVELs.
 
Usually, having AEM process stuck in level 16 means that could be issues with indexing on the source instance.
 
Then, I’ve checked the Oak Lucene bundle, responsible for indexing, and found it stopped on the clone source instance, as you can see in the picture below.
 
Starting that bundle made the trick, so that the upgrade process completed well. You can now go further with post-upgrade actions & checks and let us know if you face new issues.

2) 


AMS will NOT start building and deliver of AEM 6.4 Prod topology without the specific request from your side to start work for AEM 6.4 Prod.

As discussed in Upgrade meetings, Prod AEM 6.4 Upgrade topology will be made with clones from actual Prod AEM 6.2. ( this was the process for Stage AEM 6.2) We are NOT cloning the the actual Stage AEM 6.4 and change the run-mode and deliver it as Prod AEM 6.4 as it will have different content and maybe also code.

AMS Basic procedure is to build Upgrade Prod AEM 6.4 topology from Prod AEM 6.2 topology and in this way code and content from Production is preserved.
Delta content since the day AMS is making the clones from Prod AEM 6.2 needs to be moved on Fleetcor side to Prod AEM 6.4 before the actual DNS cutover to new 6.4 Prod. In this way a content sync is to be made in order to keep parallel Productions aligned.

On this Friday, please provide a new timeframe for the actual Prod AEM 6.4 deliver that expectation and when DNS cutover is estimated. 

Regards,
Mihai Iorga
Adobe Managed Services


==============================================================
IP Calculator / subnet

http://jodies.de/ipcalc

=======================================================
Truststore in java

keytool -import -alias ca -file wildcard_icfolsonhosting_com.pem -keystore cacerts

create a keystore:

root@hilton-stage-author1useast1:/usr/java/latest/jre/lib/security keytool -genkey -alias hilton -keyalg RSA -keysize 4096 -keystore keystore.jks
Enter keystore password:  
Re-enter new password: 
What is your first and last name?
  [Unknown]:  icfolsonhosting.com
What is the name of your organizational unit?
  [Unknown]:  Olson + Co Inc
What is the name of your organization?
  [Unknown]:  Olson + Co Inc
What is the name of your City or Locality?
  [Unknown]:  Minneapolis
What is the name of your State or Province?
  [Unknown]:  Minnesota
What is the two-letter country code for this unit?
  [Unknown]:  US
Is CN=icfolsonhosting.com, OU="Olson + Co Inc", O="Olson + Co Inc", L=Minneapolis, ST=Minnesota, C=US correct?
  [no]:  yes

Enter key password for <hilton>
	(RETURN if same as keystore password):  
root@hilton-stage-author1useast1:/usr/java/latest/jre/lib/security 



Import the cert files to the keystore:

keytool -importcert -file tally-aem-prod.hilton.com.cer -keystore keystore.jks -alias "Prod"


https://www.wowza.com/docs/how-to-import-an-existing-ssl-certificate-and-private-key

delete a certificate from keystore

keytool -delete -alias "Non-Prod" -keystore keystore.jks

eg:

root@fleetcor-prod7-publish2useast1:/usr/java/latest/jre/lib/security keytool -delete -alias cqse -keystore cacerts
Enter keystore password:  


meejain@hilton-stage-author1useast1:~ openssl pkcs12 -export -in tally-aem-nonprod.hilton.com.cer -inkey tally-aem-nonprod.hilton.com.key -out tally-aem-nonprod.hilton.com.p12
Enter pass phrase for tally-aem-nonprod.hilton.com.key:
Enter Export Password:
Verifying - Enter Export Password:
meejain@hilton-stage-author1useast1:~ ll


keytool -importkeystore -destkeystore keystore.jks -srckeystore tally-aem-nonprod.hilton.com.p12 -srcstoretype PKCS12


For Hilton issue:

-Djackrabbit.maxQueuedEvents=1000000 -Djavax.net.ssl.keyStore=/mnt/crx/hilton-prod-safe-password.jks -Djavax.net.net.ssl.keyStoreType=JKS -Dhttps.protocol=TLSv1.2 -Djavax.net.ssl.keyStorePassword=s6F0SiVz2wG3FMlqoVZt 



As discussed in the Troubleshooting call today, Customer provided us the .jks files for Non Prod & Prod environments. 

We copied the .jks files to the /mnt/crx location. Given ownership permissions crx:crx to the .jks keystores. After that in the /etc/sysconfig/cq5 file mention the parameters to CQ_JAVA_OPTS:

-Djavax.net.ssl.keyStore=/mnt/crx/hilton-nonprod.jks -Djavax.net.net.ssl.keyStoreType=JKS -Dhttps.protocol=TLSv1.2 -Djavax.net.ssl.keyStorePassword=passwordofthatkeystore "

Restart AEM and issue get fixed. Please update the steps into your RunBook so that it will easier for us to understand and implement the above steps. 

In case of any issue, please update this day care ticket else close this. 

============================================================

dispatcher email

Thank you for the update but any kind of dispatcher configurations should be handled by the customer / customiser, as discussed in the team meetings prior as well. 

We do have the permissions to change anything but we do not want to touch / peep into any kind of customer's customisations. Customer's dispatcher configurations are as critical and secure as their source code and hence we avoid touching them. 

=================================================================

day care ticket template

By going to Daycare for support, regardless of the nature (network, access, AEM application) you will always be receiving 24x7 ticket routing, of course depending on ticket priority. If the ticket is indeed infrastructure related Daycare will place it in the AMS queue and we will action on it.  In case of a P1 Daycare will follow a defined SOP to get in touch with someone live. Having your tickets in the Daycare system will also allow you to access them directly and re-prioritize when necessary. Thanks for your understanding.

==================================================================
com.day.cq.cq-replication

replication bundle service 

===========================================================
tech summit

https://techsummit2019.corp.adobe.com/sessions/author/submit.php

https://tsindia2019.corp.adobe.com/ - use this one


=====================================================

Tim sharepoint

https://adobe.sharepoint.com/:x:/r/sites/amsaembasic/_layouts/15/WopiFrame.aspx?sourcedoc=%7B40849afa-d811-463c-b2af-43af3dba07ea%7D&action=editnew

=================================================================

https://wiki.corp.adobe.com/display/MSTeam/Git+Controlled+Config+Management

git configuration for dispatchers

==================================================================

AEM Heapdump
sed -i ‘s/crx:\/sbin\/nologin/crx:\/bin\/bash/g’ /etc/passwd


su - crx -c "jcmd 21821 GC.heap_dump /tmp/cq.21821.heapdump.`date '+%Y-%m-%d'`.hprof"

su - crx -c "jcmd 330 GC.heap_dump /tmp/cq.330.heapdump.`date '+%Y-%m-%d'`.hprof"



su - crx -c "jcmd 3041 GC.heap_dump /tmp/cq.3041.heapdump.`date '+%Y-%m-%d'`.hprof"



1935 is PID of java

jhsdb jmap --pid 24774 --heap

java 11


sed -i ‘s/crx:\/bin\/bash/crx:\/sbin\/nologin/g’ /etc/passwd

2nd way:

http://34.202.57.244:4503/system/console/memoryusage

2nd way :

I have been following up with Day care regarding the same. And finally Rohit cracked it, to which Day Care also confirmed, we got another way, to collect the HEAP Dumps in case we are getting errors while collecting dumps.
 
HEAP Dump collection can be initiated via:
http://<HOST>:<PORT>/system/console/memoryusage
 
and click on Dump Heap.
 
 

 
You shall see a link to dowload the heap dump at the same screen once the dump is generated.
 
The location of that Heap dump generated via this method is at:
 
crx-quickstart\launchpad\felix\XYZ\data\dumps
 
Where "XYZ" is the Bundle ID for "Apache Felix Web Console Memory Usage Plugin"
 
(it was bundle 44 in OOTB 6.2 AEM system.)
 
We tried this and Yes we did get the Heap Dumps generated.
 


=================================================================

ncr issue - 
[Fri Sep 06 17:34:17.137943 2019] [mpm_worker:error] [pid 28179:tid 140365254187136] AH00288: scoreboard is full, not at MaxRequestWorkers
[Fri Sep 06 17:34:18.138608 2019] [mpm_worker:error] [pid 28179:tid 140365254187136] AH00288: scoreboard is full, not at MaxRequestWorkers
[Fri Sep 06 17:34:56.286370 2019] [mpm_worker:error] [pid 28179:tid 140365254187136] AH00287: server is within MinSpareThreads of MaxRequestWorkers, consider raising the MaxRequestWorkers setting
[Fri Sep 06 17:53:26.902664 2019] [core:notice] [pid 28179:tid 140365254187136] AH00052: child pid 928 exit signal Segmentation fault (11)


=================================

https://adobedx.slack.com/archives/C0AQ7T6VD/p1596559661165400

s3 blob cache 

s3 cache

https://docs.adobe.com/content/help/en/experience-manager-64/deploying/deploying/data-store-config.html#bucket-region-options

=====================================
maven tutorial

https://www.youtube.com/watch?v=dqJanLvjDqc
https://www.youtube.com/watch?v=uEYjXpMDJiU


===============================================================
https://ceac.state.gov/genniv/

US visa
====================================================
vanity URL's 

Apache Sling Resource Resolverorg.apache.sling.resourceresolver - bundle id 

and then search for 

root@petermillar-prod-author1useast1:/mnt/crx/author ls -l crx-quickstart/launchpad/felix/bundle142/data/vanityBloomFilter.txt
-rw-rw-r--. 1 crx crx 1024000 Aug  2 20:37 crx-quickstart/launchpad/felix/bundle142/data/vanityBloomFilter.txt


========================================================



Second, here’s what happened to Cosmo’s dispatchers:
For an as-yet-unknown reason, the directory /mnt/var/www/html was gone, causing Apache to not start because the DocumentRoot didn’t exist.
I diagnosed this by running ‘service httpd configtest’ and looking at the errors in the output.
To fix, we needed to create the directory that was missing, then reset file permissions and selinux attributes using the following set of commands:
mkdir -p /mnt/var/www/html ; chown -R apache:apache /mnt/var/www ; semanage fcontext -a -t httpd_sys_rw_content_t "/mnt/var/www(/.*)?" ; semanage fcontext -a -t httpd_log_t "/mnt/var/log/httpd(/.*)?" ; restorecon -R /mnt/var ; systemctl start httpd



===========================================================================

Dear Valued Managed Services Customer,


Adobe Managed Services engineers will be performing Offline Revision Cleanup (OffRC, formerly called OTC) and Datastore Garbage Collection (DSGC) on your Stage + Prod environment, before winter Holiday/shutdown. These are two important tasks that need to be performed regularly in order to maintain stability and performance of AEM. Users of your affected environment may experience service interruption of up to 2 hours during the scheduled maintenance window.

Please see affected services below.

Author: Affected for the duration of this maintenance
Publishers: If your environment has dual publishers there will be no end user site interruption. If your environment has only one publisher end users will be affected for the duration of this maintenance.

Please propose a date and time for this maintenance within the next 2 weeks that falls within Adobe Managed Services support hours (24x5)


Sincerely,
Adobe Managed Services


===================================================================

https://wiki.corp.adobe.com/display/MSTeam/AlertsDB

alertsdb wiki page

=======================================================================

https://adobe-consulting-services.github.io/acs-aem-commons/features/dispatcher-flush-ui/index.html

dispatcher flush agent from author

==========================================================

https://docs.python.org/3/tutorial/index.html

python

======================================================


shm 

shugoyal@adobe.com; arawat@adobe.com; shaque@adobe.com; pattanai@adobe.com; adlakha@adobe.com
 



Hi Shubhra/Suhail,
 
We require your help in running SHM with 24 Hour Fitness Team. Customer has confirmed the availability on the following:

Monday (11/13)

1pst-3pst



Tues (11/14)

10-2pst
 
Please let me know the available day for any of the above slots at your end so that someone from your team can attend the meeting, also share his/her email ID so that I can send the meeting invite.
 
Looking forward for reply.
 
Regards, 

Meet Kumar Jain
Adobe Managed Services

=====================================================
algorithm issue with ssh

https://linuxcluster.wordpress.com/2016/08/15/algorithm-negotiation-failed-for-ssh-secure-shell-client/

ssh -oKexAlgorithms=+diffie-hellman-group1-sha1


=============================================================

Regent-SlingAuth-1.0.0.zip -> regent issue 

=======================================================

rewrite rules:

## New Redirection rule by Arvind ##
RewriteRule ^/apis/cloudplatform/usermanagement/docs/setup/createcert.html$ https://www.adobe.io/apis/cloudplatform/console/authentication/createcert.html [L,R=301]

## New Redirection rules by Arvind Ref:INC0201157 Date:27-Oct-2017 ##
Include conf.d/redirects_from_adobeIO_to_GitHub_V2.conf

    # marketing.adobe.com Target Redirects
    Include conf.d/marketing-acom-target-redirects.conf




## These are temporary 302 redirect rules - Arvind##
RewriteRule ^/apis/cloudplatform/usermanagement.html$   https://www.adobe.io/apis/cloudplatform/umapi-new.html [R=302,L]
RewriteRule ^/apis/cloudplatform/usermanagement/docs/gettingstarted.html$   https://adobe-apiplatform.github.io/umapi-documentation/en/getstarted.html [R=302,L]
R


    ==============================================================

https://skms.adobe.com/tools.rt_portal.request/create/

skms monitoring request

GOCTT-42578 - false alert for fortinet vpn - 26th oct'17

=======================================================
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1448823161


curl -H “CQ-Action: Delete” -H “CQ-Handle: /etc” -H “Content-Length: 0” -H “Content-Type: application/octet-stream” -H “Host: flush” http://35.171.196.160/dispatcher/invalidate.cache

https://wiki.corp.adobe.com/display/MSTeam/CQ+AEM+Apache+Dispatcher+-+Flushing



jenkins +  maven issue with AEM

=========================================================

https://wiki.corp.adobe.com/display/MSTeam/Show+Boat

showboat - market cloud link 

=============================================================
SSL on instance :

# keytool -genkeypair -keyalg RSA -validity 3650 -alias cqse -keystore ~/cqkeystore.keystore -keypass password -storepass password -dname "CN=sbroders-w7, OU=CQ, O=Adobe, L=Ottawa, S=Ontario, C=CA"

# base64 ~/cqkeystore.keystore | tr -d '\n' > ~/encodedkeystore.txt
	
curl -D - -X POST -d '{
"actionId" : "setup-instance-ssl",
        "parameters" : {
        "enable-ssl" : "true",
        "cq-user" : "admin",
        "cq-pwd" : "mQBHN@v5MX3C=",
        "keystore-password" : "password",
        "key-password" : "password",
        "key-alias" : "cqse",
        "encoded-keystore" : "/u3+7QAAAAIAAAABAAAAAQAEY3FzZQAAAWVZSyrFAAAFATCCBP0wDgYKKwYBBAEqAhEBAQUABIIE6djjd2jz9aKvhQSb1ruM5xORvV+fJuhAce2s2hkNGq6lImTNMQf+1GeT1mwbM+tQ1nbRYOOtP3CURNl3UOTOX3KfYVBnaQpg4oFja5btPz3JZM1xZtBga1Oe8SpPaxeeJWJVNz6wY9u0qnPAfZ0dS0apdYPdSa2EAD3FJ8vOGVNTuqY5uUgLEklBaZEFZjNifUuGKGUbbGkWttcbeypM0f2A9QpdRtH7rtAqRHc1KDiHLMkTwKSHMsY/Wb4WS+Lc29Lgb+tjdUVIK2vk5i89Oo/h6vOrBXi+ReYiDrAxu51RvvU97norvBxgpp6JsaNTfFV5jJGDQVj7iPdgBkGhwmFxSkbe7Ny795emrhsXoS9cFtfNcPzJrvcurdTHM2ZVPbkbhS9Ue+H3o1TzgPuIYdijxkOD9qxsWx6Ct0eAo+ZbDz5lkfmm7o49BRAXpkCY/+g0o+ogqNgdjtN4UFZKlCSqPRdSJRi3wo9uBg2ecdSSsjajHjW2nCfCB7T+iYA2wpicyD6JYFxsfIgbuoKE2NQcLzFF4YaVzm7/aRslqoGv/A2N8NHGUQUTpjPUIqcxYKjle6ekPEYUB/5k4NyGyIshVY0HlvzKsOc+fcWV3jefM6PL5FZ+ETG9EyrI+9oLYC2PXwbn77/MPoSmAnlt7TFp/S3ZQUfKAU3/PmPAh7CecKFqb2g+0/75+DvJYn4DzidisPlefS9kmAQcv4DwyCl7Ds+edVHQPoeTmtnOeVX4juibY9VzDxcTrXsjjy8B5Jkf6zwlmLUoxExhHTTTFBXxMB9FjMJT2nRrStNrXlUpjrhjobiaSOD79CNbEa5TWZeoHx4THPkuMs7kvRM65Sz36pbvfLl+UNGQlbUo2GEqJjFl8V/709PafoLP92/brWPoL6i3xjxEn7flUP0BidTCm2P1uJ6XCf4+kWRiAvLuPLETaKjn70s8O2b2NMXak7fTy2FPasX38cUrrK89YbdR03B0ZlX+UuAVDgIanJWHRsbyfoIGuqHnVkOfq+HeUYaZOSufzWeDv/s62O4fPUVfEf+R3gHvKttAm485tolBiKekbyWLu1pnMsIfnGVs3pIGafFjDbWGgXFcu5jzXBWMxN0WgC2vt+wHHefV30OUt6yqoogG98L6+3Teb3SFSF8dpDdtnz93J3P+qTmtnO3lHRJ4KdwD2YYvIT1BGINNS++l6IeYbeWoGRATxDPo4iaPeGbsEUWs5GfP5L0Cydm8ErHbM7/9NwNCxqlqwnF+LOlkBO8QgCjPBbBxzrvX+J+TpGpSo7m99xJsnOi4Y/6Lw2tk4OS05ovtBupM34qjNfyIXlSw60/eNQ4Kag0glrpDkxu50Ycy2OFMri3Z/WquRVSlfr7kfA+PCZT7dxgv3CYWThr1HuPVG6vY+qDPr/M2O+A8bQTrB9fbrQfV+YbKB0YU6jIoj0KDj/Q62j0+D/wbMwn3gET79egAmhdAJspIm3Pz02Vv3C3y+nEx4QrwwiHycMIvnkJnRfvAD5T+m4zjpDak8S+cDB9TIQ3uUB8R9q1ueaMiBlq04A7Y9cC0CiS/hB+9uL3ty5oxbDt/sFFeD/jlqX5mMWEL0iHyZNYcJ4SRBKCUg2v8BAqGDoTaN2I0Xm4opvckLgG0QjxmK5xYYrwVeSwg6cozZCi2jLbnT4OF4ZtOuQAAAAEABVguNTA5AAADaTCCA2UwggJNoAMCAQICBBr7DyEwDQYJKoZIhvcNAQELBQAwYzELMAkGA1UEBhMCQ0ExEDAOBgNVBAgTB09udGFyaW8xDzANBgNVBAcTBk90dGF3YTEOMAwGA1UEChMFQWRvYmUxCzAJBgNVBAsTAkNRMRQwEgYDVQQDEwtzYnJvZGVycy13NzAeFw0xODA4MjAyMTQzNDJaFw0yODA4MTcyMTQzNDJaMGMxCzAJBgNVBAYTAkNBMRAwDgYDVQQIEwdPbnRhcmlvMQ8wDQYDVQQHEwZPdHRhd2ExDjAMBgNVBAoTBUFkb2JlMQswCQYDVQQLEwJDUTEUMBIGA1UEAxMLc2Jyb2RlcnMtdzcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCBbon1eHQck+/PBdCaoY5MEbgHGSTpHqW6dzUwfduIyZfgbxN0/L6XKy26gkD22kYXS41S0CrGHCMn7p3JAyz4B55/oRKBXIMDmOD4vlBrogvpcrs4k6WohLmv69jn6ujkTU/gBoik2w/TEAYGRggjilcJwKpmKi/VSPpV2byBkxv/WhfDe6PhJSDkkG/HNkgJXnA5uYgYdYJcWNHL72IKB8qO2sU6MyM+eR1vyioNgVXBRsds5i/+p2P/gTPhVrSV1Qm+yhSPv9HgzQXTl8udK92uA/mzgPLIgyPUFCchVYDvRgv2bHeoq/3uz8FOx6oAmGk+9qse5s534DQS3SoFAgMBAAGjITAfMB0GA1UdDgQWBBRBtNjqsCp3sl8R4o0HAbZug/XAQjANBgkqhkiG9w0BAQsFAAOCAQEAZJ4Zarxqzd3ud81uRoIV5xs2hCSXwyNSJ6Frjdp1yY3hg0ouo/XJS5mai86+lxNHdqh7B1tv6EiyfPzoYRuzV2DcBI6+99YkvlVeRGVzSCK8L6saDXZDPXx2kCSHpFWaL6MzrP7SlI/92gv0SofUFhocyBFv3qvDtvSWMivpEhnSxYXU7wJtpDUHoI8u9sEVHxdwElh6S1fKZak51zlRDVT9It1WAVyje9/lvg2yBtjPd9AN+nYhAdpkkGR7xlsG6HWPrP4HnbPF+giN6JVleDuwoJhbYm4j9o/Fa9+r9yb1g39FLDDPn3K5UBhkAcsqvsjvLZhOc5n8yKYNG0sk2XqpB3hy12OB7efJVFGMWWGu1fp6"
        }
}' -H 'Content-Type: application/json' http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/3v397bevag9vt881eq58hdjokh/author1useast1/actions

Note: make sure before running the same for pub2 , make changes on the security group and change back to 4503 / 4502 from 5433




curl -D - -X POST -d '{
"actionId" : "setup-instance-ssl",
        "parameters" : {
        "enable-ssl" : "true",
        "cq-user" : "admin",
        "cq-pwd" : "K02S5wD}Rhm?",
        "keystore-password" : "password",
        "key-password" : "password",
        "key-alias" : "cqse",
        "encoded-keystore" : "/u3+7QAAAAIAAAABAAAAAQAEY3FzZQAAAWY80jNbAAAFADCCBPwwDgYKKwYBBAEqAhEBAQUABIIE6AYPgK1k8GEEKaTVOdLhsMaH9XR00TIcPIfMoQWH31pnXtgDAmeE+IBsuAx35rk2EoSgZKL9bacXEVRMNOmpJoFoQuyFZS0Of82dCFtNtmimISQIVvxRHb5NoZvsc5ZO2216ZkltWiZKqIYvmSmHFJ11CcPPSSnzWi7qIQsBtCcInhlnbydpWPYhmdMScpPhQKptSSkFR7Z3BybX0C4qHxP7e2uNZZmoqosDXhI01G9mIFY6lK6a0cqsQJnmBykKHyBTdDQoEJo0qqpdo5Zd27cER85LVmuGgApxoPCB9mchfcrO6augrFB0RJ7boXhxfMM8BbtDzDQbNQbXvoUPOgWDDRJ9QKvmjt/Gyrg66ZWaLdzak8QQmu6WJYtom2pf1EDnA/s1JI3yFWav/7GFia/nqZiFmJjseYWU3gHrLmt9Vj1pRpZFai3sYVSwgKF8sUpQKOhC/xgUfn0BjFHl9Y7mW+/oEAN82JaLq/sPGaoWNHrvtYMox7ueyVHyz0ykhTub9YiiO/cCAVpIGj9ubvsyae3SmOaXBJ90d8M2qacqIrVTkBR8lfw0Qp2nAQZuB1be96SI0Ic8wbFv+6lhVW4SxFibLA0rbrfmXzXOrTQ23P4xXPXuMXgAa9R7zgZa74BxGCoumb1x3Aia50cv0yD/ZJ1ZsHdfQtfmEx9C9vxUJvLTy/i5Nt2XFYiMlggHPITGRuYoofEJ10rwaJ6i0AB/J9LA0SgLF7x+wndC31YHv7jRnPQvAsZAwJ96+QCZnCG6PGyJMJ27cXgT2yaaRnsksnv5MhcdPorC+fNdxEeZQHz4c3iKH50nbQy8k6WR+AH5EVlYO2kHGTxwSK44UyOPE4PzP3IGbxgQTWl4RK1f9vB1wmpDu0KXsdwa4ZU7XTAqw5dwwakQ8L57PCS3JC9GzNsRwOhaBrCRjqmke/J2wLuBPNy0g4o6AYLS6bAzI2LTDdkduMhTWwCh6vm7KKU5Zu0RbEtFudA9SV7sqFT+bE7SFazq33+p+M8Rh73ikkUbdHpjVFKKlZU44noA8fp8nkH+AV0xZcEOyfmvjRchDVxVEtpYKPfY/9dcLHM8SWoSD820fN31Bz3HyiRkqPr3rbAfFkDcfLgi5Rguhj45ma+kjsgZtEtWiVcReOu3mtyCAheroxW8A7dNAwnQFsxzu5fa+pHEnBhXdUDLYF0ft8unTYkptZ0MyNbIv2Tk4GzuFxvILAT5JIxm8/D6SKob679S4cJiEcf95fZlh2bLvn/+D77j6Sm/H3y2PYC2eNqSDGXidhcwF7IIw4160oHVasX1Rf+VgyxAVnbaWAH9K+Ifc434XnqWFWQRQ2qGjHq/P2EKND+6RPw2puc1okrRtXDX7EDsMl/JCPvHT47Ki43wbB6xjWeY9hcQiZnx+s4c/hVmnit0oyv4u+sNPwgAiSIYa2GMUKeV3iovOn4+29visyFTLZ0+GVnltBQep3uOfkF/lNaG49WcNTKHTt1hxSP0CTbBi8+axSdhe/roHZ0xxchBnpilu+oR1ZaEvVeOFT5uIIXdyV06y9e4OUrxkaWgwbIG/8o1/usrR/xdqK0VZRT/F76Rd9p5/Wj0TO3z2Hi6REaUqTQC3w+rrxZDudedovPTgHMhB60yhjdreRZFEhp/7wgfG3oYfXwe4CE6A8OuBckNAAAAAQAFWC41MDkAAANpMIIDZTCCAk2gAwIBAgIEH8beyzANBgkqhkiG9w0BAQsFADBjMQswCQYDVQQGEwJDQTEQMA4GA1UECBMHT250YXJpbzEPMA0GA1UEBxMGT3R0YXdhMQ4wDAYDVQQKEwVBZG9iZTELMAkGA1UECxMCQ1ExFDASBgNVBAMTC3Nicm9kZXJzLXc3MB4XDTE4MTAwNDAyMDUwMFoXDTI4MTAwMTAyMDUwMFowYzELMAkGA1UEBhMCQ0ExEDAOBgNVBAgTB09udGFyaW8xDzANBgNVBAcTBk90dGF3YTEOMAwGA1UEChMFQWRvYmUxCzAJBgNVBAsTAkNRMRQwEgYDVQQDEwtzYnJvZGVycy13NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKlthUHp17SioaLDpJlDJq0y6G501SmDaLiPrGKfuRItJoGfLGloasBwocLlWh08tIjmDnwFCumQgNhFAsQIy5aCrebf/TRvdbyRxzj4XaFhy7QQPfpUbod/AW4koRKk23IQdMQyuo3S6N/Twcb0enqqvgFmxGXtrS/TCZ9h2MNBI+9KISPCUkHyVlj+oZ+YgGupq4wm8lXk7cwRa6n6FNeFQwnIYK60rdwDPtDvW/nLJbrAbmaPlKbz52dGMFRKdsaqSRHaNOQWw00NxFjJHOJUuAJPthjfAhWDNFflGrz2bZgwZ2G8M9dgeuOh0rFW4YrOHwh3Ej3MvQhcVAavRqsCAwEAAaMhMB8wHQYDVR0OBBYEFGsjhD8SQ365u0mJudmA994IrR0qMA0GCSqGSIb3DQEBCwUAA4IBAQBVGfNc08XFM1Dc9syuca0M51IJzI3i9a82fJbitYVcMfhwiyyVx3m0/E4jlZRTHch+OSDmdDqRI4tWW2lrWWFGVIfDN3PwyyVnGbAGsCAS7Ow86VLd4WhG3dYu6GbjKo4UqRyFJiTsQQtkfKPh5wpkDNojrRBiU+NLd4kbmN4+9FtacgMxVVyeZR+AICswIBffEJx+TCDBTwr165ND1FWv5hvEzi9sxAALuFpk/9SxZOD4+98ORV8RMul0ORlZSsFV4nFykIPVJNBk7U01JS0S9cZdaVdTxOLx7jF7zI8ovUbeZTx7eZsYAsJdic1PYiFlUSre9+iRJ94viCMGQz0oiJUvsdvGvKa02C1Ht/FJq6Kq6S8="
        }
}' -H 'Content-Type: application/json' http://bigbear-basic.ams.adobe.net:443/cxf/bigbear/api/v0.1.0/topologies/7fjnu1etogc5ifcjn7rlehvgl3/publish1uswest2/actions




====================================================================

See this link for instructions on getting assistance with questionnaires - https://wiki.corp.adobe.com/display/MSTeam/AMS+Security+FAQ#AMSSecurityFAQ-Q:Mycustomersentmeasecurityquestionnaire,whatdoIdo?
 
Regards,
Brad Bartholomew

======================================================================

set up open office for forms customer - 

https://wiki.corp.adobe.com/display/MSTeam/OpenOffice+and+PDFG+Setup
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1530093404 

https://docs.adobe.com/content/help/en/experience-manager-65/forms/install-aem-forms/osgi-installation/install-configure-document-services.html#system-requirements

================================================================

http://54.164.126.72:4503/system/console/slinglog

as mentioned by Tim 

=================================================================
https://wiki.corp.adobe.com/display/MSTeam/Sharepoint+site+issue+while+adding+Change+Request+runbook+document

sharepoint runbook approval issue

============================================================

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1451662978

Security wiki to follow by brad & harsh
===============================================================

https://wiki.corp.adobe.com/display/MSTeam/ImageMagick+Notes

=================================================================

AEM 6.4 Upgrade slides

https://adobe.sharepoint.com/:p:/r/sites/amsaembasic/_layouts/15/Doc.aspx?sourcedoc=%7B1AC916A9-F625-4C9F-BB6F-1EDF76D5A0A7%7D&file=AMS%20Basic%206.4%20Planning%20Guide.pptx&action=edit&mobileredirect=true


Hi Rory,


I run the AEM Basic business line for Adobe Managed Services. First of all, my apologies on behalf of my team for bombarding you with emails regarding AEM 6.4 upgrade pre-briefing meeting. We are being proactive so our customers are well informed about the upgrade timeline and contractual side effects (uplift fee) if not completed by end of October.


Based on recent email exchanges I have the following understanding of your current position.

* You have a very simple site that would not require much lead time to upgrade
* You would like us to ping you again sometime in June to start the upgrade process
* You would like to know the Extended Operations Uplift Fee amount so to help with prioritization and decision making


Again we want to be proactive and provide you with pertinent upgrade information. We are asking for an 1-hour window to meet with you and your team as soon as possible. Then start the upgrade process in June which will give you approximately 5 months to complete. I would recommend starting the upgrade earlier rather than later in case you run into issues. The Extended Operations Uplift Fee is 50% of your remaining total contract value from the upgrade deadline (October 31, 2018) to contract end date (2020-03-01).


Please let me know if you have any questions. I would be happy to hop on a quick call if it's easier. Many thanks.


Regards

James...





Hi Raymond/ Mirum Agency Team,
 
Sorry for chiming in this discussion. Since all the key stakeholders on the project are active in this email thread I would like to bring your attention to the email AMS team has sent couple of times to schedule a meeting to discuss AEM 6.4 upgrade timelines. As you may aware AEM 6.4 is GA as of April 4. Cerebos organization is currently running on AEM 6.2 and you will need to complete the 6.4 upgrade no later than October 31, 2018. Per your AMS contract you are required to maintain an AEM version within at least one release of the current AEM version; with the release of AEM 6.4 only versions 6.3 and 6.4 will be supported by AMS after October 31st without an additional Extended Operations Uplift Fee. Please refer to our Product Specific Licensing Terms (https://adobe.ly/2qHFV52) for details on the uplift fee.
 

I would like to schedule a follow-up meeting with your to go over your overall timeline, and to answer any questions you and customizer may have. The key dates of focus are:
- New non-prod environment delivery date
- New product environment delivery date
- 6.4 production go live date

Please let us know what date/time will work with your and Mirum Agency schedule and we'll send out a meeting invitation.  

======================================================================

Hello Alice / Dechert Team, 

Please let us know if we can have a quick meeting may be today or tomorrow so that we can discuss on the upgrade to ssl

 and what shall be the roadmap this year. We'll not be upgrading right away. This is just a Pre-brief meeting just to let you know as to why upgrade is required and how will we plan this upgrade through this year. AEM 6.4 has got many new features as compared to AEM 6.2 which would be very beneficial for any customer and their customiser, in administering their site. Also as per contract, every customer is required to be on the latest release of AEM or 1 release below. So if AEM 6.4 is launched, then contractually, every Customer should at least be on AEM version 6.3 . 

Please let us know any 1 hour time frame for the same. 



Regards, 

Meet Kumar Jain

Adobe Managed Services

=========================================================================
tcpdump -ni eth0 port 443
	
traffic is coming 
===================================

DR Strategy - 

Azure - https://fieldreadiness-adobe.highspot.com/items/5beb40f7429d7b59b259ffdd#1

AEM aa CS DR Strategy - 

https://www.adobe.com/trust/resources/adobe-experience-manager-as-a-cloud-service-bcdr-fact-sheet.html#





==================================

SSL scan 

https://www.ssllabs.com/ssltest/analyze.html?d=dpss.lacounty.gov&s=45.60.151.78

======================================


in case single sign on 

http://52.42.52.205:4502/libs/granite/core/content/login.html
/system/console/productinfo


[8:36 pm] Liviu Iliescu
/system/sling/cqform/defaultlogin

[8:36 pm] Liviu Iliescu
/system/console/configMgr?sling:authRequestLogin=1

=================================================================

https://adobe-my.sharepoint.com/:x:/r/personal/shbagchi_adobe_com/_layouts/15/Doc.aspx?sourcedoc=%7Bcd1ea259-c22c-435d-8f26-60f15da31bc6%7D&action=edit&activeCell=%27Nov19%27!Z8&wdInitialSession=0aeb146b-627e-4318-972f-48f6671a57ea&wdRldC=1&cid=de5030cd-626b-49f2-bb26-06f9e271c023

shantanu sir - leaves

=============================================================

splunk wiki

https://wiki.corp.adobe.com/display/MSTeam/Splunk+-+Sample+Queries

- https://wiki.corp.adobe.com/display/MSTeam/CSE+Guide+to+Getting+Started+With+Splunk
             - https://splunk.or1.adobe.net/  


             https://wiki.corp.adobe.com/display/MSTeam/Splunk

             ============================================================

index=ams_aws_elb_access elb=rrpowersystems-prod2  | rex field=request "^\w+\shttps?://(?<content>\S+):\d+.*$" | stats count by content


https://connectivedx.webex.com/meet/SteveO

bmc

===============================================================

Mike - michael campbell 

https://wiki.corp.adobe.com/display/MSTeam/ServiceNow+to+Splunk+Integration


=============================================================
Shujat wiki - 

Restore Assets (Azure-Blob) customers from one env to another


https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2172882385

===============================================================


aem 6.4 block61 dispatcher configuration

https://wiki.corp.adobe.com/display/MSTeam/AMS+Dispatcher+-+Manual


===========================================================
western union

327 818 572

===========================================
yum install - 

sed -i 's/d2kisf0dcazo4i/d1ujfe5d5pdj82/g' /etc/yum.repos.d/*

==========================================


new relic agent installation

apm

https://wiki.corp.adobe.com/display/MSTeam/New+Relic+Extension+installation


=================================================================

directly to useradmin console

libs/granite/security/content/useradmin.html

https://13.57.74.48:5433/libs/granite/security/content/useradmin.html
==================================================

Hi,
 
Thank you for your email.
I am currently out on PTO and will return to work on <Day> <Date> by <Time>.
 
During this time you may reach out to my colleague <Full Name> <email address> for any help.
For any urgent issue which requires Management attention, please forward your request to my Manager, Shantanu Bagchi <shbagchi@adobe.com> 
Else, I will respond to your email upon my return.
 
Thanks for your understanding,
<Full Name>
 
 


 ====================

 https://jira.corp.adobe.com/browse/MONREQ-42007

 jira ticket status

 ================================
 
Out of office template

Hi,
 
Thank you for your email.
I am currently out on PTO and will return to work on <Day> <Date> by <Time>.
 
During this time you may reach out to my colleague <Full Name> <email address> for any help.
For any urgent issue which requires Management attention, please forward your request to my Manager, Shantanu Bagchi <shbagchi@adobe.com> 
Else, I will respond to your email upon my return.
 
Thanks for your understanding,
<Full Name>

===============================================================

link to reset the adobeid

https://helpx.adobe.com/manage-account/using/change-or-reset-password.html

https://helpx.adobe.com/manage-account/kb/account-password-sign-help.html

https://helpx.adobe.com/x-productkb/policy-pricing/volume-licensing-site.html

===============================================================

https://wiki.cac.washington.edu/display/infra/Extracting+Certificate+and+Private+Key+Files+from+a+.pfx+File

pfx file issue 

https://www.shopper.com/certificate-key-matcher.html

=============================================================

cat /etc/sudoers.d/power_users_group_sudoers 





%power_users ALL=(ALL) NOPASSWD: /bin/cat /etc/filebeat/*
%power_users ALL=(ALL) NOPASSWD: /bin/cat /var/log/filebeat/*
%power_users ALL=(ALL) NOPASSWD: /bin/cat /mnt/crx/author/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/cat /mnt/crx/publish/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/cat /mnt/var/tmp/*
%power_users ALL=(ALL) NOPASSWD: /bin/cat /usr/share/GeoIP/*
%power_users ALL=(ALL) NOPASSWD: /bin/cat /var/log/crx/*
%power_users ALL=(ALL) NOPASSWD: /bin/cat /etc/hosts
%power_users ALL=(ALL) NOPASSWD: /bin/cat /etc/sysconfig/set_etc_hosts.base
%power_users ALL=(ALL) NOPASSWD: /bin/cp /ephemeral0/tmp/* *
%power_users ALL=(ALL) NOPASSWD: /bin/cp /etc/filebeat/* *
%power_users ALL=(ALL) NOPASSWD: /bin/cp * /etc/filebeat/*
%power_users ALL=(ALL) NOPASSWD: /bin/cp /var/log/filebeat/* *
%power_users ALL=(ALL) NOPASSWD: /bin/cp /mnt/crx/author/crx-quickstart/logs/* *
%power_users ALL=(ALL) NOPASSWD: /bin/cp /mnt/crx/publish/crx-quickstart/logs/* *
%power_users ALL=(ALL) NOPASSWD: /bin/cp * /usr/share/GeoIP/*
%power_users ALL=(ALL) NOPASSWD: /bin/nano /mnt/crx/author/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/nano /mnt/crx/publish/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/nano /etc/sysconfig/set_etc_hosts.base
%power_users ALL=(ALL) NOPASSWD: /bin/rm /mnt/crx/author/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/rm /mnt/crx/publish/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/rm /usr/share/GeoIP/*
%power_users ALL=(ALL) NOPASSWD: /bin/vi /etc/filebeat/*
%power_users ALL=(ALL) NOPASSWD: /bin/vi /mnt/crx/author/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/vi /mnt/crx/publish/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /bin/vi /usr/share/GeoIP/*
%power_users ALL=(ALL) NOPASSWD: /bin/vi /etc/sysconfig/set_etc_hosts.base
%power_users ALL=(ALL) NOPASSWD: /bin/vi /mnt/crx/author/newrelic/newrelic.yml
%power_users ALL=(ALL) NOPASSWD: /bin/vi /mnt/crx/newrelic/newrelic.yml
%power_users ALL=(ALL) NOPASSWD: /bin/vi /mnt/crx/publish/newrelic/newrelic.yml
%power_users ALL=(ALL) NOPASSWD: /usr/bin/less /mnt/crx/author/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /usr/bin/less /mnt/crx/publish/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /usr/bin/less /var/log/filebeat/*
%power_users ALL=(ALL) NOPASSWD: /usr/bin/less /etc/sysconfig/set_etc_hosts.base
%power_users ALL=(ALL) NOPASSWD: /usr/bin/tail -f /mnt/crx/author/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /usr/bin/tail -f /mnt/crx/publish/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /usr/bin/tail /mnt/crx/author/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /usr/bin/tail /mnt/crx/publish/crx-quickstart/logs/*
%power_users ALL=(ALL) NOPASSWD: /usr/local/bin/dsgc
%power_users ALL=(ALL) NOPASSWD: /usr/local/bin/otc
%power_users ALL=(ALL) NOPASSWD: /usr/local/bin/threaddump
%power_users ALL=(ALL) NOPASSWD: /etc/init.d/cq5 *
%power_users ALL=(ALL) NOPASSWD: /etc/init.d/set_etc_hosts start
%power_users ALL=(ALL) NOPASSWD: /sbin/service cq5 *
%power_users ALL=(ALL) NOPASSWD: /bin/kill *
%power_users ALL=(ALL) NOPASSWD: /bin/pkill *
%power_users ALL=(ALL) NOPASSWD: /bin/cat /mnt/crx/author/hmac_util.py
%power_users ALL=(ALL) NOPASSWD: /bin/cat /mnt/crx/publish/hmac_util.py
%power_users ALL=(ALL) NOPASSWD: /bin/vi /mnt/crx/publish/hmac_util.py
%power_users ALL=(ALL) NOPASSWD: /bin/vim /mnt/crx/publish/hmac_util.py
%power_users ALL=(ALL) NOPASSWD: /bin/vi /mnt/crx/author/hmac_util.py
%power_users ALL=(ALL) NOPASSWD: /bin/vim /mnt/crx/author/hmac_util.py
%power_users ALL=(ALL) NOPASSWD: /bin/netstat *
%power_users ALL=(ALL) NOPASSWD: /bin/vi /etc/filebeat/*
%power_users ALL=(ALL) NOPASSWD: /bin/chown * /etc/filebeat/*
%power_users ALL=(ALL) NOPASSWD: /sbin/service filebeat *
%power_users ALL=(ALL) NOPASSWD: /bin/systemctl * filebeat*
%power_users ALL=(ALL) NOPASSWD: /bin/systemctl * cq5*
%power_users ALL=(ALL) NOPASSWD: /bin/journalctl -* *
%power_users ALL=(ALL) NOPASSWD: /usr/local/bin/vlt *
%power_users ALL=(ALL) NOPASSWD: /sbin/service datadog-agent *
%power_users ALL=(ALL) NOPASSWD: /bin/vi /etc/dd-agent/*
%power_users ALL=(ALL) NOPASSWD: /bin/cp * /etc/dd-agent/*
%power_users ALL=(ALL) NOPASSWD: /bin/cp /etc/dd-agent/* *
%power_users ALL=(ALL) NOPASSWD: /bin/chown * dd-agent\: /etc/dd-agent/*
%power_users ALL=(ALL) NOPASSWD: /bin/chown dd-agent\: /etc/dd-agent/*
%power_users ALL=(ALL) NOPASSWD: /sbin/service oneagent *
%power_users ALL=(ALL) NOPASSWD: /bin/systemctl * oneagent*
%power_users ALL=(ALL) NOPASSWD: /bin/cp /mnt2/java_temp/* /tmp/
%power_users ALL=(ALL) NOPASSWD: /bin/chmod 444 /tmp/*


# This comment is here to serve as a reminder to have a newline at the end of this file




==================================================

modgeoip troubleshooting - 

https://adobems.service-now.com/nav_to.do?uri=%2Fchange_request.do%3Fsys_id%3D0f04935adb785010bd5a189b689619e8%26sysparm_view%3D


https://adobems.service-now.com/nav_to.do?uri=%2Fchange_request.do%3Fsys_id%3D26eebdd6db44b450a1b99345ca9619dc%26sysparm_view%3D

https://www.tecmint.com/install-mod_geoip-for-apache-in-centos/








================================================

Vansh Birthday Expenses - 

https://www.weddingindelhi.com/limousines




=============================================
RewriteCond %{HTTP:X-Forwarded-Proto} !https
SetEnvIf X-Forwarded-Proto "https" HTTPS=on

http to https


Thank you for raising the DayCare ticket. Though all dispatcher configurations are customer's responsibility but still we may suggest you the solution. In order to route the request from http to https, there is a rewrite rule that you need to implement on the corresponding vhost files in the dispatchers. 

RewriteCond %{HTTP:X-Forwarded-Proto} !https

Also apart from above, you should implement - HSTS - HTTP Strict Transport Security (HSTS) using the “Strict-Transport-Security” header to ensure the browser only sends requests over HTTPS, in their corresponding vhost files. Add these 2 lines - 


SetEnvIf X-Forwarded-Proto "https" HTTPS=on
Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains" env=HTTPS

Please check and validate on Stage environment 1st, for the stage URL - stage.nexterahome.com and then you may try on PROD, keeping AMS informed prior. 




=================================================

http://aemfaq.blogspot.com/2013/04/richtext-in-multifield-widget.html

AEM troubleshooting. 

box does not get closed / saved

172830 is the daycare ticket

===========================================================
schedule for shantanu P1's - 

https://adobe-my.sharepoint.com/:x:/r/personal/shbagchi_adobe_com/_layouts/15/Doc.aspx?sourcedoc=%7BA6375E0A-0E46-4466-9A64-146C0D5401FE%7D&file=P1_Customer%20Meetings%20Tracker_AMS%20Basic_Mar%202019.xlsx&action=default&mobileredirect=true

============================================================
aws shell 

https://github.com/awslabs/aws-shell

==============================================

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1010697977

On Call: https://skms.adobe.com/tools.oct.on_call_queue/view/?on_call_queue_id=122

shift change - on call 

New FTS skms link - >

https://skms.adobe.com/tools.oct.on_call_queue/view/?on_call_queue_id=576
======================================================

smtp

I understand that AMS provides an email server that is meant for low volume traffic. We would be using it to send notification emails from AEM re: workflow steps that need actions, and to share links to assets/collections for download to cosmopolitan employees/partners.

We understand that the mail server is provided at no extra cost, without an SLA, and as best effort, and that it is not meant for sending emails to Cosmopolitan’s Customers, but rather to Cosmopolitan’s Administrators and the like.

Written confirmation - whats the risk in Going Live without SLA


=======================================================

whenever you change something in SNOW, put "?refreshCache=true" on the end of the URL

========================================================

Author URL - > author-southernco-stage.adobemsbasic.com
gets redirected to :

https://author-southernco-stage.adobemsbasic.com/libs/granite/core/content/login.html

===============================================================

DTM

https://marketing.adobe.com/resources/help/en_US/dtm/get_started.html

=============================================================


modules installation


CHG0038776 - installation of modules 
mod_qos

CHG0042036 - installation of modules - evasive


addition by the customer - "1) Update the httpd.conf file

<IfModule mod_evasive24.c>
DOSHashTableSize 3097
DOSPageCount 20
DOSSiteCount 100
DOSPageInterval 1
DOSSiteInterval 1
DOSBlockingPeriod 20
DOSEmailNotify svankadara@fortinet.com
DOSLogDir "/mnt/var/log/httpd/mod_evasive"
#DOSWhitelist 172.30.38.48
DOSWhitelist 10.43.32.*
</IfModule>

2) Turn off the secruleengine and secrequestbodyacess to off on mod_security.conf file 
SecRuleEngine Off
SecRequestBodyAccess Off

3)Update the fortinet.com.conf file to turn on the security module

<IfModule mod_security2.c>
SecRuleEngine On
SecRequestBodyAccess On
</IfModule>

4) Update the secdebuglog and secauditlog in mod_security.conf

SecDebugLog /var/log/httpd/modsec_debug.log
SecDebugLogLevel 0
SecAuditEngine RelevantOnly
SecAuditLogRelevantStatus "^(?:5|4(?!04))"
SecAuditLogParts ABIJDEFHZ
SecAuditLogType Serial
SecAuditLog /var/log/httpd/modsec_audit.log"






TAKE A BACKUP OF THE DISPATCHER VOLUMES BEFORE IMPLEMENTING THIS CHANGE 

please install and add the conf 

Download qos_module from 
https://sourceforge.net/projects/mod-qos/

On the Stage dispatcher, perform the following steps - - >

1) yum install openssl*
2) yum install httpd-devel
3) yum install pcre-devel

Download the tar.gz file onto the dispatcher and untar it.

4) tar -xvzf mod_qos-11.54.tar.gz
5) cd mod_qos-11.54/apache2
6) apxs -i -c mod_qos.c -lcrypto -lpcre

This command will work like this below:

"root@nokia-stage4-dispatcher1euwest1:/var/tmp/mod_qos-11.54/apache2 apxs -i -c mod_qos.c -lcrypto -lpcre 

/usr/lib64/apr-1/build/libtool --silent --mode=compile gcc -std=gnu99 -prefer-pic -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic  -DLINUX -D_REENTRANT -D_GNU_SOURCE -pthread -I/usr/include/httpd  -I/usr/include/apr-1   -I/usr/include/apr-1   -c -o mod_qos.lo mod_qos.c && touch mod_qos.slo
/usr/lib64/apr-1/build/libtool --silent --mode=link gcc -std=gnu99 -Wl,-z,relro,-z,now   -o mod_qos.la  -rpath /usr/lib64/httpd/modules -module -avoid-version    mod_qos.lo -lcrypto -lpcre
/usr/lib64/httpd/build/instdso.sh SH_LIBTOOL='/usr/lib64/apr-1/build/libtool' mod_qos.la /usr/lib64/httpd/modules
/usr/lib64/apr-1/build/libtool --mode=install install mod_qos.la /usr/lib64/httpd/modules/
libtool: install: install .libs/mod_qos.so /usr/lib64/httpd/modules/mod_qos.so
libtool: install: install .libs/mod_qos.lai /usr/lib64/httpd/modules/mod_qos.la
libtool: install: install .libs/mod_qos.a /usr/lib64/httpd/modules/mod_qos.a
libtool: install: chmod 644 /usr/lib64/httpd/modules/mod_qos.a
libtool: install: ranlib /usr/lib64/httpd/modules/mod_qos.a
libtool: finish: PATH="/usr/java/latest/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/root/bin:/sbin" ldconfig -n /usr/lib64/httpd/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/lib64/httpd/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,-rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------
chmod 755 /usr/lib64/httpd/modules/mod_qos.so


"




LoadModule qos_module /etc/httpd/modules/mod_qos.so 


BACKUP THE EXISTING httpd.conf file 

and add the below into the /etc/httpd/conf/httpd.conf file - - >

## QoS Settings
<IfModule mod_qos.c>
# handles connections from up to 100000 different IPs
QS_ClientEntries 100000
# will allow only 50 connections per IP
QS_SrvMaxConnPerIP 50
# maximum number of active TCP connections is limited to 256
MaxClients 256 
# disables keep-alive when 70% of the TCP connections are occupied:
QS_SrvMaxConnClose 180
# minimum request/response speed (deny slow clients blocking the server, ie. slowloris keeping connections open without requesting anything):
QS_SrvMinDataRate 150 1200
# and limit request header and body (carefull, that limits uploads and post requests too):
# LimitRequestFields 30
# QS_LimitRequestBody 102400
</IfModule>

Reload / restart the httpd service
=========================================================
https://wiki.corp.adobe.com/display/MSTeam/CQ+AMS+Dispatcher+Troubleshooting+-+SELinux

httpd - restorecon troubleshooting


mkdir /mnt/var/www/html
chown apache:apache /mnt/var/www/html
mkdir /mnt/var/log/httpd
semanage fcontext -a -t httpd_sys_rw_content_t "/mnt/var/www(/.*)?"
semanage fcontext -a -t httpd_log_t "/mnt/var/log/httpd(/.*)?"
restorecon -R /mnt/var
systemctl start httpd


===============================================================
configure ssh for git

[]
https://git.corp.adobe.com/settings/keys

Git for dispatchers - 

https://git.corp.adobe.com/Pyramid/ams-dispatcher-configuration/tree/master/B62


=============================================================

changes

CHG0034846 - stop instances
CHG0035077 - Install ImageMagick and ffmpeg on Stage environment
=========================================================

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=849085149

wiki page for AWS Accounts
=========================================================

https://helpx.adobe.com/experience-manager/6-4/sites/administering/using/saml-2-0-authenticationhandler.html

SAML with aem 6.4
===========================================================

Dear Customer, 

We are getting an alert regarding High CPU Load on telstra-prod1-author instance, as shown below :



top - 01:05:57 up 36 days, 21:41,  1 user,  load average: 4.31, 4.18, 4.16

Tasks: 116 total,   1 running, 115 sleeping,   0 stopped,   0 zombie

Cpu(s): 98.7%us,  1.0%sy,  0.0%ni,  0.3%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st

Mem:   7513528k total,  7281848k used,   231680k free,   137384k buffers

Swap:  4194300k total,   138424k used,  4055876k free,  1744160k cached

 

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                                                           

31182 crx       20   0 9690m 5.1g 507m S 197.5 71.0   2514:08 java                                                                                                                                              

    1 root      20   0 59560  18m  848 S  0.7  0.3  24:31.99 init                                                                                                                                               

Looking at the logs, seems no activity is in process. We have taken the threadumps though and kept under /tmp - - > threaddump-09_24_17.tar.gz. Please check and investigate further. We'll are already having a close look on the same. In case of any concerns, please raise a Day Care ticket. 



Regards, 

Meet Kumar Jain

Adobe Managed Services


========================================================================
delete instances - topology

====================================================================
updating host file 

sudo /bin/vi /etc/sysconfig/set_etc_hosts.base
sudo /etc/init.d/set_etc_hosts start

============================================================

Author URL was not opening...

author-hesta-prod3.adobemsbasic.com

however 

author-hesta-prod3.adobemsbasic.com/lib ... was opening

/system/console/configMgr

Apache Sling Authentication Service.
Allow Anonymous Access was checked on Stage. Unchecking this forced the Anonymous user to log in with credentials.


how to delete anonymous user - 

curl -u admin:e\[4A\}uCHmV\?7@Z\{PBb0fIZhS -FdeleteAuthorizable= http://40.78.83.248:4502/home/users/L/LIGQHfEV9t71OyK5McL4

===

https://docs.adobe.com/content/help/en/experience-manager-65/administering/security/security.html#UsersandGroupsinAEM 
to check the usage of anonymous user

https://wiki.corp.adobe.com/display/MSTeam/How+To+Re-enable+The+Anonymous+User+Account

Meet and I continued working on this - thanks for specifying the date the change was made.  We were able to pinpoint the anonymous node by checking the logs [1] which was /home/users/L/LIGQHfEV9t71OyK5McL4 .

We attempted to use cURL command to enable the anonymous user which returned 200 response and successful, however, the user did not seem to get enabled:

curl -u admin:******** http://40.78.83.248:4502/libs/granite/security/content/v2/usereditor.html/home/users/L/LIGQHfEV9t71OyK5McL4.rw.userprops.html --data 'disableUser=&_charset_=utf-8' --compressed


Changes to the anonymous user via cURL command did not seem to take effect , even with successful response:

curl -u admin:******** -FdeleteAuthorizable= http://40.78.83.248:4502/home/users/L/LIGQHfEV9t71OyK5McL4


We, lastly, issued the cURL command to delete the anonymous user and restarted the AEM instance which was successful and brought the STAGE Author instance back up and running.  Please test and confirm STAGE Author is good.  Note that deleting the anonymous user and restarting the instance creates a new default anonymous user.  Any changes made to this user will have to be performed again such as password change , etc.  New anonymous user on Stage Author is at node /home/users/7/76an7qWMQrLQQzRcqLv7.

Note, we temporarily whitelisted port 4502 because cURL was not accepting https protocol - Meet has removed this whitelist 4502 and the server is in original state


The commands are  - >

root@fleetcor-prod7-author1useast1:/var/log/aem grep -i "POST /home/user" error.log | grep -i anonymous
26.09.2019 16:38:21.471 *INFO* [10.43.32.81 [1569515901468] POST /home/users/W/WWqJKAJGUb8EcLwbiRw6.rw.html HTTP/1.1] com.adobe.granite.security.user.internal.servlets.AuthorizableServlet Edit User 'anonymou' operation initiated by User 'wayne.christian' (not administrator)

meejain-macOS:~ meejain$ curl -u admin:i2V1{@}PjkN291 -F "disableUser=" http://18.211.13.59:4502/home/users/W/WWqJKAJGUb8EcLwbiRw6
<html>
<head>
    <title>Content modified /home/users/W/WWqJKAJGUb8EcLwbiRw6</title>
</head>
    <body>
    <h1>Content modified /home/users/W/WWqJKAJGUb8EcLwbiRw6</h1>
    <table>
        <tbody>
            <tr>
                <td>Status</td>
                <td><div id="Status">200</div></td>
            </tr>
            <tr>
                <td>Message</td>
                <td><div id="Message">OK</div></td>
            </tr>
            <tr>
                <td>Location</td>
                <td><a href="/home/users/W/WWqJKAJGUb8EcLwbiRw6" id="Location">/home/users/W/WWqJKAJGUb8EcLwbiRw6</a></td>
            </tr>
            <tr>
                <td>Parent Location</td>
                <td><a href="/home/users/W" id="ParentLocation">/home/users/W</a></td>
            </tr>
            <tr>
                <td>Path</td>
                <td><div id="Path">/home/users/W/WWqJKAJGUb8EcLwbiRw6</div></td>
            </tr>
            <tr>
                <td>Referer</td>
                <td><a href="" id="Referer"></a></td>
            </tr>
            <tr>
                <td>ChangeLog</td>
                <td><div id="ChangeLog">&lt;pre&gt;&lt;/pre&gt;</div></td>
            </tr>
        </tbody>
    </table>
    <p><a href="">Go Back</a></p>
    <p><a href="/home/users/W/WWqJKAJGUb8EcLwbiRw6">Modified Resource</a></p>
    <p><a href="/home/users/W">Parent of Modified Resource</a></p>
    </body>
</html>meejain-macOS:~ meejain$ 
meejain-macOS:~ meejain$ 
meejain-macOS:~ meejain$ 

curl -u admin:kC<Y<8vv{Hr{E+uZYK]MKspP -F "disableUser=" http://13.86.116.235:4502/home/users/I/IaVvNRn37RfytQP4rKSv

==========================================================

https://www.adobeaemcloud.com/content/packageshare/tools/login.html?resource=%2Fcontent%2Fpackageshare.html&$$login$$=%24%24login%24%24

packageshare to downlaod the packages

=============================================================================

GOC email 

DL-TechOps-NOC <TechOps-NOC@adobe.com>

==========================================================

h&m 

https://productforums.google.com/forum/#!forum/youtube

https://productforums.google.com/forum/#!topic/youtube/cJGC_3dmqWQ;context-place=forum/youtube

==============================================

command to get the segment store size otc / dsgc


=============================
dispatcher flush agents

Host: flush

error:

2018-10-19 20:57:43 - << Date: Fri, 19 Oct 2018 20:57:43 GMT
2018-10-19 20:57:43 - << Server: Apache
2018-10-19 20:57:43 - << X-Vhost: catch-all
2018-10-19 20:57:43 - << X-Dispatcher: dispatcher2uswest2
2018-10-19 20:57:43 - << Last-Modified: Thu, 27 Sep 2018 18:28:13 GMT
2018-10-19 20:57:43 - << ETag: "2442-576de80793249"
2018-10-19 20:57:43 - << Accept-Ranges: bytes

=============================================

Our synthetics monitoring notified Monitor failed for location Portland, OR, USA. I have checked the website http://www.cylance.com running perfectly fine . AEM server health is looking good too. Its a false positive alert. 

==================================

CSR for ssk 

https://tecadmin.net/simple-steps-to-generate-csr-on-centos/#


==============================
S3 migration
https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1444265139

repository corrupt - 

https://helpx.adobe.com/experience-manager/kb/offline-compaction-fails-with-SegmentNotFoundException-and-IllegalArgumentException.html

For Azure - >

https://wiki.corp.adobe.com/display/MSTeam/Manual+Upgrade+to+AEM+6.5+in+Azure-+MSCentral+is+not+working
https://wiki.corp.adobe.com/display/MSTeam/Manual+Upgrade+to+AEM+6.5+in+Azure-+MSCentral+is+not+working

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=2172882385 - Shujat created for azure 

Jason Shueh  3:46 AM
aem uses a 10 year token
3:48
https://jira.corp.adobe.com/browse/AMSAUTO-5156 
:+1:
1


Razvan Onel  11:51 AM
replied to a thread:
I check any other customer - same the SAS token is starting from the current time and ends just 24 hrs later
That's because on that blade of the Azure Portal, you can only generate a new SAS token, it doesn't control already created tokens since by default a SAS token which is created cannot be revoked unless you regenerate the storage account keys or implement a SAS policy prior

==================================

Meet Kumar Jain [4:14 AM]
https://wiki.corp.adobe.com/display/MSTeam/AMSTOOL

=========================================

Please remember that we have enabled SSL at instance level to make it more secured. Hence there is no need of entering ports 4502 OR 4503 while accessing crx/de or /system/console portals. You can simply access the crx/de console via :

1) https:// IP of author OR publisher/crx/de.   No need of entering ports - 4502 OR 4503 for eg - > Ip of author :4502/crx/de OR IP of pub:4503/crx/de. Please check and validate further. Hence there is no need to whitelist any IP for 4502 or 4503 ports. Simply https. 

2) Similarly to check bundles, no need to enter the port no's - 4502 OR 4503. Simply check the bundles by https - - -> https:// IP of author OR publisher/system/console/bundles. 



========================================

https://wiki.corp.adobe.com/display/MSTeam/Recovering+an+AWS+EIP+That+Has+Been+Released+From+Our+Account

Recovering an AWS EIP That Has Been Released From Our Account
Skip to end of metadata
Created by Brett Neilson, last modified by Larry Raab on Oct 30, 2017 Go to start of metadata
When you disassociate an Elastic IP from an instance it stays allocated to our AWS account.  However, if you release the EIP from the account it is put back into a pool and is available for any AWS customer.
In the off chance you release an EIP from our account and need to get it back the commands below may be able to help.  As the Elastic IP is available for reassignment after it is released, you will need to do this as soon as possible so that it is not re-assigned.
Step-by-step guide
From the AWS CLI you will issue the following command where #.#.#.# is the IP that you would like to request from the pool
aws ec2 --profile [your AWS config profile] --region [as appropriate] allocate-address --domain vpc --address #.#.#.#
  
example real use case:
aws --profile bpbu17  --region us-west-2 ec2 allocate-address --domain vpc --address 34.209.74.142


======================================================

number MONREQ-44884 

raised

====================================
Before we can start, may you please share the correct AWS region that you would like your AMS Basic topologies to be provisioned in? I have included a link to AWS documentation that describes the different regions in which we can deploy in.
 
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-available-regions
 
Regards,
 
Meet Kumar Jain
 
Adobe Managed Services

email by tim bonnett

=======================================================


Team,
If you run into a system where the internal ip is appearing on the BASH prompt instead of the host name you can run the following command to fix it.
hostnamectl set-hostname `sed -n 2p /etc/sysconfig/set_etc_hosts | cut -d'=' -f 2`
 
Thank you!
 
Larry Raab
Jr. Customer Success Engineer
Adobe 

==============================================================
hmac & master keys copy from author to pubs

https://docs.adobe.com/content/help/en/experience-manager-65/administering/security/encapsulated-token.html#replicating-the-hmac-key

https://helpx.adobe.com/experience-manager/6-3/sites/administering/using/security-checklist.html#MakeSureYouProperlyReplicateEncryptionKeysWhenNeeded
helpx.adobe.com

https://helpx.adobe.com/experience-manager/6-3/sites/administering/using/security-checklist.html#MakeSureYouProperlyReplicateEncryptionKeysWhenNeeded
Security Checklist
Learn about the various security considerations when configuring and deploying AEM.

grep -iR crypto.jar * - find the bundle 

mnt/crx/publish/crx-quickstart/launchpad/felix/bundle25/data

If you use AEM as a CMS for your site, one day you will need to think about securely storing your sensitive data like passwords. In order to keep your data secure, you can use the  CryptoSupport service that comes with AEM. CryptoSupport uses unique keys to decrypt/encrypt data for each AEM instance, but it’s not convenient for developers to decrypt the data for each local or test instance.

Fortunately, AEM has ways to replicate the keys (HMAC and Master files) throughout your AEM instances. The process is well documented on the Adobe site, but here are some issues you can come across.


============================================================


https://docs.adobe.com/content/help/en/experience-manager-65/administering/security/encapsulated-token.html

Stateless Authentication with the Encapsulated Token


========================================================

https://aws.psiexams.com/#/dashboard

aws certification

==========================================

C06mYobRT*{nKjL

dropbox 63


INC0242053


CHG0037247 - scheduled for tuesday - 11 am 



=================================

https://wiki.corp.adobe.com/display/MSTeam/AMS+Basic+to+AMS+Enterprise+Transition

basic to enterprise transition

=====================================
chef videos

https://www.youtube.com/watch?v=egvEPsVMfK0
https://www.youtube.com/watch?v=LTIjUJEehDA&t=125s


chef wiki pages:

https://wiki.corp.adobe.com/pages/viewpage.action?pageId=1429972165

https://wiki.corp.adobe.com/display/MSTeam/Chef+Enterprise+Server+-+Boostrapping+Nodes#ChefEnterpriseServer-BoostrappingNodes-BootstrappingPrep

https://git.corp.adobe.com/gist/lraab/2d3775964a0e4907e2f5d5eaa68bdb2f

basicboot.sh file for bootstrapping

amstool cache basic
amstool list basic | grep -i customer

check the topology

./basicboot.sh topology

knife search name:tods* -a aem.version

to know the aem version via chef

https://chefms.adobecqms.net/login

==============================

• Also, we can refer them to perform a ping test using:

http://www.cloudping.info

            to determine the least latent route.

            by james


=====================================================

wiki link for team basic meeting notes

https://wiki.corp.adobe.com/display/MSTeam/Team+Meetings

============================================================

system/console/status-productinfo

aem version

===================================================
https://daycare.day.com/home/savillsstudleycom/savillsstudleycom_us/managed_services/143230.html

brand portal


Brand Portal is a multi-tenant SaaS offering and currently it is fixed to the domain *.brand-portal.adobe.com.


Instructions for configuring a Brand Portal integration can be found in the documentation here:

https://helpx.adobe.com/experience-manager/6-5/assets/using/brand-portal-configuring-integration.html

Instructions about how to publish assets from AEM to Brand Portal can be found in our documentation here:

https://helpx.adobe.com/experience-manager/6-5/assets/using/brand-portal-publish-folder.html

========================================================
bar
https://in.pinterest.com/pin/37225134404011776/?lp=true

=========================================

https://adobems.service-now.com/navpage.do
https://portal.ams.adobe.net/
https://iam.corp.adobe.com/
https://provisioninghub.corp.adobe.com/
http://torrid.experiencecloud.adobe.com/
http://noida-ssh-out.corp.adobe.com/
https://synthetics.newrelic.com/accounts/1325417/monitors
https://portal.ams.adobe.net/idp/AuthnEngine#/authn







=================================================================

tcpdump - 

https://opensource.com/article/18/10/introduction-tcpdump

tcpdump -i any -w ~/captures/capture_%Y-%m-%d-%H-%M-%S.cap -G 30 -n -X -Z $USER “port 25”

tcpdump -i any -c5 -nn port 80

===============================================

Equinix stage 

Customer_IPs

27.111.246.96/29,183.177.57.0/29,140.206.77.114/31,138.206.218.128/27,103.140.211.32/29,175.193.239.224/27,103.8.180.240/29,202.177.193.200/29,27.111.189.248/29,202.79.220.0/27,46.28.243.104/29,94.155.62.160/28,88.80.164.32/28,217.69.16.112/28,81.29.192.0/27,80.69.16.112/29,88.84.92.208/29,80.69.10.96/28,95.214.72.32/29,77.92.133.144/28,87.108.23.32/28,85.119.1.160/27,85.119.1.152/29,217.68.144.64/28,94.207.33.192/29,94.200.104.224/27,217.114.160.80/29,94.103.16.160/27,64.191.195.0/24,64.191.204.0/24,64.191.206.0/23,64.191.248.0/23,206.223.132.0/24,206.223.134.0/24,207.20.85.0/24,216.221.224.0/24,216.221.225.0/24,216.221.228.0/24,216.221.230.0/24,216.221.231.0/24,216.221.232.0/24,64.191.224.0/24,64.191.226.0/23,64.191.238.0/23,206.223.135.0/24,208.115.142.0/23,64.191.222.0/24,64.191.255.0/24,103.43.112.96/30,107.198.89.105/32,182.55.240.44/32,10.192.168.233/32


80,443



Cloud_manager_IPs

13.68.128.0/17,13.72.64.0/18,13.82.0.0/16,13.90.0.0/16,13.92.0.0/16,20.38.98.0/24,20.39.32.0/19,20.42.0.0/17,20.185.0.0/16,20.190.130.0/24,23.96.0.0/17,23.98.45.0/24,23.100.16.0/20,23.101.128.0/20,40.64.0.0/16,40.71.0.0/16,40.76.0.0/16,40.78.219.0/24,40.78.224.0/21,40.79.152.0/21,40.80.144.0/21,40.82.24.0/22,40.82.60.0/22,40.85.160.0/19,40.87.0.0/17,40.87.164.0/22,40.88.0.0/16,40.90.130.96/28,40.90.131.224/27,40.90.136.16/28,40.90.136.32/27,40.90.137.96/27,40.90.139.224/27,40.90.143.0/27,40.90.146.64/26,40.90.147.0/27,40.90.148.64/27,40.90.150.32/27,40.90.224.0/19,40.91.4.0/22,40.112.48.0/20,40.114.0.0/17,40.117.32.0/19,40.117.64.0/18,40.117.128.0/17,40.121.0.0/16,40.126.2.0/24,52.108.16.0/21,52.109.12.0/22,52.114.132.0/22,52.125.132.0/22,52.136.64.0/18,52.142.0.0/18,52.143.207.0/24,52.146.0.0/17,52.147.192.0/18,52.149.128.0/17,52.150.0.0/17,52.151.128.0/17,52.152.128.0/17,52.154.64.0/18,52.159.96.0/19,52.168.0.0/16,52.170.0.0/16,52.179.0.0/17,52.186.0.0/16,52.188.0.0/16,52.190.0.0/17,52.191.0.0/18,52.191.64.0/19,52.191.96.0/21,52.191.104.0/27,52.191.105.0/24,52.191.106.0/24,52.191.112.0/20,52.191.192.0/18,52.224.0.0/16,52.226.0.0/16,52.232.146.0/24,52.234.128.0/17,52.239.152.0/22,52.239.168.0/22,52.239.207.192/26,52.239.214.0/23,52.239.220.0/23,52.239.246.0/23,52.239.252.0/24,52.240.0.0/17,52.245.8.0/22,52.245.104.0/22,52.249.128.0/17,52.253.160.0/24,52.255.128.0/17,65.54.19.128/27,104.41.128.0/19,104.44.91.32/27,104.44.94.16/28,104.44.95.160/27,104.44.95.240/28,104.45.128.0/18,104.45.192.0/20,104.211.0.0/18,137.116.112.0/20,137.117.32.0/19,137.117.64.0/18,137.135.64.0/18,138.91.96.0/19,157.56.176.0/21,168.61.32.0/20,168.61.48.0/21,168.62.32.0/19,168.62.160.0/19,191.233.16.0/21,191.234.32.0/19,191.236.0.0/18,191.237.0.0/17,191.238.0.0/18


80,443


APPLICATION-GATEWAY-HTTP-HTTPS-ACCESS

103.43.112.97/32,104.102.248.0/24,104.104.52.0/24,104.119.189.0/24,104.124.56.0/24,104.124.60.0/24,104.70.235.0/24,172.232.1.0/24,172.232.13.0/24,184.28.156.0/24,23.15.241.0/24,23.200.142.0/24,23.219.159.0/24,23.3.88.0/24,23.35.110.0/24,23.35.111.0/24,23.47.73.0/24,23.56.169.0/24,23.61.244.0/24,23.62.239.0/24,23.62.35.0/24,23.67.60.0/24,23.223.202.0/24,23.56.175.0/24,67.220.142.19/32,67.220.142.20/32,67.220.142.21/32,67.220.142.22/32,66.198.8.141/32,66.198.8.142/32,66.198.8.143/32,66.198.8.144/32,23.48.168.0/22,23.50.48.0/20

80,443



Hi,
 
Thank you for your email.
I am currently out on PTO and will return back to work on 10th Dec’20.
 
During this time you may reach out to my Team email address manserv-cea@adobe.com for any Technical Issue in AMS Basic.
 
For any urgent issue which requires Management attention, please forward your request to my Manager, Shantanu Bagchi <shbagchi@adobe.com> 
 
Else, I will respond to your email upon my return.
 
Thanks for your understanding,
 
Meet Kumar Jain
Adobe Managed Services



DPSS = 

sg-03d33e3f28d9c2267, dpsslacounty-stage1-vpc1uswest1LoadBalancerSecurityGroup-Cloud-Manager-3
SecurityGroup-Cloud-Manager-3
sg-0ab28aa372a78557b, dpsslacounty-stage1-vpc1uswest1LoadBalancerSecurityGroup-1HH2MNTZD6ESM
Security Group for the externally facing load-balancers within the topology. (dpsslacounty-stage1)
sg-0b2228f1fb35560d9, dpsslacounty-stage1-vpc1uswest1LoadBalancerSecurityGroup-Cloud-Manager-2
SecurityGroup-Cloud-Manager-2
sg-0db03d04e6c5a3026, dpsslacounty-stage1-vpc1uswest1LoadBalancerSecurityGroup-Cloud-Manager
SecurityGroup-Cloud-Manager
sg-0fb7528a488087db6, dpsslacounty-stage1-vpc1uswest1LoadBalancerSecurityGroup-Cloud-Manager-1
SecurityGroup-Cloud-Manager-1


{
  "Washington, DC, USA" : [ "34.201.89.115", "35.168.185.185", "3.218.236.95", "52.21.22.43", "34.224.255.169", "52.44.71.247", "54.227.245.241", "3.221.145.110", "35.168.141.9", "3.221.27.116", "3.215.91.250", "3.220.18.219" ],
  "Columbus, OH, USA" : [ "18.217.88.49", "18.221.231.23", "18.217.159.174" ],
  "San Francisco, CA, USA" : [ "13.56.137.180", "54.241.167.218", "54.241.52.158", "13.56.108.119", "13.56.174.59", "13.56.215.207" ],
  "Portland, OR, USA" : [ "54.203.193.46", "54.200.187.189", "54.203.108.135", "34.212.63.124", "52.36.251.118", "35.161.251.132", "44.236.111.66", "34.216.201.131" ],
  "Montreal, QuÃ©bec, CA" : [ "99.79.105.160", "3.96.243.128", "52.60.83.48", "35.182.104.198", "52.60.97.235", "3.97.226.155" ],
  "Dublin, IE" : [ "54.76.137.83", "34.241.198.127", "18.200.73.249", "99.81.135.174", "34.253.119.85", "34.242.252.249" ],
  "London, England, UK" : [ "3.9.187.63", "35.177.175.106", "3.9.92.122", "35.177.31.93", "3.9.213.212", "35.178.22.102" ],
  "Paris, FR" : [ "52.47.183.1", "52.47.151.56", "52.47.138.207" ],
  "Frankfurt, DE" : [ "52.58.229.238", "18.194.77.136", "35.157.232.3", "18.195.163.71", "35.158.225.167", "18.196.119.136" ],
  "Stockholm, SE" : [ "13.48.9.24", "13.48.110.136", "13.53.195.221" ],
  "Milan, IT" : [ "15.161.119.200", "15.161.69.157", "15.161.87.25" ],
  "Tokyo, JP" : [ "54.250.11.193", "52.193.74.189", "18.177.40.17", "3.113.159.236", "13.114.248.197", "3.113.102.86", "52.68.223.178", "3.114.36.82" ],
  "Seoul, KR" : [ "52.79.48.153", "52.79.128.135", "52.79.210.83", "3.34.173.249" ],
  "Singapore, SG" : [ "52.76.65.141", "18.139.186.140", "3.0.242.34", "18.139.152.11", "13.228.35.210", "13.228.39.146", "52.76.41.181", "18.138.16.42", "54.179.195.220" ],
  "Sydney, AU" : [ "13.55.231.24", "13.239.163.169", "13.237.52.169", "54.79.127.20", "54.153.159.26", "13.55.72.115" ],
  "Mumbai, IN" : [ "65.1.222.35", "13.127.97.140", "13.127.48.170" ],
  "Hong Kong, HK" : [ "18.162.140.46", "18.162.37.58", "18.162.37.84" ],
  "SÃ£o Paulo, BR" : [ "18.229.241.206", "52.67.114.110", "18.231.56.185", "18.229.16.152", "54.94.27.80", "18.229.8.13" ],
  "Manama, BH" : [ "157.175.118.77", "157.175.21.254", "157.175.116.90" ],
  "Cape Town, ZA" : [ "13.244.134.146", "13.245.57.13", "13.244.44.41" ]
}




